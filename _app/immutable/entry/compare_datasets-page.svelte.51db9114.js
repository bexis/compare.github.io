var cs=Object.defineProperty;var fs=(n,e,t)=>e in n?cs(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var m=(n,e,t)=>(fs(n,typeof e!="symbol"?e+"":e,t),t);import{S as Ce,i as Ae,s as Fe,e as M,b as $,T as de,h as d,q as G,r as K,u as pe,a as Y,k as A,c as J,l as F,a2 as je,m as j,n as N,D as k,C as us,E as ds,F as hs,G as _s,g as R,d as S,N as it,_ as ye,I as he,J as ps,v as fe,f as ue,w as Oe,x as Ve,y as ee,z as ne,A as te,R as ve,ab as Pt,B as se,o as Gt,a8 as Kt,a9 as Lt,L as me,M as zt,a5 as Ut,a6 as Pe,a4 as ce,ac as Ge,U as He,aa as at,ad as Ke}from"../chunks/index.865c8369.js";import{d as bs}from"../chunks/index.es6.e3d92ab8.js";import{g as We,b as ct,t as ft,c as Xe,h as ut,i as Me}from"../chunks/store.5b6f0a3c.js";import{P as gs}from"../chunks/ProgressRadial.f1491068.js";import{d as le,r as De,w as ke}from"../chunks/index.daf53a58.js";import{g as ms,f as vs}from"../chunks/utils.21f4f64d.js";function dt(n,e,t){const s=n.slice();return s[2]=e[t],s}function ws(n){let e;return{c(){e=G(n[0])},l(t){e=K(t,n[0])},m(t,s){$(t,e,s)},p(t,s){s&1&&pe(e,t[0])},d(t){t&&d(e)}}}function ks(n){let e,t,s,r,l,i,o=n[1],a=[];for(let c=0;c<o.length;c+=1)a[c]=_t(dt(n,o,c));return{c(){e=G(n[0]),t=Y(),s=A("br"),r=A("br"),l=Y();for(let c=0;c<a.length;c+=1)a[c].c();i=M()},l(c){e=K(c,n[0]),t=J(c),s=F(c,"BR",{}),r=F(c,"BR",{}),l=J(c);for(let f=0;f<a.length;f+=1)a[f].l(c);i=M()},m(c,f){$(c,e,f),$(c,t,f),$(c,s,f),$(c,r,f),$(c,l,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(c,f);$(c,i,f)},p(c,f){if(f&1&&pe(e,c[0]),f&2){o=c[1];let u;for(u=0;u<o.length;u+=1){const p=dt(c,o,u);a[u]?a[u].p(p,f):(a[u]=_t(p),a[u].c(),a[u].m(i.parentNode,i))}for(;u<a.length;u+=1)a[u].d(1);a.length=o.length}},d(c){c&&d(e),c&&d(t),c&&d(s),c&&d(r),c&&d(l),je(a,c),c&&d(i)}}}function ht(n){let e,t=n[2].value+"",s,r;return{c(){e=A("span"),s=G(t),this.h()},l(l){e=F(l,"SPAN",{class:!0});var i=j(e);s=K(i,t),i.forEach(d),this.h()},h(){N(e,"class",r=n[2].added?"bg-green-100 dark:bg-surface-900 text-green-400":n[2].removed?"bg-red-100 dark:bg-surface-900 text-red-400":"")},m(l,i){$(l,e,i),k(e,s)},p(l,i){i&2&&t!==(t=l[2].value+"")&&pe(s,t),i&2&&r!==(r=l[2].added?"bg-green-100 dark:bg-surface-900 text-green-400":l[2].removed?"bg-red-100 dark:bg-surface-900 text-red-400":"")&&N(e,"class",r)},d(l){l&&d(e)}}}function _t(n){let e,t=(n[2].added||n[2].removed)&&ht(n);return{c(){t&&t.c(),e=M()},l(s){t&&t.l(s),e=M()},m(s,r){t&&t.m(s,r),$(s,e,r)},p(s,r){s[2].added||s[2].removed?t?t.p(s,r):(t=ht(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&d(e)}}}function $s(n){let e;function t(l,i){return l[1].length>1?ks:ws}let s=t(n),r=s(n);return{c(){r.c(),e=M()},l(l){r.l(l),e=M()},m(l,i){r.m(l,i),$(l,e,i)},p(l,[i]){s===(s=t(l))&&r?r.p(l,i):(r.d(1),r=s(l),r&&(r.c(),r.m(e.parentNode,e)))},i:de,o:de,d(l){r.d(l),l&&d(e)}}}function Es(n,e,t){let{diff_orig:s=""}=e,{diff:r=[]}=e;return n.$$set=l=>{"diff_orig"in l&&t(0,s=l.diff_orig),"diff"in l&&t(1,r=l.diff)},[s,r]}class ys extends Ce{constructor(e){super(),Ae(this,e,Es,$s,Fe,{diff_orig:0,diff:1})}}const qt=n=>{const e=Object.entries(n),t=e.map(([s])=>s);return le(e.map(([,s])=>s),s=>Object.fromEntries(s.map((r,l)=>[t[l],r])))},Cs=n=>n&1,As=n=>({}),pt=n=>({...n[0]});function Fs(n){let e;const t=n[3].default,s=us(t,n,n[2],pt);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,l){s&&s.m(r,l),e=!0},p(r,[l]){s&&s.p&&(!e||l&5)&&ds(s,t,r,r[2],Cs(l)||!e?hs(r[2]):_s(t,r[2],l,As),pt)},i(r){e||(R(s,r),e=!0)},o(r){S(s,r),e=!1},d(r){s&&s.d(r)}}}function Rs(n,e,t){const s=[];let r=it(e,s),l,{$$slots:i={},$$scope:o}=e;const a=qt(r);return ye(n,a,c=>t(0,l=c)),n.$$set=c=>{e=he(he({},e),ps(c)),t(4,r=it(e,s)),"$$scope"in c&&t(2,o=c.$$scope)},[l,a,o,i]}class Se extends Ce{constructor(e){super(),Ae(this,e,Rs,Fs,Fe,{})}}function bt(n,e,t){const s=n.slice();return s[5]=e[t],s}function Is(n){let e,t,s;const r=[n[2]??{}];var l=n[1].component;function i(o){let a={$$slots:{default:[js]},$$scope:{ctx:o}};for(let c=0;c<r.length;c+=1)a=he(a,r[c]);return{props:a}}return l&&(e=Ve(l,i(n)),n[4](e)),{c(){e&&ee(e.$$.fragment),t=M()},l(o){e&&ne(e.$$.fragment,o),t=M()},m(o,a){e&&te(e,o,a),$(o,t,a),s=!0},p(o,a){const c=a&4?ve(r,[Pt(o[2]??{})]):{};if(a&258&&(c.$$scope={dirty:a,ctx:o}),a&2&&l!==(l=o[1].component)){if(e){fe();const f=e;S(f.$$.fragment,1,0,()=>{se(f,1)}),ue()}l?(e=Ve(l,i(o)),o[4](e),ee(e.$$.fragment),R(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else l&&e.$set(c)},i(o){s||(e&&R(e.$$.fragment,o),s=!0)},o(o){e&&S(e.$$.fragment,o),s=!1},d(o){n[4](null),o&&d(t),e&&se(e,o)}}}function Ds(n){let e,t,s;const r=[n[2]??{}];var l=n[1].component;function i(o){let a={};for(let c=0;c<r.length;c+=1)a=he(a,r[c]);return{props:a}}return l&&(e=Ve(l,i()),n[3](e)),{c(){e&&ee(e.$$.fragment),t=M()},l(o){e&&ne(e.$$.fragment,o),t=M()},m(o,a){e&&te(e,o,a),$(o,t,a),s=!0},p(o,a){const c=a&4?ve(r,[Pt(o[2]??{})]):{};if(a&2&&l!==(l=o[1].component)){if(e){fe();const f=e;S(f.$$.fragment,1,0,()=>{se(f,1)}),ue()}l?(e=Ve(l,i()),o[3](e),ee(e.$$.fragment),R(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else l&&e.$set(c)},i(o){s||(e&&R(e.$$.fragment,o),s=!0)},o(o){e&&S(e.$$.fragment,o),s=!1},d(o){n[3](null),o&&d(t),e&&se(e,o)}}}function gt(n){let e,t;return e=new et({props:{of:n[5]}}),{c(){ee(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,r){te(e,s,r),t=!0},p(s,r){const l={};r&2&&(l.of=s[5]),e.$set(l)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){se(e,s)}}}function js(n){let e,t,s=n[1].children,r=[];for(let i=0;i<s.length;i+=1)r[i]=gt(bt(n,s,i));const l=i=>S(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=M()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);e=M()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);$(i,e,o),t=!0},p(i,o){if(o&2){s=i[1].children;let a;for(a=0;a<s.length;a+=1){const c=bt(i,s,a);r[a]?(r[a].p(c,o),R(r[a],1)):(r[a]=gt(c),r[a].c(),R(r[a],1),r[a].m(e.parentNode,e))}for(fe(),a=s.length;a<r.length;a+=1)l(a);ue()}},i(i){if(!t){for(let o=0;o<s.length;o+=1)R(r[o]);t=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)S(r[o]);t=!1},d(i){je(r,i),i&&d(e)}}}function Ss(n){let e,t,s,r;const l=[Ds,Is],i=[];function o(a,c){return a[1].children.length===0?0:1}return e=o(n),t=i[e]=l[e](n),{c(){t.c(),s=M()},l(a){t.l(a),s=M()},m(a,c){i[e].m(a,c),$(a,s,c),r=!0},p(a,[c]){let f=e;e=o(a),e===f?i[e].p(a,c):(fe(),S(i[f],1,1,()=>{i[f]=null}),ue(),t=i[e],t?t.p(a,c):(t=i[e]=l[e](a),t.c()),R(t,1),t.m(s.parentNode,s))},i(a){r||(R(t),r=!0)},o(a){S(t),r=!1},d(a){i[e].d(a),a&&d(s)}}}function Ts(n,e,t){let{instance:s=void 0}=e,{config:r}=e,{props:l=void 0}=e;function i(a){Oe[a?"unshift":"push"](()=>{s=a,t(0,s)})}function o(a){Oe[a?"unshift":"push"](()=>{s=a,t(0,s)})}return n.$$set=a=>{"instance"in a&&t(0,s=a.instance),"config"in a&&t(1,r=a.config),"props"in a&&t(2,l=a.props)},[s,r,l,i,o]}class Yt extends Ce{constructor(e){super(),Ae(this,e,Ts,Ss,Fe,{instance:0,config:1,props:2})}}const xe=n=>(n==null?void 0:n.subscribe)instanceof Function,Bs=De(void 0);function Hs(n){let e,t,s;function r(i){n[3](i)}let l={config:n[0],props:n[0].props};return n[1]!==void 0&&(l.instance=n[1]),e=new Yt({props:l}),Oe.push(()=>Kt(e,"instance",r)),{c(){ee(e.$$.fragment)},l(i){ne(e.$$.fragment,i)},m(i,o){te(e,i,o),s=!0},p(i,o){const a={};o&1&&(a.config=i[0]),o&1&&(a.props=i[0].props),!t&&o&2&&(t=!0,a.instance=i[1],Lt(()=>t=!1)),e.$set(a)},i(i){s||(R(e.$$.fragment,i),s=!0)},o(i){S(e.$$.fragment,i),s=!1},d(i){se(e,i)}}}function Ms(n){let e,t;return e=new Se({props:{props:n[0].props,$$slots:{default:[Ns,({props:s})=>({4:s}),({props:s})=>s?16:0]},$$scope:{ctx:n}}}),{c(){ee(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,r){te(e,s,r),t=!0},p(s,r){const l={};r&1&&(l.props=s[0].props),r&51&&(l.$$scope={dirty:r,ctx:s}),e.$set(l)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){se(e,s)}}}function Ns(n){let e,t,s;function r(i){n[2](i)}let l={config:n[0],props:n[4]};return n[1]!==void 0&&(l.instance=n[1]),e=new Yt({props:l}),Oe.push(()=>Kt(e,"instance",r)),{c(){ee(e.$$.fragment)},l(i){ne(e.$$.fragment,i)},m(i,o){te(e,i,o),s=!0},p(i,o){const a={};o&1&&(a.config=i[0]),o&16&&(a.props=i[4]),!t&&o&2&&(t=!0,a.instance=i[1],Lt(()=>t=!1)),e.$set(a)},i(i){s||(R(e.$$.fragment,i),s=!0)},o(i){S(e.$$.fragment,i),s=!1},d(i){se(e,i)}}}function Os(n){let e,t,s,r,l;const i=[Ms,Hs],o=[];function a(c,f){return f&1&&(e=null),e==null&&(e=!!xe(c[0].props)),e?0:1}return t=a(n,-1),s=o[t]=i[t](n),{c(){s.c(),r=M()},l(c){s.l(c),r=M()},m(c,f){o[t].m(c,f),$(c,r,f),l=!0},p(c,[f]){let u=t;t=a(c,f),t===u?o[t].p(c,f):(fe(),S(o[u],1,1,()=>{o[u]=null}),ue(),s=o[t],s?s.p(c,f):(s=o[t]=i[t](c),s.c()),R(s,1),s.m(r.parentNode,r))},i(c){l||(R(s),l=!0)},o(c){S(s),l=!1},d(c){o[t].d(c),c&&d(r)}}}function Vs(n,e,t){let{config:s}=e,r;Gt(function(){return s.eventHandlers.forEach(([a,c])=>{const f=r.$$.callbacks[a]??[];f.push(c),t(1,r.$$.callbacks[a]=f,r)}),function(){s.eventHandlers.forEach(([c,f])=>{const u=r.$$.callbacks[c],p=u.findIndex(O=>O===f);u.splice(p,1)})}});function l(o){r=o,t(1,r)}function i(o){r=o,t(1,r)}return n.$$set=o=>{"config"in o&&t(0,s=o.config)},[s,r,l,i]}class Ps extends Ce{constructor(e){super(),Ae(this,e,Vs,Os,Fe,{config:0})}}function Gs(n){let e,t;return e=new Ps({props:{config:n[0]}}),{c(){ee(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,r){te(e,s,r),t=!0},p(s,r){const l={};r&1&&(l.config=s[0]),e.$set(l)},i(s){t||(R(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){se(e,s)}}}function Ks(n){let e;return{c(){e=G(n[0])},l(t){e=K(t,n[0])},m(t,s){$(t,e,s)},p(t,s){s&1&&pe(e,t[0])},i:de,o:de,d(t){t&&d(e)}}}function Ls(n){let e;return{c(){e=G(n[1])},l(t){e=K(t,n[1])},m(t,s){$(t,e,s)},p(t,s){s&2&&pe(e,t[1])},i:de,o:de,d(t){t&&d(e)}}}function zs(n){let e,t,s,r,l;const i=[Ls,Ks,Gs],o=[];function a(c,f){return f&1&&(e=null),e==null&&(e=!!xe(c[0])),e?0:typeof c[0]!="object"?1:2}return t=a(n,-1),s=o[t]=i[t](n),{c(){s.c(),r=M()},l(c){s.l(c),r=M()},m(c,f){o[t].m(c,f),$(c,r,f),l=!0},p(c,[f]){let u=t;t=a(c,f),t===u?o[t].p(c,f):(fe(),S(o[u],1,1,()=>{o[u]=null}),ue(),s=o[t],s?s.p(c,f):(s=o[t]=i[t](c),s.c()),R(s,1),s.m(r.parentNode,r))},i(c){l||(R(s),l=!0)},o(c){S(s),l=!1},d(c){o[t].d(c),c&&d(r)}}}function Us(n,e,t){let s,{of:r}=e;const l=xe(r)?r:Bs;return ye(n,l,i=>t(1,s=i)),n.$$set=i=>{"of"in i&&t(0,r=i.of)},[r,s,l]}class et extends Ce{constructor(e){super(),Ae(this,e,Us,zs,Fe,{of:0})}}class qs{constructor(e,t){m(this,"component");m(this,"props");m(this,"eventHandlers",[]);m(this,"children",[]);this.component=e,this.props=t}on(e,t){return this.eventHandlers.push([e,t]),this}slot(...e){return this.children=e,this}}function Ys(n,e){return new qs(n,e)}class Jt{constructor({header:e,footer:t,height:s,plugins:r}){m(this,"header");m(this,"footer");m(this,"height");m(this,"plugins");this.header=e,this.footer=t,this.height=s,this.plugins=r}isFlat(){return"__flat"in this}isData(){return"__data"in this}isDisplay(){return"__display"in this}isGroup(){return"__group"in this}}class Qt extends Jt{constructor({header:t,footer:s,plugins:r,id:l}){super({header:t,footer:s,plugins:r,height:1});m(this,"__flat",!0);m(this,"id");this.id=l??String(t)}}class Js extends Qt{constructor({header:t,footer:s,plugins:r,cell:l,accessor:i,id:o}){super({header:t,footer:s,plugins:r,id:"Initialization not complete"});m(this,"__data",!0);m(this,"cell");m(this,"accessorKey");m(this,"accessorFn");if(this.cell=l,i instanceof Function?this.accessorFn=i:this.accessorKey=i,o===void 0&&this.accessorKey===void 0&&t===void 0)throw new Error("A column id, string accessor, or header is required");const a=typeof this.accessorKey=="string"?this.accessorKey:null;this.id=o??a??String(t)}getValue(t){if(this.accessorFn!==void 0)return this.accessorFn(t);if(this.accessorKey!==void 0)return t[this.accessorKey]}}class Qs extends Qt{constructor({header:t,footer:s,plugins:r,id:l,cell:i,data:o}){super({header:t,footer:s,plugins:r,id:l});m(this,"__display",!0);m(this,"cell");m(this,"data");this.cell=i,this.data=o}}class Ws extends Jt{constructor({header:t,footer:s,columns:r,plugins:l}){const i=Math.max(...r.map(o=>o.height))+1;super({header:t,footer:s,height:i,plugins:l});m(this,"__group",!0);m(this,"columns");m(this,"ids");this.columns=r,this.ids=Wt(r)}}const Wt=n=>n.flatMap(e=>e.isFlat()?[e.id]:e.isGroup()?e.ids:[]),Xt=n=>n.flatMap(e=>e.isFlat()?[e]:e.isGroup()?Xt(e.columns):[]),Xs=n=>{const e=new Map;return n.forEach(t=>{e.set(t,(e.get(t)??0)+1)}),e},Zs=n=>Array.from(Xs(n).entries()).filter(([,e])=>e!==1).map(([e])=>e),xs=n=>Object.entries(n).map(([e,t])=>`${e}:${t}`).join(";"),el=(n,e)=>n.style===void 0&&e.style===void 0?{...n,...e}:{...n,...e,style:{...typeof n.style=="object"?n.style:{},...typeof e.style=="object"?e.style:{}}},Ne=n=>n.style===void 0||typeof n.style!="object"?n:{...n,style:xs(n.style)};class Le{constructor({id:e}){m(this,"id");m(this,"attrsForName",{});m(this,"propsForName",{});m(this,"state");this.id=e}attrs(){return le(Object.values(this.attrsForName),e=>{let t={};return e.forEach(s=>{t=el(t,s)}),Ne(t)})}props(){return qt(this.propsForName)}injectState(e){this.state=e}applyHook(e,t){t.props!==void 0&&(this.propsForName[e]=t.props),t.attrs!==void 0&&(this.attrsForName[e]=t.attrs)}}class Zt extends Le{constructor({id:t,row:s}){super({id:t});m(this,"row");this.row=s}attrs(){return le(super.attrs(),t=>({...t,role:"cell"}))}rowColId(){return`${this.row.id}:${this.column.id}`}dataRowColId(){if(this.row.isData())return`${this.row.dataId}:${this.column.id}`}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class tt extends Zt{constructor({row:t,column:s,label:r,value:l}){super({id:s.id,row:t});m(this,"__data",!0);m(this,"column");m(this,"label");m(this,"value");this.column=s,this.label=r,this.value=l}render(){if(this.label===void 0)return`${this.value}`;if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new tt({row:this.row,column:this.column,label:this.label,value:this.value})}}class st extends Zt{constructor({row:t,column:s,label:r}){super({id:s.id,row:t});m(this,"__display",!0);m(this,"column");m(this,"label");this.column=s,this.label=r}render(){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new st({row:this.row,column:this.column,label:this.label})}}const ge=n=>n!==void 0;class tl extends Le{constructor({id:t,cells:s,cellForId:r,depth:l=0,parentRow:i}){super({id:t});m(this,"cells");m(this,"cellForId");m(this,"depth");m(this,"parentRow");m(this,"subRows");this.cells=s,this.cellForId=r,this.depth=l,this.parentRow=i}attrs(){return le(super.attrs(),t=>({...t,role:"row"}))}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class lt extends tl{constructor({id:t,dataId:s,original:r,cells:l,cellForId:i,depth:o=0,parentRow:a}){super({id:t,cells:l,cellForId:i,depth:o,parentRow:a});m(this,"__data",!0);m(this,"dataId");m(this,"original");this.dataId=s,this.original=r}clone({includeCells:t=!1,includeSubRows:s=!1}={}){var l;const r=new lt({id:this.id,dataId:this.dataId,cellForId:this.cellForId,cells:this.cells,original:this.original,depth:this.depth});if(t){const i=Object.fromEntries(Object.entries(r.cellForId).map(([a,c])=>{const f=c.clone();return f.row=r,[a,f]})),o=r.cells.map(({id:a})=>i[a]);r.cellForId=i,r.cells=o}if(s){const i=(l=this.subRows)==null?void 0:l.map(o=>o.clone({includeCells:t,includeSubRows:s}));r.subRows=i}else r.subRows=this.subRows;return r}}const sl=(n,e,{rowDataId:t}={})=>{const s=n.map((r,l)=>{const i=l.toString();return new lt({id:i,dataId:t!==void 0?t(r,l):i,original:r,cells:[],cellForId:{}})});return n.forEach((r,l)=>{const i=e.map(o=>{if(o.isData()){const a=o,c=a.getValue(r);return new tt({row:s[l],column:a,label:o.cell,value:c})}if(o.isDisplay()){const a=o;return new st({row:s[l],column:a,label:o.cell})}throw new Error("Unrecognized `FlatColumn` implementation")});s[l].cells=i,e.forEach((o,a)=>{s[l].cellForId[o.id]=i[a]})}),s},ll=(n,e)=>{const t=n.map(s=>{const r=s.clone();return r.cells=[],r.cellForId={},r});return n.length===0||e.length===0?n:(n.forEach((s,r)=>{const l=s.cells.map(o=>{const a=o.clone();return a.row=t[r],a}),i=e.map(o=>l.find(a=>a.id===o)).filter(ge);t[r].cells=i,l.forEach(o=>{t[r].cellForId[o.id]=o})}),t)},xt=" ";class es extends Le{constructor({id:t,label:s,colspan:r,colstart:l}){super({id:t});m(this,"label");m(this,"colspan");m(this,"colstart");this.label=s,this.colspan=r,this.colstart=l}render(){if(this.label instanceof Function){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}return this.label}attrs(){return le(super.attrs(),t=>({...t,role:"columnheader",colspan:this.colspan}))}isFlat(){return"__flat"in this}isData(){return"__data"in this}isFlatDisplay(){return"__flat"in this&&"__display"in this}isGroup(){return"__group"in this}isGroupDisplay(){return"__group"in this&&"__display"in this}}class ze extends es{constructor({id:t,label:s,colstart:r}){super({id:t,label:s,colspan:1,colstart:r});m(this,"__flat",!0)}clone(){return new ze({id:this.id,label:this.label,colstart:this.colstart})}}class rt extends ze{constructor({id:t,label:s,accessorKey:r,accessorFn:l,colstart:i}){super({id:t,label:s,colstart:i});m(this,"__data",!0);m(this,"accessorKey");m(this,"accessorFn");this.accessorKey=r,this.accessorFn=l}clone(){return new rt({id:this.id,label:this.label,accessorFn:this.accessorFn,accessorKey:this.accessorKey,colstart:this.colstart})}}class Ue extends ze{constructor({id:t,label:s=xt,colstart:r}){super({id:t,label:s,colstart:r});m(this,"__display",!0)}clone(){return new Ue({id:this.id,label:this.label,colstart:this.colstart})}}class qe extends es{constructor({label:t,ids:s,allIds:r,colspan:l,colstart:i}){super({id:`[${s.join(",")}]`,label:t,colspan:l,colstart:i});m(this,"__group",!0);m(this,"ids");m(this,"allId");m(this,"allIds");this.ids=s,this.allId=`[${r.join(",")}]`,this.allIds=r}setIds(t){this.ids=t,this.id=`[${this.ids.join(",")}]`}pushId(t){this.ids=[...this.ids,t],this.id=`[${this.ids.join(",")}]`}clone(){return new qe({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}class nt extends qe{constructor({label:t=xt,ids:s,allIds:r,colspan:l=1,colstart:i}){super({label:t,ids:s,allIds:r,colspan:l,colstart:i});m(this,"__display",!0)}clone(){return new nt({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}const rl=n=>n.reduce((e,t)=>e+t,0),ts=(n,e)=>{const t=[];for(let s=0;s<e;s++)t.push(Array(n).fill(null));return t},mt=n=>{const e=n.length;if(e===0)return n;const t=n[0].length,s=ts(e,t);for(let r=0;r<t;r++)for(let l=0;l<e;l++)s[r][l]=n[l][r];return s};class ot extends Le{constructor({id:t,cells:s}){super({id:t});m(this,"cells");this.cells=s}attrs(){return le(super.attrs(),t=>({...t,role:"row"}))}clone(){return new ot({id:this.id,cells:this.cells})}}const nl=(n,e=[])=>{const t=ol(n);let s=mt(t);return s=il(s,e),al(s),cl(mt(s))},ol=n=>{const e=rl(n.map(l=>l.isGroup()?l.ids.length:1)),t=Math.max(...n.map(l=>l.height)),s=ts(e,t);let r=0;return n.forEach(l=>{const i=t-l.height;ss(s,l,i,r),r+=l.isGroup()?l.ids.length:1}),s.map((l,i)=>l.map((o,a)=>{var f;if(o!==null)return o;if(i===t-1)return new Ue({id:a.toString(),colstart:a});const c=((f=s[t-1][a])==null?void 0:f.id)??a.toString();return new nt({ids:[],allIds:[c],colstart:a})}))},ss=(n,e,t,s)=>{if(e.isData()){n[n.length-1][s]=new rt({label:e.header,accessorFn:e.accessorFn,accessorKey:e.accessorKey,id:e.id,colstart:s});return}if(e.isDisplay()){n[n.length-1][s]=new Ue({id:e.id,label:e.header,colstart:s});return}if(e.isGroup()){for(let l=0;l<e.ids.length;l++)n[t][s+l]=new qe({label:e.header,colspan:1,allIds:e.ids,ids:[],colstart:s});let r=0;e.columns.forEach(l=>{ss(n,l,t+1,s+r),r+=l.isGroup()?l.ids.length:1});return}},il=(n,e)=>{if(e.length===0)return n;const t=[];return e.forEach((s,r)=>{const l=n.find(i=>{const o=i[i.length-1];if(!o.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");return o.id===s});l!==void 0&&t.push(l.map(i=>{const o=i.clone();return o.colstart=r,o}))}),t},al=n=>{n.forEach(e=>{const t=e[e.length-1];if(!t.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");e.forEach(s=>{s.isGroup()&&s.pushId(t.id)})})},cl=n=>n.map((e,t)=>new ot({id:t.toString(),cells:fl(e)})),fl=n=>{if(n.length===0)return n;const e=[];let t=0,s=1;for(;t<n.length;){const r=n[t].clone();if(!r.isGroup()){e.push(r),t++;continue}s=t+1;const l=[...r.ids];for(;s<n.length;){const i=n[s];if(!i.isGroup()||r.allId!==i.allId)break;l.push(...i.ids),s++}r.setIds(l),r.colspan=s-t,e.push(r),t=s}return e},ul=(n,e,{rowDataId:t}={})=>{const{data:s,plugins:r}=n,l=Xt(e),i=De(l),o=le([s,i],([g,I])=>sl(g,I,{rowDataId:t})),a=ke([]),c=ke(),f=ke([]),u=ke([]),p=ke({role:"table"}),O=ke({}),Q=ke({role:"rowgroup"}),W={data:s,columns:e,flatColumns:l,tableAttrs:p,tableHeadAttrs:O,tableBodyAttrs:Q,visibleColumns:a,headerRows:c,originalRows:o,rows:f,pageRows:u},V=Object.fromEntries(Object.entries(r).map(([g,I])=>{const D=Object.fromEntries(l.map(L=>{var re;const z=(re=L.plugins)==null?void 0:re[g];if(z!==void 0)return[L.id,z]}).filter(ge));return[g,I({pluginName:g,tableState:W,columnOptions:D})]})),Z=Object.fromEntries(Object.entries(V).map(([g,I])=>[g,I.pluginState])),P={data:s,columns:e,flatColumns:l,tableAttrs:p,tableHeadAttrs:O,tableBodyAttrs:Q,visibleColumns:a,headerRows:c,originalRows:o,rows:f,pageRows:u,pluginStates:Z},h=Object.values(V).map(g=>g.deriveTableAttrs).filter(ge);let b=De({role:"table"});h.forEach(g=>{b=g(b)});const B=le(b,g=>{const I=Ne(g);return p.set(I),I}),y=Object.values(V).map(g=>g.deriveTableBodyAttrs).filter(ge);let H=De({});y.forEach(g=>{H=g(H)});const v=le(H,g=>{const I=Ne(g);return O.set(I),I}),C=Object.values(V).map(g=>g.deriveTableBodyAttrs).filter(ge);let w=De({role:"rowgroup"});C.forEach(g=>{w=g(w)});const E=le(w,g=>{const I=Ne(g);return Q.set(I),I}),T=Object.values(V).map(g=>g.deriveFlatColumns).filter(ge);let ie=i;T.forEach(g=>{ie=g(ie)});const U=le(ie,g=>(a.set(g),g)),X=le([o,U],([g,I])=>ll(g,I.map(D=>D.id))),_e=Object.values(V).map(g=>g.deriveRows).filter(ge);let be=X;_e.forEach(g=>{be=g(be)});const we=le(be,g=>(g.forEach(I=>{I.injectState(P),I.cells.forEach(D=>{D.injectState(P)})}),Object.entries(V).forEach(([I,D])=>{g.forEach(L=>{var z;((z=D.hooks)==null?void 0:z["tbody.tr"])!==void 0&&L.applyHook(I,D.hooks["tbody.tr"](L)),L.cells.forEach(re=>{var ae;((ae=D.hooks)==null?void 0:ae["tbody.tr.td"])!==void 0&&re.applyHook(I,D.hooks["tbody.tr.td"](re))})})}),f.set(g),g)),$e=Object.values(V).map(g=>g.derivePageRows).filter(ge);let Re=we;$e.forEach(g=>{Re=g(Re)});const Ye=le(Re,g=>(g.forEach(I=>{I.injectState(P),I.cells.forEach(D=>{D.injectState(P)})}),Object.entries(V).forEach(([I,D])=>{g.forEach(L=>{var z;((z=D.hooks)==null?void 0:z["tbody.tr"])!==void 0&&L.applyHook(I,D.hooks["tbody.tr"](L)),L.cells.forEach(re=>{var ae;((ae=D.hooks)==null?void 0:ae["tbody.tr.td"])!==void 0&&re.applyHook(I,D.hooks["tbody.tr.td"](re))})})}),u.set(g),g)),Te=le(U,g=>{const I=nl(e,g.map(D=>D.id));return I.forEach(D=>{D.injectState(P),D.cells.forEach(L=>{L.injectState(P)})}),Object.entries(V).forEach(([D,L])=>{I.forEach(z=>{var re;((re=L.hooks)==null?void 0:re["thead.tr"])!==void 0&&z.applyHook(D,L.hooks["thead.tr"](z)),z.cells.forEach(ae=>{var Be;((Be=L.hooks)==null?void 0:Be["thead.tr.th"])!==void 0&&ae.applyHook(D,L.hooks["thead.tr.th"](ae))})})}),c.set(I),I});return{tableAttrs:B,tableHeadAttrs:v,tableBodyAttrs:E,visibleColumns:U,flatColumns:l,headerRows:Te,originalRows:o,rows:we,pageRows:Ye,pluginStates:Z}};class dl{constructor(e,t){m(this,"data");m(this,"plugins");this.data=e,this.plugins=t}createColumns(e){const t=Wt(e),s=Zs(t);if(s.length!==0)throw new Error(`Duplicate column ids not allowed: "${s.join('", "')}"`);return e}column(e){return new Js(e)}group(e){return new Ws(e)}display(e){return new Qs(e)}createViewModel(e,t){return ul(this,e,t)}}const vt=(n,e={})=>new dl(n,e);function hl(n){let e=n[0],t=[],s=Ze(e,3,[]);for(var r=1;r<n.length;r++){let f=Ze(n[r],3,[]);for(var l in f){let u=!1;for(var i in s)_l(f[l],s[i])&&(u=!0);u||s.push(f[l])}}if(s.length==0)return[];for(var o in s){let f=[];s[o][s[o].length-2].length<=1?f.push(s[o][s[o].length-4]+" "+s[o][s[o].length-2]):f.push(s[o][s[o].length-3]);for(var a=0;a<n.length;a++){let u=n[a];e:for(var c in s[o]){let p=s[o][c];console.log("Traversing key: ",p," dataset: ",a);let O="";if(p=="#text"&&"@partyid"in u?(O=u["@partyid"],u=u[p],u+=" ("+O+")"):u=u[p],u==null){console.log("key not found in j: ",a),console.log(s[o]);break e}}u==null?f.push(""):f.push(u)}f.length>0&&t.push(f)}return t}function Ze(n,e,t){let s=[];for(var r in n){let o=n[r];if(r=="#text"){let a=[];for(var l in t)a.push(t[l]);a.push(r),s.push(a)}else if(typeof o=="object"){let a=t.slice();a.push(r);let c=Ze(o,3,a);for(var i in c)s.push(c[i])}}return s}function _l(n,e){if(n.length!=e.length)return!1;for(var t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function wt(n,e,t){const s=n.slice();return s[50]=e[t],s}function kt(n,e,t){const s=n.slice();return s[54]=e[t],s}function $t(n,e,t){const s=n.slice();return s[58]=e[t],s}function Et(n,e,t){const s=n.slice();return s[54]=e[t],s}function yt(n,e,t){const s=n.slice();return s[63]=e[t],s[64]=e,s[65]=t,s}function Ct(n,e,t){const s=n.slice();return s[66]=e[t],s}function At(n,e,t){const s=n.slice();return s[69]=e[t],s[65]=t,s}function Ft(n){let e,t,s,r,l,i,o,a;return{c(){e=A("span"),t=G("Cache data: "),s=G(n[10]),r=G(". "),l=A("span"),i=A("i"),this.h()},l(c){e=F(c,"SPAN",{class:!0});var f=j(e);t=K(f,"Cache data: "),s=K(f,n[10]),r=K(f,". "),f.forEach(d),l=F(c,"SPAN",{title:!0});var u=j(l);i=F(u,"I",{class:!0}),j(i).forEach(d),u.forEach(d),this.h()},h(){N(e,"class","italic"),N(i,"class","fa-solid fa-rotate"),N(l,"title","Refresh cache")},m(c,f){$(c,e,f),k(e,t),k(e,s),k(e,r),$(c,l,f),k(l,i),o||(a=[me(l,"keypress",n[15]),me(l,"click",n[15])],o=!0)},p(c,f){f[0]&1024&&pe(s,c[10])},d(c){c&&d(e),c&&d(l),o=!1,zt(a)}}}function Rt(n){let e,t,s,r,l=n[8],i=[];for(let o=0;o<l.length;o+=1)i[o]=St(yt(n,l,o));return{c(){e=A("p"),t=G(`Selection of versions only has an effect starting from version v2.17. Before the latest
				version is used.`),s=Y();for(let o=0;o<i.length;o+=1)i[o].c();r=M(),this.h()},l(o){e=F(o,"P",{class:!0});var a=j(e);t=K(a,`Selection of versions only has an effect starting from version v2.17. Before the latest
				version is used.`),a.forEach(d),s=J(o);for(let c=0;c<i.length;c+=1)i[c].l(o);r=M(),this.h()},h(){N(e,"class","pt-8 pb-8")},m(o,a){$(o,e,a),k(e,t),$(o,s,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,a);$(o,r,a)},p(o,a){if(a[0]&3932546){l=o[8];let c;for(c=0;c<l.length;c+=1){const f=yt(o,l,c);i[c]?i[c].p(f,a):(i[c]=St(f),i[c].c(),i[c].m(r.parentNode,r))}for(;c<i.length;c+=1)i[c].d(1);i.length=l.length}},d(o){o&&d(e),o&&d(s),je(i,o),o&&d(r)}}}function It(n){let e,t=n[69].Id+"",s;return{c(){e=A("option"),s=G(t),this.h()},l(r){e=F(r,"OPTION",{class:!0});var l=j(e);s=K(l,t),l.forEach(d),this.h()},h(){N(e,"class","bg-surface-500"),e.__value=n[65],e.value=e.__value},m(r,l){$(r,e,l),k(e,s)},p(r,l){l[0]&2&&t!==(t=r[69].Id+"")&&pe(s,t)},d(r){r&&d(e)}}}function Dt(n){let e,t=n[20]()+"",s,r,l,i=n[1][n[8][n[65]]].Versions,o=[];for(let c=0;c<i.length;c+=1)o[c]=jt(Ct(n,i,c));function a(){n[25].call(e,n[65])}return{c(){e=A("select");for(let c=0;c<o.length;c+=1)o[c].c();s=G(t),this.h()},l(c){e=F(c,"SELECT",{class:!0,id:!0});var f=j(e);for(let u=0;u<o.length;u+=1)o[u].l(f);s=K(f,t),f.forEach(d),this.h()},h(){N(e,"class","select variant-form-material"),N(e,"id","version_select_"+{i:n[65]}),n[7][n[65]]===void 0&&Ut(a)},m(c,f){$(c,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);k(e,s),Pe(e,n[7][n[65]],!0),r||(l=me(e,"change",a),r=!0)},p(c,f){if(n=c,f[0]&2097410){i=n[1][n[8][n[65]]].Versions;let u;for(u=0;u<i.length;u+=1){const p=Ct(n,i,u);o[u]?o[u].p(p,f):(o[u]=jt(p),o[u].c(),o[u].m(e,s))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}f[0]&386&&Pe(e,n[7][n[65]])},d(c){c&&d(e),je(o,c),r=!1,l()}}}function jt(n){let e,t=n[21]()+"",s,r,l=n[66].Id+"",i,o,a;return{c(){e=A("option"),s=G(t),r=G(" ("),i=G(l),o=G(")"),this.h()},l(c){e=F(c,"OPTION",{class:!0});var f=j(e);s=K(f,t),r=K(f," ("),i=K(f,l),o=K(f,")"),f.forEach(d),this.h()},h(){N(e,"class","bg-surface-500"),e.__value=a=n[66].Id,e.value=e.__value},m(c,f){$(c,e,f),k(e,s),k(e,r),k(e,i),k(e,o)},p(c,f){f[0]&258&&l!==(l=c[66].Id+"")&&pe(i,l),f[0]&258&&a!==(a=c[66].Id)&&(e.__value=a,e.value=e.__value)},d(c){c&&d(e)}}}function St(n){let e,t,s,r=n[65]+1+"",l,i,o,a,c,f,u,p,O,Q,W,V,Z,P=n[1],h=[];for(let v=0;v<P.length;v+=1)h[v]=It(At(n,P,v));function b(){n[23].call(c,n[65])}function B(){return n[24](n[65])}let y=n[7].length>=n[65]&&Dt(n);function H(){return n[26](n[65])}return{c(){e=A("label"),t=A("span"),s=G("Dataset "),l=G(r),i=G(":"),o=Y(),a=A("div"),c=A("select");for(let v=0;v<h.length;v+=1)h[v].c();f=Y(),y&&y.c(),u=Y(),p=A("button"),O=G("Remove"),Q=Y(),W=A("br"),this.h()},l(v){e=F(v,"LABEL",{class:!0,for:!0});var C=j(e);t=F(C,"SPAN",{});var w=j(t);s=K(w,"Dataset "),l=K(w,r),i=K(w,":"),w.forEach(d),o=J(C),a=F(C,"DIV",{class:!0});var E=j(a);c=F(E,"SELECT",{class:!0,id:!0});var T=j(c);for(let U=0;U<h.length;U+=1)h[U].l(T);T.forEach(d),f=J(E),y&&y.l(E),u=J(E),p=F(E,"BUTTON",{class:!0});var ie=j(p);O=K(ie,"Remove"),ie.forEach(d),E.forEach(d),C.forEach(d),Q=J(v),W=F(v,"BR",{}),this.h()},h(){N(c,"class","select variant-form-material"),N(c,"id","ds_select_"+{i:n[65]}),n[8][n[65]]===void 0&&Ut(b),N(p,"class","variant-filled-secondary"),N(a,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] "),N(e,"class","input-label w-80"),N(e,"for","ds_select_"+{i:n[65]})},m(v,C){$(v,e,C),k(e,t),k(t,s),k(t,l),k(t,i),k(e,o),k(e,a),k(a,c);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(c,null);Pe(c,n[8][n[65]],!0),k(a,f),y&&y.m(a,null),k(a,u),k(a,p),k(p,O),$(v,Q,C),$(v,W,C),V||(Z=[me(c,"change",b),me(c,"change",B),me(p,"click",H)],V=!0)},p(v,C){if(n=v,C[0]&2){P=n[1];let w;for(w=0;w<P.length;w+=1){const E=At(n,P,w);h[w]?h[w].p(E,C):(h[w]=It(E),h[w].c(),h[w].m(c,null))}for(;w<h.length;w+=1)h[w].d(1);h.length=P.length}C[0]&256&&Pe(c,n[8][n[65]]),n[7].length>=n[65]?y?y.p(n,C):(y=Dt(n),y.c(),y.m(a,u)):y&&(y.d(1),y=null)},d(v){v&&d(e),je(h,v),y&&y.d(),v&&d(Q),v&&d(W),V=!1,zt(Z)}}}function Tt(n){let e,t,s,r,l;return{c(){e=A("div"),t=A("button"),s=G("Calculate Diff"),this.h()},l(i){e=F(i,"DIV",{class:!0});var o=j(e);t=F(o,"BUTTON",{class:!0});var a=j(t);s=K(a,"Calculate Diff"),a.forEach(d),o.forEach(d),this.h()},h(){N(t,"class","btn bg-primary-500 rounded-md"),t.disabled=n[0],N(e,"class","grid justify-items-end pr-8")},m(i,o){$(i,e,o),k(e,t),k(t,s),r||(l=me(t,"click",n[16]),r=!0)},p(i,o){o[0]&1&&(t.disabled=i[0])},d(i){i&&d(e),r=!1,l()}}}function Bt(n){let e,t,s,r,l,i,o;return i=new gs({props:{$$slots:{default:[pl]},$$scope:{ctx:n}}}),{c(){e=A("div"),t=A("div"),s=A("p"),r=G("Loading"),l=Y(),ee(i.$$.fragment),this.h()},l(a){e=F(a,"DIV",{class:!0});var c=j(e);t=F(c,"DIV",{class:!0});var f=j(t);s=F(f,"P",{});var u=j(s);r=K(u,"Loading"),u.forEach(d),l=J(f),ne(i.$$.fragment,f),f.forEach(d),c.forEach(d),this.h()},h(){N(t,"class","w-full max-w-[120px] mx-auto space-y-4"),N(e,"class","card variant-glass p-4 grid grid-cols-2 gap-4 text-center")},m(a,c){$(a,e,c),k(e,t),k(t,s),k(s,r),k(t,l),te(i,t,null),o=!0},p(a,c){const f={};c[0]&512|c[2]&512&&(f.$$scope={dirty:c,ctx:a}),i.$set(f)},i(a){o||(R(i.$$.fragment,a),o=!0)},o(a){S(i.$$.fragment,a),o=!1},d(a){a&&d(e),se(i)}}}function pl(n){let e=n[9].value+"",t,s;return{c(){t=G(e),s=G("%")},l(r){t=K(r,e),s=K(r,"%")},m(r,l){$(r,t,l),$(r,s,l)},p(r,l){l[0]&512&&e!==(e=r[9].value+"")&&pe(t,e)},d(r){r&&d(t),r&&d(s)}}}function Ht(n){let e,t,s,r=[],l=new Map,i,o,a=[],c=new Map,f,u=n[12];const p=h=>h[58].id;for(let h=0;h<u.length;h+=1){let b=$t(n,u,h),B=p(b);l.set(B,r[h]=Nt(B,b))}let O=n[14];const Q=h=>h[50].id;for(let h=0;h<O.length;h+=1){let b=wt(n,O,h),B=Q(b);c.set(B,a[h]=Vt(B,b))}let W=[n[13]],V={};for(let h=0;h<W.length;h+=1)V=he(V,W[h]);let Z=[{class:"table table-hover"},n[11]],P={};for(let h=0;h<Z.length;h+=1)P=he(P,Z[h]);return{c(){e=A("div"),t=A("table"),s=A("thead");for(let h=0;h<r.length;h+=1)r[h].c();i=Y(),o=A("tbody");for(let h=0;h<a.length;h+=1)a[h].c();this.h()},l(h){e=F(h,"DIV",{class:!0});var b=j(e);t=F(b,"TABLE",{class:!0});var B=j(t);s=F(B,"THEAD",{});var y=j(s);for(let v=0;v<r.length;v+=1)r[v].l(y);y.forEach(d),i=J(B),o=F(B,"TBODY",{});var H=j(o);for(let v=0;v<a.length;v+=1)a[v].l(H);H.forEach(d),B.forEach(d),b.forEach(d),this.h()},h(){ce(o,V),ce(t,P),N(e,"class","table-container")},m(h,b){$(h,e,b),k(e,t),k(t,s);for(let B=0;B<r.length;B+=1)r[B]&&r[B].m(s,null);k(t,i),k(t,o);for(let B=0;B<a.length;B+=1)a[B]&&a[B].m(o,null);f=!0},p(h,b){b[0]&4096|b[1]&71303168&&(u=h[12],fe(),r=Ge(r,b,p,1,h,u,l,s,Ke,Nt,null,$t),ue()),b[0]&16384|b[1]&71303168&&(O=h[14],fe(),a=Ge(a,b,Q,1,h,O,c,o,Ke,Vt,null,wt),ue()),ce(o,V=ve(W,[b[0]&8192&&h[13]])),ce(t,P=ve(Z,[{class:"table table-hover"},b[0]&2048&&h[11]]))},i(h){if(!f){for(let b=0;b<u.length;b+=1)R(r[b]);for(let b=0;b<O.length;b+=1)R(a[b]);f=!0}},o(h){for(let b=0;b<r.length;b+=1)S(r[b]);for(let b=0;b<a.length;b+=1)S(a[b]);f=!1},d(h){h&&d(e);for(let b=0;b<r.length;b+=1)r[b].d();for(let b=0;b<a.length;b+=1)a[b].d()}}}function bl(n){let e,t,s,r;t=new et({props:{of:n[54].render()}});let l=[n[57]],i={};for(let o=0;o<l.length;o+=1)i=he(i,l[o]);return{c(){e=A("th"),ee(t.$$.fragment),s=Y(),this.h()},l(o){e=F(o,"TH",{});var a=j(e);ne(t.$$.fragment,a),a.forEach(d),s=J(o),this.h()},h(){ce(e,i)},m(o,a){$(o,e,a),te(t,e,null),$(o,s,a),r=!0},p(o,a){const c={};a[0]&4096&&(c.of=o[54].render()),t.$set(c),ce(e,i=ve(l,[a[1]&67108864&&o[57]]))},i(o){r||(R(t.$$.fragment,o),r=!0)},o(o){S(t.$$.fragment,o),r=!1},d(o){o&&d(e),se(t),o&&d(s)}}}function Mt(n,e){let t,s,r;return s=new Se({props:{attrs:e[54].attrs(),$$slots:{default:[bl,({attrs:l})=>({57:l}),({attrs:l})=>[0,l?67108864:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=M(),ee(s.$$.fragment),this.h()},l(l){t=M(),ne(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,i){$(l,t,i),te(s,l,i),r=!0},p(l,i){e=l;const o={};i[0]&4096&&(o.attrs=e[54].attrs()),i[0]&4096|i[1]&67108864|i[2]&512&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(l){r||(R(s.$$.fragment,l),r=!0)},o(l){S(s.$$.fragment,l),r=!1},d(l){l&&d(t),se(s,l)}}}function gl(n){let e,t=[],s=new Map,r,l,i=n[58].cells;const o=f=>f[54].id;for(let f=0;f<i.length;f+=1){let u=Et(n,i,f),p=o(u);s.set(p,t[f]=Mt(p,u))}let a=[n[53]],c={};for(let f=0;f<a.length;f+=1)c=he(c,a[f]);return{c(){e=A("tr");for(let f=0;f<t.length;f+=1)t[f].c();r=Y(),this.h()},l(f){e=F(f,"TR",{});var u=j(e);for(let p=0;p<t.length;p+=1)t[p].l(u);u.forEach(d),r=J(f),this.h()},h(){ce(e,c)},m(f,u){$(f,e,u);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);$(f,r,u),l=!0},p(f,u){u[0]&4096|u[1]&67108864&&(i=f[58].cells,fe(),t=Ge(t,u,o,1,f,i,s,e,Ke,Mt,null,Et),ue()),ce(e,c=ve(a,[u[1]&4194304&&f[53]]))},i(f){if(!l){for(let u=0;u<i.length;u+=1)R(t[u]);l=!0}},o(f){for(let u=0;u<t.length;u+=1)S(t[u]);l=!1},d(f){f&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&d(r)}}}function Nt(n,e){let t,s,r;return s=new Se({props:{rowAttrs:e[58].attrs(),$$slots:{default:[gl,({rowAttrs:l})=>({53:l}),({rowAttrs:l})=>[0,l?4194304:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=M(),ee(s.$$.fragment),this.h()},l(l){t=M(),ne(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,i){$(l,t,i),te(s,l,i),r=!0},p(l,i){e=l;const o={};i[0]&4096&&(o.rowAttrs=e[58].attrs()),i[0]&4096|i[1]&4194304|i[2]&512&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(l){r||(R(s.$$.fragment,l),r=!0)},o(l){S(s.$$.fragment,l),r=!1},d(l){l&&d(t),se(s,l)}}}function ml(n){let e,t,s,r;t=new et({props:{of:n[54].render()}});let l=[{class:"table-cell-fit align-top"},n[57]],i={};for(let o=0;o<l.length;o+=1)i=he(i,l[o]);return{c(){e=A("td"),ee(t.$$.fragment),s=Y(),this.h()},l(o){e=F(o,"TD",{class:!0});var a=j(e);ne(t.$$.fragment,a),a.forEach(d),s=J(o),this.h()},h(){ce(e,i)},m(o,a){$(o,e,a),te(t,e,null),$(o,s,a),r=!0},p(o,a){const c={};a[0]&16384&&(c.of=o[54].render()),t.$set(c),ce(e,i=ve(l,[{class:"table-cell-fit align-top"},a[1]&67108864&&o[57]]))},i(o){r||(R(t.$$.fragment,o),r=!0)},o(o){S(t.$$.fragment,o),r=!1},d(o){o&&d(e),se(t),o&&d(s)}}}function Ot(n,e){let t,s,r;return s=new Se({props:{attrs:e[54].attrs(),$$slots:{default:[ml,({attrs:l})=>({57:l}),({attrs:l})=>[0,l?67108864:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=M(),ee(s.$$.fragment),this.h()},l(l){t=M(),ne(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,i){$(l,t,i),te(s,l,i),r=!0},p(l,i){e=l;const o={};i[0]&16384&&(o.attrs=e[54].attrs()),i[0]&16384|i[1]&67108864|i[2]&512&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(l){r||(R(s.$$.fragment,l),r=!0)},o(l){S(s.$$.fragment,l),r=!1},d(l){l&&d(t),se(s,l)}}}function vl(n){let e,t=[],s=new Map,r,l,i=n[50].cells;const o=f=>f[54].id;for(let f=0;f<i.length;f+=1){let u=kt(n,i,f),p=o(u);s.set(p,t[f]=Ot(p,u))}let a=[n[53]],c={};for(let f=0;f<a.length;f+=1)c=he(c,a[f]);return{c(){e=A("tr");for(let f=0;f<t.length;f+=1)t[f].c();r=Y(),this.h()},l(f){e=F(f,"TR",{});var u=j(e);for(let p=0;p<t.length;p+=1)t[p].l(u);u.forEach(d),r=J(f),this.h()},h(){ce(e,c)},m(f,u){$(f,e,u);for(let p=0;p<t.length;p+=1)t[p]&&t[p].m(e,null);$(f,r,u),l=!0},p(f,u){u[0]&16384|u[1]&67108864&&(i=f[50].cells,fe(),t=Ge(t,u,o,1,f,i,s,e,Ke,Ot,null,kt),ue()),ce(e,c=ve(a,[u[1]&4194304&&f[53]]))},i(f){if(!l){for(let u=0;u<i.length;u+=1)R(t[u]);l=!0}},o(f){for(let u=0;u<t.length;u+=1)S(t[u]);l=!1},d(f){f&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&d(r)}}}function Vt(n,e){let t,s,r;return s=new Se({props:{rowAttrs:e[50].attrs(),$$slots:{default:[vl,({rowAttrs:l})=>({53:l}),({rowAttrs:l})=>[0,l?4194304:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=M(),ee(s.$$.fragment),this.h()},l(l){t=M(),ne(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,i){$(l,t,i),te(s,l,i),r=!0},p(l,i){e=l;const o={};i[0]&16384&&(o.rowAttrs=e[50].attrs()),i[0]&16384|i[1]&4194304|i[2]&512&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(l){r||(R(s.$$.fragment,l),r=!0)},o(l){S(s.$$.fragment,l),r=!1},d(l){l&&d(t),se(s,l)}}}function wl(n){let e,t,s,r,l,i,o,a,c,f,u,p,O,Q,W,V,Z,P,h,b,B,y=n[10]&&Ft(n),H=n[1]&&Rt(n),v=n[8].length>=2&&Tt(n),C=n[0]==!0&&Bt(n),w=n[2].length>1&&Ht(n);return{c(){e=A("main"),t=A("h2"),s=G("Compare Datasets & Versions"),r=Y(),l=A("div"),i=A("div"),o=A("div"),a=A("button"),c=G("Add Datasets"),f=Y(),u=A("div"),y&&y.c(),p=Y(),H&&H.c(),O=Y(),v&&v.c(),Q=Y(),C&&C.c(),W=Y(),w&&w.c(),V=Y(),Z=A("style"),P=G(`table {
			border-spacing: 0;
			border-top: 1px solid black;
			border-left: 1px solid black;
		}
		th,
		td {
			border-bottom: 1px solid black;
			border-right: 1px solid black;
			padding: 0.5rem;
		}
		.table tbody td {
			white-space: break-spaces;
		}`),this.h()},l(E){e=F(E,"MAIN",{class:!0});var T=j(e);t=F(T,"H2",{class:!0});var ie=j(t);s=K(ie,"Compare Datasets & Versions"),ie.forEach(d),r=J(T),l=F(T,"DIV",{class:!0});var U=j(l);i=F(U,"DIV",{class:!0});var X=j(i);o=F(X,"DIV",{});var _e=j(o);a=F(_e,"BUTTON",{class:!0,title:!0});var be=j(a);c=K(be,"Add Datasets"),be.forEach(d),f=J(_e),u=F(_e,"DIV",{});var we=j(u);y&&y.l(we),we.forEach(d),_e.forEach(d),X.forEach(d),p=J(U),H&&H.l(U),O=J(U),v&&v.l(U),Q=J(U),C&&C.l(U),W=J(U),w&&w.l(U),U.forEach(d),V=J(T),Z=F(T,"STYLE",{});var $e=j(Z);P=K($e,`table {
			border-spacing: 0;
			border-top: 1px solid black;
			border-left: 1px solid black;
		}
		th,
		td {
			border-bottom: 1px solid black;
			border-right: 1px solid black;
			padding: 0.5rem;
		}
		.table tbody td {
			white-space: break-spaces;
		}`),$e.forEach(d),T.forEach(d),this.h()},h(){N(t,"class","pt-4 pb-4 text-secondary-700 dark:text-white"),N(a,"class","btn bg-primary-500 rounded-md "),a.disabled=n[0],N(a,"title","Add Datasets to compare. 1st dataset is the reference for comparison."),N(i,"class","grid justify-items-end pr-8"),N(l,"class","width-max"),N(e,"class","p-4")},m(E,T){$(E,e,T),k(e,t),k(t,s),k(e,r),k(e,l),k(l,i),k(i,o),k(o,a),k(a,c),k(o,f),k(o,u),y&&y.m(u,null),k(l,p),H&&H.m(l,null),k(l,O),v&&v.m(l,null),k(l,Q),C&&C.m(l,null),k(l,W),w&&w.m(l,null),k(e,V),k(e,Z),k(Z,P),h=!0,b||(B=me(a,"click",n[17]),b=!0)},p(E,T){(!h||T[0]&1)&&(a.disabled=E[0]),E[10]?y?y.p(E,T):(y=Ft(E),y.c(),y.m(u,null)):y&&(y.d(1),y=null),E[1]?H?H.p(E,T):(H=Rt(E),H.c(),H.m(l,O)):H&&(H.d(1),H=null),E[8].length>=2?v?v.p(E,T):(v=Tt(E),v.c(),v.m(l,Q)):v&&(v.d(1),v=null),E[0]==!0?C?(C.p(E,T),T[0]&1&&R(C,1)):(C=Bt(E),C.c(),R(C,1),C.m(l,W)):C&&(fe(),S(C,1,1,()=>{C=null}),ue()),E[2].length>1?w?(w.p(E,T),T[0]&4&&R(w,1)):(w=Ht(E),w.c(),R(w,1),w.m(l,null)):w&&(fe(),S(w,1,1,()=>{w=null}),ue())},i(E){h||(R(C),R(w),h=!0)},o(E){S(C),S(w),h=!1},d(E){E&&d(e),y&&y.d(),H&&H.d(),v&&v.d(),C&&C.d(),w&&w.d(),b=!1,B()}}}function kl(n,e,t){let s,r,l,i,o,a,c,f,u,p,O,Q,W=de,V=()=>(W(),W=He(o,_=>t(11,Q=_)),o),Z,P=de,h=()=>(P(),P=He(i,_=>t(12,Z=_)),i),b,B=de,y=()=>(B(),B=He(c,_=>t(13,b=_)),c),H,v=de,C=()=>(v(),v=He(a,_=>t(14,H=_)),a);ye(n,Xe,_=>t(30,f=_)),ye(n,ct,_=>t(31,u=_)),ye(n,ft,_=>t(32,p=_)),ye(n,ut,_=>t(10,O=_)),n.$$.on_destroy.push(()=>W()),n.$$.on_destroy.push(()=>P()),n.$$.on_destroy.push(()=>B()),n.$$.on_destroy.push(()=>v());let w={Accept:"application/json",Authorization:"Bearer "+p,"Content-Type":"application/json"},E=!1,T;We.subscribe(_=>{t(1,T=_)}),Gt(async()=>{We.useLocalStorage(),ct.useLocalStorage(),ft.useLocalStorage(),Xe.useLocalStorage(),T.length==0&&_e();const _=await ms(w,u.toString());Xe.set(_)});let ie=u+"/api/Metadata/",U=u+"/api/Dataset",X=[];async function _e(){t(0,E=!0);const _=await vs(U);We.set(_),ut.set(new Date().toDateString()),t(0,E=!1)}async function be(_,x){console.log("Fetching metadata for dataset_id: ",_,x);let q="";return f=="2.16"&&(q=ie+"/"+_),f=="2.17"&&(q=ie+"/"+_+"/"+x),await(await fetch(q,{method:"GET",headers:w})).json()}function we(_){t(2,X=[]);let x=_.length;for(var q=0;q<x;q++){let Ie={section:_[q][0]};for(var oe=1;oe<_[q].length;oe++){let Ee={};if(Ee.diff={},Ee.orig=_[q][oe],oe>0){let Je=bs(_[q][oe],_[q][1]);Ee.diff=Je,console.log(Ee)}Ie["col"+oe]=Ee}X.push(Ie)}t(0,E=!1),Me.set(X),re(X)}async function $e(){t(0,E=!0);let _=[];console.log("Fetching metadata...");for(var x=0;x<r.length;x++){let oe=T[r[x]].Id,Ie=l[x],Je=T.find(Qe=>Qe.Id===oe).Versions.find(Qe=>Qe.Id===Ie),as=await be(oe,Je.Number);_.push(as)}let q=hl(_);console.log(q),we(q)}function Re(){l.push(T[1].Versions[0].Id),t(7,l)}function Ye(){r.push(1),t(8,r),Re()}function Te(_){console.log(r[_]),console.log(T[r[_]].Versions[0].Id),t(7,l[_]=T[r[_]].Versions[0].Id,l),t(7,l)}function g(_){console.log("Deleting dataset: ",_),r.splice(_,1),t(8,r),l.splice(_,1),t(7,l),I(_+1)}function I(_){console.log(X);for(var x=0;x<20&&!("col"+_ in X[0]);x++)_+=1;for(var q in X)console.log("Deleting: ",X[q],"col"+_),delete X[q]["col"+_];console.log("Deleting: ",X),t(2,X),Me.set(X),re(X)}let D=vt(Me),L=D.createColumns([D.column({header:"Field name",accessor:"section"})]),z=D.createViewModel(L);function re(_){D=vt(Me),L=[],L=D.createColumns([D.column({header:"Field Name",accessor:"section"})]);let x=1;for(var q in _[0])q!=="section"&&(L.push(D.column({header:"Dataset "+x,accessor:q,cell:({value:oe})=>Ys(ys,{diff:oe.diff,diff_orig:oe.orig})})),x=x+1);t(22,z=D.createViewModel(L)),h(t(6,i=z.headerRows)),V(t(5,o=z.tableAttrs)),C(t(4,a=z.rows)),y(t(3,c=z.tableBodyAttrs))}let ae=0;const Be=()=>(ae=0,""),ls=()=>(ae++,ae);function rs(_){r[_]=at(this),t(8,r)}const ns=_=>Te(_);function os(_){l[_]=at(this),t(7,l),t(1,T),t(8,r)}const is=_=>g(_);return n.$$.update=()=>{n.$$.dirty[0]&4194304&&h(t(6,i=z.headerRows)),n.$$.dirty[0]&4194304&&V(t(5,o=z.tableAttrs)),n.$$.dirty[0]&4194304&&C(t(4,a=z.rows)),n.$$.dirty[0]&4194304&&y(t(3,c=z.tableBodyAttrs))},t(9,s={value:50,max:100,step:10}),t(8,r=[]),t(7,l=[]),[E,T,X,c,a,o,i,l,r,s,O,Q,Z,b,H,_e,$e,Ye,Te,g,Be,ls,z,rs,ns,os,is]}class Il extends Ce{constructor(e){super(),Ae(this,e,kl,wl,Fe,{},null,[-1,-1,-1])}}export{Il as default};
