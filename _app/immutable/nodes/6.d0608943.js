var cs=Object.defineProperty;var fs=(r,e,t)=>e in r?cs(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var m=(r,e,t)=>(fs(r,typeof e!="symbol"?e+"":e,t),t);import{S as Ae,i as Fe,s as Re,e as M,b as $,T as he,h as d,q as K,r as L,u as pe,a as J,k as C,c as Q,l as A,a2 as je,m as j,n as G,D as k,C as us,E as ds,F as hs,G as _s,g as F,d as S,N as it,_ as Ce,I as _e,J as ps,v as fe,f as ue,w as Ne,x as Ve,y as ee,z as ne,A as te,R as ve,ab as Pt,B as se,o as Gt,a8 as Kt,a9 as Lt,L as me,M as zt,a5 as Ut,a6 as Pe,a4 as ce,ac as Ge,U as He,aa as at,ad as Ke}from"../chunks/index.551e22bc.js";import{d as bs}from"../chunks/index.es6.6f0b39ac.js";import{g as We,b as ct,t as ft,c as Xe,h as ut,i as Oe}from"../chunks/store.17fc6da4.js";import{P as gs}from"../chunks/ProgressRadial.87159aac.js";import{d as le,r as De,w as $e}from"../chunks/index.4237fa95.js";import{g as ms,f as vs}from"../chunks/utils.1db1d002.js";const ws=!0,Dl=Object.freeze(Object.defineProperty({__proto__:null,prerender:ws},Symbol.toStringTag,{value:"Module"}));function dt(r,e,t){const s=r.slice();return s[2]=e[t],s}function ks(r){let e;return{c(){e=K(r[0])},l(t){e=L(t,r[0])},m(t,s){$(t,e,s)},p(t,s){s&1&&pe(e,t[0])},d(t){t&&d(e)}}}function $s(r){let e,t,s,l,n,i,o=r[1],a=[];for(let c=0;c<o.length;c+=1)a[c]=_t(dt(r,o,c));return{c(){e=K(r[0]),t=J(),s=C("br"),l=C("br"),n=J();for(let c=0;c<a.length;c+=1)a[c].c();i=M()},l(c){e=L(c,r[0]),t=Q(c),s=A(c,"BR",{}),l=A(c,"BR",{}),n=Q(c);for(let f=0;f<a.length;f+=1)a[f].l(c);i=M()},m(c,f){$(c,e,f),$(c,t,f),$(c,s,f),$(c,l,f),$(c,n,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(c,f);$(c,i,f)},p(c,f){if(f&1&&pe(e,c[0]),f&2){o=c[1];let u;for(u=0;u<o.length;u+=1){const _=dt(c,o,u);a[u]?a[u].p(_,f):(a[u]=_t(_),a[u].c(),a[u].m(i.parentNode,i))}for(;u<a.length;u+=1)a[u].d(1);a.length=o.length}},d(c){c&&d(e),c&&d(t),c&&d(s),c&&d(l),c&&d(n),je(a,c),c&&d(i)}}}function ht(r){let e,t=r[2].value+"",s,l;return{c(){e=C("span"),s=K(t),this.h()},l(n){e=A(n,"SPAN",{class:!0});var i=j(e);s=L(i,t),i.forEach(d),this.h()},h(){G(e,"class",l=r[2].added?"bg-green-100 dark:bg-surface-900 text-green-400":r[2].removed?"bg-red-100 dark:bg-surface-900 text-red-400":"")},m(n,i){$(n,e,i),k(e,s)},p(n,i){i&2&&t!==(t=n[2].value+"")&&pe(s,t),i&2&&l!==(l=n[2].added?"bg-green-100 dark:bg-surface-900 text-green-400":n[2].removed?"bg-red-100 dark:bg-surface-900 text-red-400":"")&&G(e,"class",l)},d(n){n&&d(e)}}}function _t(r){let e,t=(r[2].added||r[2].removed)&&ht(r);return{c(){t&&t.c(),e=M()},l(s){t&&t.l(s),e=M()},m(s,l){t&&t.m(s,l),$(s,e,l)},p(s,l){s[2].added||s[2].removed?t?t.p(s,l):(t=ht(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&d(e)}}}function Es(r){let e;function t(n,i){return n[1].length>1?$s:ks}let s=t(r),l=s(r);return{c(){l.c(),e=M()},l(n){l.l(n),e=M()},m(n,i){l.m(n,i),$(n,e,i)},p(n,[i]){s===(s=t(n))&&l?l.p(n,i):(l.d(1),l=s(n),l&&(l.c(),l.m(e.parentNode,e)))},i:he,o:he,d(n){l.d(n),n&&d(e)}}}function ys(r,e,t){let{diff_orig:s=""}=e,{diff:l=[]}=e;return r.$$set=n=>{"diff_orig"in n&&t(0,s=n.diff_orig),"diff"in n&&t(1,l=n.diff)},[s,l]}class Cs extends Ae{constructor(e){super(),Fe(this,e,ys,Es,Re,{diff_orig:0,diff:1})}}const qt=r=>{const e=Object.entries(r),t=e.map(([s])=>s);return le(e.map(([,s])=>s),s=>Object.fromEntries(s.map((l,n)=>[t[n],l])))},As=r=>r&1,Fs=r=>({}),pt=r=>({...r[0]});function Rs(r){let e;const t=r[3].default,s=us(t,r,r[2],pt);return{c(){s&&s.c()},l(l){s&&s.l(l)},m(l,n){s&&s.m(l,n),e=!0},p(l,[n]){s&&s.p&&(!e||n&5)&&ds(s,t,l,l[2],As(n)||!e?hs(l[2]):_s(t,l[2],n,Fs),pt)},i(l){e||(F(s,l),e=!0)},o(l){S(s,l),e=!1},d(l){s&&s.d(l)}}}function Is(r,e,t){const s=[];let l=it(e,s),n,{$$slots:i={},$$scope:o}=e;const a=qt(l);return Ce(r,a,c=>t(0,n=c)),r.$$set=c=>{e=_e(_e({},e),ps(c)),t(4,l=it(e,s)),"$$scope"in c&&t(2,o=c.$$scope)},[n,a,o,i]}class Se extends Ae{constructor(e){super(),Fe(this,e,Is,Rs,Re,{})}}function bt(r,e,t){const s=r.slice();return s[5]=e[t],s}function Ds(r){let e,t,s;const l=[r[2]??{}];var n=r[1].component;function i(o){let a={$$slots:{default:[Ss]},$$scope:{ctx:o}};for(let c=0;c<l.length;c+=1)a=_e(a,l[c]);return{props:a}}return n&&(e=Ve(n,i(r)),r[4](e)),{c(){e&&ee(e.$$.fragment),t=M()},l(o){e&&ne(e.$$.fragment,o),t=M()},m(o,a){e&&te(e,o,a),$(o,t,a),s=!0},p(o,a){const c=a&4?ve(l,[Pt(o[2]??{})]):{};if(a&258&&(c.$$scope={dirty:a,ctx:o}),a&2&&n!==(n=o[1].component)){if(e){fe();const f=e;S(f.$$.fragment,1,0,()=>{se(f,1)}),ue()}n?(e=Ve(n,i(o)),o[4](e),ee(e.$$.fragment),F(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(o){s||(e&&F(e.$$.fragment,o),s=!0)},o(o){e&&S(e.$$.fragment,o),s=!1},d(o){r[4](null),o&&d(t),e&&se(e,o)}}}function js(r){let e,t,s;const l=[r[2]??{}];var n=r[1].component;function i(o){let a={};for(let c=0;c<l.length;c+=1)a=_e(a,l[c]);return{props:a}}return n&&(e=Ve(n,i()),r[3](e)),{c(){e&&ee(e.$$.fragment),t=M()},l(o){e&&ne(e.$$.fragment,o),t=M()},m(o,a){e&&te(e,o,a),$(o,t,a),s=!0},p(o,a){const c=a&4?ve(l,[Pt(o[2]??{})]):{};if(a&2&&n!==(n=o[1].component)){if(e){fe();const f=e;S(f.$$.fragment,1,0,()=>{se(f,1)}),ue()}n?(e=Ve(n,i()),o[3](e),ee(e.$$.fragment),F(e.$$.fragment,1),te(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(o){s||(e&&F(e.$$.fragment,o),s=!0)},o(o){e&&S(e.$$.fragment,o),s=!1},d(o){r[3](null),o&&d(t),e&&se(e,o)}}}function gt(r){let e,t;return e=new et({props:{of:r[5]}}),{c(){ee(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,l){te(e,s,l),t=!0},p(s,l){const n={};l&2&&(n.of=s[5]),e.$set(n)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){se(e,s)}}}function Ss(r){let e,t,s=r[1].children,l=[];for(let i=0;i<s.length;i+=1)l[i]=gt(bt(r,s,i));const n=i=>S(l[i],1,1,()=>{l[i]=null});return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=M()},l(i){for(let o=0;o<l.length;o+=1)l[o].l(i);e=M()},m(i,o){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(i,o);$(i,e,o),t=!0},p(i,o){if(o&2){s=i[1].children;let a;for(a=0;a<s.length;a+=1){const c=bt(i,s,a);l[a]?(l[a].p(c,o),F(l[a],1)):(l[a]=gt(c),l[a].c(),F(l[a],1),l[a].m(e.parentNode,e))}for(fe(),a=s.length;a<l.length;a+=1)n(a);ue()}},i(i){if(!t){for(let o=0;o<s.length;o+=1)F(l[o]);t=!0}},o(i){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)S(l[o]);t=!1},d(i){je(l,i),i&&d(e)}}}function Ts(r){let e,t,s,l;const n=[js,Ds],i=[];function o(a,c){return a[1].children.length===0?0:1}return e=o(r),t=i[e]=n[e](r),{c(){t.c(),s=M()},l(a){t.l(a),s=M()},m(a,c){i[e].m(a,c),$(a,s,c),l=!0},p(a,[c]){let f=e;e=o(a),e===f?i[e].p(a,c):(fe(),S(i[f],1,1,()=>{i[f]=null}),ue(),t=i[e],t?t.p(a,c):(t=i[e]=n[e](a),t.c()),F(t,1),t.m(s.parentNode,s))},i(a){l||(F(t),l=!0)},o(a){S(t),l=!1},d(a){i[e].d(a),a&&d(s)}}}function Bs(r,e,t){let{instance:s=void 0}=e,{config:l}=e,{props:n=void 0}=e;function i(a){Ne[a?"unshift":"push"](()=>{s=a,t(0,s)})}function o(a){Ne[a?"unshift":"push"](()=>{s=a,t(0,s)})}return r.$$set=a=>{"instance"in a&&t(0,s=a.instance),"config"in a&&t(1,l=a.config),"props"in a&&t(2,n=a.props)},[s,l,n,i,o]}class Yt extends Ae{constructor(e){super(),Fe(this,e,Bs,Ts,Re,{instance:0,config:1,props:2})}}const xe=r=>(r==null?void 0:r.subscribe)instanceof Function,Hs=De(void 0);function Os(r){let e,t,s;function l(i){r[3](i)}let n={config:r[0],props:r[0].props};return r[1]!==void 0&&(n.instance=r[1]),e=new Yt({props:n}),Ne.push(()=>Kt(e,"instance",l)),{c(){ee(e.$$.fragment)},l(i){ne(e.$$.fragment,i)},m(i,o){te(e,i,o),s=!0},p(i,o){const a={};o&1&&(a.config=i[0]),o&1&&(a.props=i[0].props),!t&&o&2&&(t=!0,a.instance=i[1],Lt(()=>t=!1)),e.$set(a)},i(i){s||(F(e.$$.fragment,i),s=!0)},o(i){S(e.$$.fragment,i),s=!1},d(i){se(e,i)}}}function Ms(r){let e,t;return e=new Se({props:{props:r[0].props,$$slots:{default:[Ns,({props:s})=>({4:s}),({props:s})=>s?16:0]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,l){te(e,s,l),t=!0},p(s,l){const n={};l&1&&(n.props=s[0].props),l&51&&(n.$$scope={dirty:l,ctx:s}),e.$set(n)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){se(e,s)}}}function Ns(r){let e,t,s;function l(i){r[2](i)}let n={config:r[0],props:r[4]};return r[1]!==void 0&&(n.instance=r[1]),e=new Yt({props:n}),Ne.push(()=>Kt(e,"instance",l)),{c(){ee(e.$$.fragment)},l(i){ne(e.$$.fragment,i)},m(i,o){te(e,i,o),s=!0},p(i,o){const a={};o&1&&(a.config=i[0]),o&16&&(a.props=i[4]),!t&&o&2&&(t=!0,a.instance=i[1],Lt(()=>t=!1)),e.$set(a)},i(i){s||(F(e.$$.fragment,i),s=!0)},o(i){S(e.$$.fragment,i),s=!1},d(i){se(e,i)}}}function Vs(r){let e,t,s,l,n;const i=[Ms,Os],o=[];function a(c,f){return f&1&&(e=null),e==null&&(e=!!xe(c[0].props)),e?0:1}return t=a(r,-1),s=o[t]=i[t](r),{c(){s.c(),l=M()},l(c){s.l(c),l=M()},m(c,f){o[t].m(c,f),$(c,l,f),n=!0},p(c,[f]){let u=t;t=a(c,f),t===u?o[t].p(c,f):(fe(),S(o[u],1,1,()=>{o[u]=null}),ue(),s=o[t],s?s.p(c,f):(s=o[t]=i[t](c),s.c()),F(s,1),s.m(l.parentNode,l))},i(c){n||(F(s),n=!0)},o(c){S(s),n=!1},d(c){o[t].d(c),c&&d(l)}}}function Ps(r,e,t){let{config:s}=e,l;Gt(function(){return s.eventHandlers.forEach(([a,c])=>{const f=l.$$.callbacks[a]??[];f.push(c),t(1,l.$$.callbacks[a]=f,l)}),function(){s.eventHandlers.forEach(([c,f])=>{const u=l.$$.callbacks[c],_=u.findIndex(z=>z===f);u.splice(_,1)})}});function n(o){l=o,t(1,l)}function i(o){l=o,t(1,l)}return r.$$set=o=>{"config"in o&&t(0,s=o.config)},[s,l,n,i]}class Gs extends Ae{constructor(e){super(),Fe(this,e,Ps,Vs,Re,{config:0})}}function Ks(r){let e,t;return e=new Gs({props:{config:r[0]}}),{c(){ee(e.$$.fragment)},l(s){ne(e.$$.fragment,s)},m(s,l){te(e,s,l),t=!0},p(s,l){const n={};l&1&&(n.config=s[0]),e.$set(n)},i(s){t||(F(e.$$.fragment,s),t=!0)},o(s){S(e.$$.fragment,s),t=!1},d(s){se(e,s)}}}function Ls(r){let e;return{c(){e=K(r[0])},l(t){e=L(t,r[0])},m(t,s){$(t,e,s)},p(t,s){s&1&&pe(e,t[0])},i:he,o:he,d(t){t&&d(e)}}}function zs(r){let e;return{c(){e=K(r[1])},l(t){e=L(t,r[1])},m(t,s){$(t,e,s)},p(t,s){s&2&&pe(e,t[1])},i:he,o:he,d(t){t&&d(e)}}}function Us(r){let e,t,s,l,n;const i=[zs,Ls,Ks],o=[];function a(c,f){return f&1&&(e=null),e==null&&(e=!!xe(c[0])),e?0:typeof c[0]!="object"?1:2}return t=a(r,-1),s=o[t]=i[t](r),{c(){s.c(),l=M()},l(c){s.l(c),l=M()},m(c,f){o[t].m(c,f),$(c,l,f),n=!0},p(c,[f]){let u=t;t=a(c,f),t===u?o[t].p(c,f):(fe(),S(o[u],1,1,()=>{o[u]=null}),ue(),s=o[t],s?s.p(c,f):(s=o[t]=i[t](c),s.c()),F(s,1),s.m(l.parentNode,l))},i(c){n||(F(s),n=!0)},o(c){S(s),n=!1},d(c){o[t].d(c),c&&d(l)}}}function qs(r,e,t){let s,{of:l}=e;const n=xe(l)?l:Hs;return Ce(r,n,i=>t(1,s=i)),r.$$set=i=>{"of"in i&&t(0,l=i.of)},[l,s,n]}class et extends Ae{constructor(e){super(),Fe(this,e,qs,Us,Re,{of:0})}}class Ys{constructor(e,t){m(this,"component");m(this,"props");m(this,"eventHandlers",[]);m(this,"children",[]);this.component=e,this.props=t}on(e,t){return this.eventHandlers.push([e,t]),this}slot(...e){return this.children=e,this}}function Js(r,e){return new Ys(r,e)}class Jt{constructor({header:e,footer:t,height:s,plugins:l}){m(this,"header");m(this,"footer");m(this,"height");m(this,"plugins");this.header=e,this.footer=t,this.height=s,this.plugins=l}isFlat(){return"__flat"in this}isData(){return"__data"in this}isDisplay(){return"__display"in this}isGroup(){return"__group"in this}}class Qt extends Jt{constructor({header:t,footer:s,plugins:l,id:n}){super({header:t,footer:s,plugins:l,height:1});m(this,"__flat",!0);m(this,"id");this.id=n??String(t)}}class Qs extends Qt{constructor({header:t,footer:s,plugins:l,cell:n,accessor:i,id:o}){super({header:t,footer:s,plugins:l,id:"Initialization not complete"});m(this,"__data",!0);m(this,"cell");m(this,"accessorKey");m(this,"accessorFn");if(this.cell=n,i instanceof Function?this.accessorFn=i:this.accessorKey=i,o===void 0&&this.accessorKey===void 0&&t===void 0)throw new Error("A column id, string accessor, or header is required");const a=typeof this.accessorKey=="string"?this.accessorKey:null;this.id=o??a??String(t)}getValue(t){if(this.accessorFn!==void 0)return this.accessorFn(t);if(this.accessorKey!==void 0)return t[this.accessorKey]}}class Ws extends Qt{constructor({header:t,footer:s,plugins:l,id:n,cell:i,data:o}){super({header:t,footer:s,plugins:l,id:n});m(this,"__display",!0);m(this,"cell");m(this,"data");this.cell=i,this.data=o}}class Xs extends Jt{constructor({header:t,footer:s,columns:l,plugins:n}){const i=Math.max(...l.map(o=>o.height))+1;super({header:t,footer:s,height:i,plugins:n});m(this,"__group",!0);m(this,"columns");m(this,"ids");this.columns=l,this.ids=Wt(l)}}const Wt=r=>r.flatMap(e=>e.isFlat()?[e.id]:e.isGroup()?e.ids:[]),Xt=r=>r.flatMap(e=>e.isFlat()?[e]:e.isGroup()?Xt(e.columns):[]),Zs=r=>{const e=new Map;return r.forEach(t=>{e.set(t,(e.get(t)??0)+1)}),e},xs=r=>Array.from(Zs(r).entries()).filter(([,e])=>e!==1).map(([e])=>e),el=r=>Object.entries(r).map(([e,t])=>`${e}:${t}`).join(";"),tl=(r,e)=>r.style===void 0&&e.style===void 0?{...r,...e}:{...r,...e,style:{...typeof r.style=="object"?r.style:{},...typeof e.style=="object"?e.style:{}}},Me=r=>r.style===void 0||typeof r.style!="object"?r:{...r,style:el(r.style)};class Le{constructor({id:e}){m(this,"id");m(this,"attrsForName",{});m(this,"propsForName",{});m(this,"state");this.id=e}attrs(){return le(Object.values(this.attrsForName),e=>{let t={};return e.forEach(s=>{t=tl(t,s)}),Me(t)})}props(){return qt(this.propsForName)}injectState(e){this.state=e}applyHook(e,t){t.props!==void 0&&(this.propsForName[e]=t.props),t.attrs!==void 0&&(this.attrsForName[e]=t.attrs)}}class Zt extends Le{constructor({id:t,row:s}){super({id:t});m(this,"row");this.row=s}attrs(){return le(super.attrs(),t=>({...t,role:"cell"}))}rowColId(){return`${this.row.id}:${this.column.id}`}dataRowColId(){if(this.row.isData())return`${this.row.dataId}:${this.column.id}`}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class tt extends Zt{constructor({row:t,column:s,label:l,value:n}){super({id:s.id,row:t});m(this,"__data",!0);m(this,"column");m(this,"label");m(this,"value");this.column=s,this.label=l,this.value=n}render(){if(this.label===void 0)return`${this.value}`;if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new tt({row:this.row,column:this.column,label:this.label,value:this.value})}}class st extends Zt{constructor({row:t,column:s,label:l}){super({id:s.id,row:t});m(this,"__display",!0);m(this,"column");m(this,"label");this.column=s,this.label=l}render(){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new st({row:this.row,column:this.column,label:this.label})}}const ge=r=>r!==void 0;class sl extends Le{constructor({id:t,cells:s,cellForId:l,depth:n=0,parentRow:i}){super({id:t});m(this,"cells");m(this,"cellForId");m(this,"depth");m(this,"parentRow");m(this,"subRows");this.cells=s,this.cellForId=l,this.depth=n,this.parentRow=i}attrs(){return le(super.attrs(),t=>({...t,role:"row"}))}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class lt extends sl{constructor({id:t,dataId:s,original:l,cells:n,cellForId:i,depth:o=0,parentRow:a}){super({id:t,cells:n,cellForId:i,depth:o,parentRow:a});m(this,"__data",!0);m(this,"dataId");m(this,"original");this.dataId=s,this.original=l}clone({includeCells:t=!1,includeSubRows:s=!1}={}){var n;const l=new lt({id:this.id,dataId:this.dataId,cellForId:this.cellForId,cells:this.cells,original:this.original,depth:this.depth});if(t){const i=Object.fromEntries(Object.entries(l.cellForId).map(([a,c])=>{const f=c.clone();return f.row=l,[a,f]})),o=l.cells.map(({id:a})=>i[a]);l.cellForId=i,l.cells=o}if(s){const i=(n=this.subRows)==null?void 0:n.map(o=>o.clone({includeCells:t,includeSubRows:s}));l.subRows=i}else l.subRows=this.subRows;return l}}const ll=(r,e,{rowDataId:t}={})=>{const s=r.map((l,n)=>{const i=n.toString();return new lt({id:i,dataId:t!==void 0?t(l,n):i,original:l,cells:[],cellForId:{}})});return r.forEach((l,n)=>{const i=e.map(o=>{if(o.isData()){const a=o,c=a.getValue(l);return new tt({row:s[n],column:a,label:o.cell,value:c})}if(o.isDisplay()){const a=o;return new st({row:s[n],column:a,label:o.cell})}throw new Error("Unrecognized `FlatColumn` implementation")});s[n].cells=i,e.forEach((o,a)=>{s[n].cellForId[o.id]=i[a]})}),s},rl=(r,e)=>{const t=r.map(s=>{const l=s.clone();return l.cells=[],l.cellForId={},l});return r.length===0||e.length===0?r:(r.forEach((s,l)=>{const n=s.cells.map(o=>{const a=o.clone();return a.row=t[l],a}),i=e.map(o=>n.find(a=>a.id===o)).filter(ge);t[l].cells=i,n.forEach(o=>{t[l].cellForId[o.id]=o})}),t)},xt=" ";class es extends Le{constructor({id:t,label:s,colspan:l,colstart:n}){super({id:t});m(this,"label");m(this,"colspan");m(this,"colstart");this.label=s,this.colspan=l,this.colstart=n}render(){if(this.label instanceof Function){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}return this.label}attrs(){return le(super.attrs(),t=>({...t,role:"columnheader",colspan:this.colspan}))}isFlat(){return"__flat"in this}isData(){return"__data"in this}isFlatDisplay(){return"__flat"in this&&"__display"in this}isGroup(){return"__group"in this}isGroupDisplay(){return"__group"in this&&"__display"in this}}class ze extends es{constructor({id:t,label:s,colstart:l}){super({id:t,label:s,colspan:1,colstart:l});m(this,"__flat",!0)}clone(){return new ze({id:this.id,label:this.label,colstart:this.colstart})}}class rt extends ze{constructor({id:t,label:s,accessorKey:l,accessorFn:n,colstart:i}){super({id:t,label:s,colstart:i});m(this,"__data",!0);m(this,"accessorKey");m(this,"accessorFn");this.accessorKey=l,this.accessorFn=n}clone(){return new rt({id:this.id,label:this.label,accessorFn:this.accessorFn,accessorKey:this.accessorKey,colstart:this.colstart})}}class Ue extends ze{constructor({id:t,label:s=xt,colstart:l}){super({id:t,label:s,colstart:l});m(this,"__display",!0)}clone(){return new Ue({id:this.id,label:this.label,colstart:this.colstart})}}class qe extends es{constructor({label:t,ids:s,allIds:l,colspan:n,colstart:i}){super({id:`[${s.join(",")}]`,label:t,colspan:n,colstart:i});m(this,"__group",!0);m(this,"ids");m(this,"allId");m(this,"allIds");this.ids=s,this.allId=`[${l.join(",")}]`,this.allIds=l}setIds(t){this.ids=t,this.id=`[${this.ids.join(",")}]`}pushId(t){this.ids=[...this.ids,t],this.id=`[${this.ids.join(",")}]`}clone(){return new qe({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}class nt extends qe{constructor({label:t=xt,ids:s,allIds:l,colspan:n=1,colstart:i}){super({label:t,ids:s,allIds:l,colspan:n,colstart:i});m(this,"__display",!0)}clone(){return new nt({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}const nl=r=>r.reduce((e,t)=>e+t,0),ts=(r,e)=>{const t=[];for(let s=0;s<e;s++)t.push(Array(r).fill(null));return t},mt=r=>{const e=r.length;if(e===0)return r;const t=r[0].length,s=ts(e,t);for(let l=0;l<t;l++)for(let n=0;n<e;n++)s[l][n]=r[n][l];return s};class ot extends Le{constructor({id:t,cells:s}){super({id:t});m(this,"cells");this.cells=s}attrs(){return le(super.attrs(),t=>({...t,role:"row"}))}clone(){return new ot({id:this.id,cells:this.cells})}}const ol=(r,e=[])=>{const t=il(r);let s=mt(t);return s=al(s,e),cl(s),fl(mt(s))},il=r=>{const e=nl(r.map(n=>n.isGroup()?n.ids.length:1)),t=Math.max(...r.map(n=>n.height)),s=ts(e,t);let l=0;return r.forEach(n=>{const i=t-n.height;ss(s,n,i,l),l+=n.isGroup()?n.ids.length:1}),s.map((n,i)=>n.map((o,a)=>{var f;if(o!==null)return o;if(i===t-1)return new Ue({id:a.toString(),colstart:a});const c=((f=s[t-1][a])==null?void 0:f.id)??a.toString();return new nt({ids:[],allIds:[c],colstart:a})}))},ss=(r,e,t,s)=>{if(e.isData()){r[r.length-1][s]=new rt({label:e.header,accessorFn:e.accessorFn,accessorKey:e.accessorKey,id:e.id,colstart:s});return}if(e.isDisplay()){r[r.length-1][s]=new Ue({id:e.id,label:e.header,colstart:s});return}if(e.isGroup()){for(let n=0;n<e.ids.length;n++)r[t][s+n]=new qe({label:e.header,colspan:1,allIds:e.ids,ids:[],colstart:s});let l=0;e.columns.forEach(n=>{ss(r,n,t+1,s+l),l+=n.isGroup()?n.ids.length:1});return}},al=(r,e)=>{if(e.length===0)return r;const t=[];return e.forEach((s,l)=>{const n=r.find(i=>{const o=i[i.length-1];if(!o.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");return o.id===s});n!==void 0&&t.push(n.map(i=>{const o=i.clone();return o.colstart=l,o}))}),t},cl=r=>{r.forEach(e=>{const t=e[e.length-1];if(!t.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");e.forEach(s=>{s.isGroup()&&s.pushId(t.id)})})},fl=r=>r.map((e,t)=>new ot({id:t.toString(),cells:ul(e)})),ul=r=>{if(r.length===0)return r;const e=[];let t=0,s=1;for(;t<r.length;){const l=r[t].clone();if(!l.isGroup()){e.push(l),t++;continue}s=t+1;const n=[...l.ids];for(;s<r.length;){const i=r[s];if(!i.isGroup()||l.allId!==i.allId)break;n.push(...i.ids),s++}l.setIds(n),l.colspan=s-t,e.push(l),t=s}return e},dl=(r,e,{rowDataId:t}={})=>{const{data:s,plugins:l}=r,n=Xt(e),i=De(n),o=le([s,i],([g,I])=>ll(g,I,{rowDataId:t})),a=$e([]),c=$e(),f=$e([]),u=$e([]),_=$e({role:"table"}),z=$e({}),W=$e({role:"rowgroup"}),X={data:s,columns:e,flatColumns:n,tableAttrs:_,tableHeadAttrs:z,tableBodyAttrs:W,visibleColumns:a,headerRows:c,originalRows:o,rows:f,pageRows:u},N=Object.fromEntries(Object.entries(l).map(([g,I])=>{const D=Object.fromEntries(n.map(U=>{var re;const q=(re=U.plugins)==null?void 0:re[g];if(q!==void 0)return[U.id,q]}).filter(ge));return[g,I({pluginName:g,tableState:X,columnOptions:D})]})),x=Object.fromEntries(Object.entries(N).map(([g,I])=>[g,I.pluginState])),H={data:s,columns:e,flatColumns:n,tableAttrs:_,tableHeadAttrs:z,tableBodyAttrs:W,visibleColumns:a,headerRows:c,originalRows:o,rows:f,pageRows:u,pluginStates:x},h=Object.values(N).map(g=>g.deriveTableAttrs).filter(ge);let b=De({role:"table"});h.forEach(g=>{b=g(b)});const T=le(b,g=>{const I=Me(g);return _.set(I),I}),V=Object.values(N).map(g=>g.deriveTableBodyAttrs).filter(ge);let O=De({});V.forEach(g=>{O=g(O)});const v=le(O,g=>{const I=Me(g);return z.set(I),I}),R=Object.values(N).map(g=>g.deriveTableBodyAttrs).filter(ge);let w=De({role:"rowgroup"});R.forEach(g=>{w=g(w)});const y=le(w,g=>{const I=Me(g);return W.set(I),I}),E=Object.values(N).map(g=>g.deriveFlatColumns).filter(ge);let B=i;E.forEach(g=>{B=g(B)});const ie=le(B,g=>(a.set(g),g)),P=le([o,ie],([g,I])=>rl(g,I.map(D=>D.id))),we=Object.values(N).map(g=>g.deriveRows).filter(ge);let de=P;we.forEach(g=>{de=g(de)});const ke=le(de,g=>(g.forEach(I=>{I.injectState(H),I.cells.forEach(D=>{D.injectState(H)})}),Object.entries(N).forEach(([I,D])=>{g.forEach(U=>{var q;((q=D.hooks)==null?void 0:q["tbody.tr"])!==void 0&&U.applyHook(I,D.hooks["tbody.tr"](U)),U.cells.forEach(re=>{var ae;((ae=D.hooks)==null?void 0:ae["tbody.tr.td"])!==void 0&&re.applyHook(I,D.hooks["tbody.tr.td"](re))})})}),f.set(g),g)),Ee=Object.values(N).map(g=>g.derivePageRows).filter(ge);let be=ke;Ee.forEach(g=>{be=g(be)});const Ye=le(be,g=>(g.forEach(I=>{I.injectState(H),I.cells.forEach(D=>{D.injectState(H)})}),Object.entries(N).forEach(([I,D])=>{g.forEach(U=>{var q;((q=D.hooks)==null?void 0:q["tbody.tr"])!==void 0&&U.applyHook(I,D.hooks["tbody.tr"](U)),U.cells.forEach(re=>{var ae;((ae=D.hooks)==null?void 0:ae["tbody.tr.td"])!==void 0&&re.applyHook(I,D.hooks["tbody.tr.td"](re))})})}),u.set(g),g)),Te=le(ie,g=>{const I=ol(e,g.map(D=>D.id));return I.forEach(D=>{D.injectState(H),D.cells.forEach(U=>{U.injectState(H)})}),Object.entries(N).forEach(([D,U])=>{I.forEach(q=>{var re;((re=U.hooks)==null?void 0:re["thead.tr"])!==void 0&&q.applyHook(D,U.hooks["thead.tr"](q)),q.cells.forEach(ae=>{var Be;((Be=U.hooks)==null?void 0:Be["thead.tr.th"])!==void 0&&ae.applyHook(D,U.hooks["thead.tr.th"](ae))})})}),c.set(I),I});return{tableAttrs:T,tableHeadAttrs:v,tableBodyAttrs:y,visibleColumns:ie,flatColumns:n,headerRows:Te,originalRows:o,rows:ke,pageRows:Ye,pluginStates:x}};class hl{constructor(e,t){m(this,"data");m(this,"plugins");this.data=e,this.plugins=t}createColumns(e){const t=Wt(e),s=xs(t);if(s.length!==0)throw new Error(`Duplicate column ids not allowed: "${s.join('", "')}"`);return e}column(e){return new Qs(e)}group(e){return new Xs(e)}display(e){return new Ws(e)}createViewModel(e,t){return dl(this,e,t)}}const vt=(r,e={})=>new hl(r,e);function _l(r){let e=r[0],t=[],s=Ze(e,3,[]);for(var l=1;l<r.length;l++){let f=Ze(r[l],3,[]);for(var n in f){let u=!1;for(var i in s)pl(f[n],s[i])&&(u=!0);u||s.push(f[n])}}if(s.length==0)return[];for(var o in s){let f=[];s[o][s[o].length-2].length<=1?f.push(s[o][s[o].length-4]+" "+s[o][s[o].length-2]):f.push(s[o][s[o].length-3]);for(var a=0;a<r.length;a++){let u=r[a];e:for(var c in s[o]){let _=s[o][c];console.log("Traversing key: ",_," dataset: ",a);let z="";if(_=="#text"&&"@partyid"in u?(z=u["@partyid"],u=u[_],u+=" ("+z+")"):u=u[_],u==null){console.log("key not found in j: ",a),console.log(s[o]);break e}}u==null?f.push(""):f.push(u)}f.length>0&&t.push(f)}return t}function Ze(r,e,t){let s=[];for(var l in r){let o=r[l];if(l=="#text"){let a=[];for(var n in t)a.push(t[n]);a.push(l),s.push(a)}else if(typeof o=="object"){let a=t.slice();a.push(l);let c=Ze(o,3,a);for(var i in c)s.push(c[i])}}return s}function pl(r,e){if(r.length!=e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!=e[t])return!1;return!0}function wt(r,e,t){const s=r.slice();return s[50]=e[t],s}function kt(r,e,t){const s=r.slice();return s[54]=e[t],s}function $t(r,e,t){const s=r.slice();return s[58]=e[t],s}function Et(r,e,t){const s=r.slice();return s[54]=e[t],s}function yt(r,e,t){const s=r.slice();return s[63]=e[t],s[64]=e,s[65]=t,s}function Ct(r,e,t){const s=r.slice();return s[66]=e[t],s}function At(r,e,t){const s=r.slice();return s[69]=e[t],s[65]=t,s}function Ft(r){let e,t,s,l,n,i,o,a;return{c(){e=C("span"),t=K("Cache date: "),s=K(r[10]),l=K(`.
						`),n=C("span"),i=C("i"),this.h()},l(c){e=A(c,"SPAN",{class:!0});var f=j(e);t=L(f,"Cache date: "),s=L(f,r[10]),l=L(f,`.
						`),f.forEach(d),n=A(c,"SPAN",{title:!0});var u=j(n);i=A(u,"I",{class:!0}),j(i).forEach(d),u.forEach(d),this.h()},h(){G(e,"class","italic"),G(i,"class","fa-solid fa-rotate"),G(n,"title","Refresh cache")},m(c,f){$(c,e,f),k(e,t),k(e,s),k(e,l),$(c,n,f),k(n,i),o||(a=[me(n,"keypress",r[15]),me(n,"click",r[15])],o=!0)},p(c,f){f[0]&1024&&pe(s,c[10])},d(c){c&&d(e),c&&d(n),o=!1,zt(a)}}}function Rt(r){let e,t,s,l,n=r[8],i=[];for(let o=0;o<n.length;o+=1)i[o]=St(yt(r,n,o));return{c(){e=C("p"),t=K(`Selection of versions only has an effect starting from version v2.17. Before the latest
				version is used.`),s=J();for(let o=0;o<i.length;o+=1)i[o].c();l=M(),this.h()},l(o){e=A(o,"P",{class:!0});var a=j(e);t=L(a,`Selection of versions only has an effect starting from version v2.17. Before the latest
				version is used.`),a.forEach(d),s=Q(o);for(let c=0;c<i.length;c+=1)i[c].l(o);l=M(),this.h()},h(){G(e,"class","pt-8 pb-8")},m(o,a){$(o,e,a),k(e,t),$(o,s,a);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(o,a);$(o,l,a)},p(o,a){if(a[0]&3932546){n=o[8];let c;for(c=0;c<n.length;c+=1){const f=yt(o,n,c);i[c]?i[c].p(f,a):(i[c]=St(f),i[c].c(),i[c].m(l.parentNode,l))}for(;c<i.length;c+=1)i[c].d(1);i.length=n.length}},d(o){o&&d(e),o&&d(s),je(i,o),o&&d(l)}}}function It(r){let e,t=r[69].Id+"",s;return{c(){e=C("option"),s=K(t),this.h()},l(l){e=A(l,"OPTION",{class:!0});var n=j(e);s=L(n,t),n.forEach(d),this.h()},h(){G(e,"class","bg-surface-500"),e.__value=r[65],e.value=e.__value},m(l,n){$(l,e,n),k(e,s)},p(l,n){n[0]&2&&t!==(t=l[69].Id+"")&&pe(s,t)},d(l){l&&d(e)}}}function Dt(r){let e,t=r[20]()+"",s,l,n,i=r[1][r[8][r[65]]].Versions,o=[];for(let c=0;c<i.length;c+=1)o[c]=jt(Ct(r,i,c));function a(){r[25].call(e,r[65])}return{c(){e=C("select");for(let c=0;c<o.length;c+=1)o[c].c();s=K(t),this.h()},l(c){e=A(c,"SELECT",{class:!0,id:!0});var f=j(e);for(let u=0;u<o.length;u+=1)o[u].l(f);s=L(f,t),f.forEach(d),this.h()},h(){G(e,"class","select variant-form-material"),G(e,"id","version_select_"+{i:r[65]}),r[7][r[65]]===void 0&&Ut(a)},m(c,f){$(c,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);k(e,s),Pe(e,r[7][r[65]],!0),l||(n=me(e,"change",a),l=!0)},p(c,f){if(r=c,f[0]&2097410){i=r[1][r[8][r[65]]].Versions;let u;for(u=0;u<i.length;u+=1){const _=Ct(r,i,u);o[u]?o[u].p(_,f):(o[u]=jt(_),o[u].c(),o[u].m(e,s))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}f[0]&386&&Pe(e,r[7][r[65]])},d(c){c&&d(e),je(o,c),l=!1,n()}}}function jt(r){let e,t=r[21]()+"",s,l,n=r[66].Id+"",i,o,a;return{c(){e=C("option"),s=K(t),l=K(" ("),i=K(n),o=K(")"),this.h()},l(c){e=A(c,"OPTION",{class:!0});var f=j(e);s=L(f,t),l=L(f," ("),i=L(f,n),o=L(f,")"),f.forEach(d),this.h()},h(){G(e,"class","bg-surface-500"),e.__value=a=r[66].Id,e.value=e.__value},m(c,f){$(c,e,f),k(e,s),k(e,l),k(e,i),k(e,o)},p(c,f){f[0]&258&&n!==(n=c[66].Id+"")&&pe(i,n),f[0]&258&&a!==(a=c[66].Id)&&(e.__value=a,e.value=e.__value)},d(c){c&&d(e)}}}function St(r){let e,t,s,l=r[65]+1+"",n,i,o,a,c,f,u,_,z,W,X,N,x,H=r[1],h=[];for(let v=0;v<H.length;v+=1)h[v]=It(At(r,H,v));function b(){r[23].call(c,r[65])}function T(){return r[24](r[65])}let V=r[7].length>=r[65]&&Dt(r);function O(){return r[26](r[65])}return{c(){e=C("label"),t=C("span"),s=K("Dataset "),n=K(l),i=K(":"),o=J(),a=C("div"),c=C("select");for(let v=0;v<h.length;v+=1)h[v].c();f=J(),V&&V.c(),u=J(),_=C("button"),z=K("Remove"),W=J(),X=C("br"),this.h()},l(v){e=A(v,"LABEL",{class:!0,for:!0});var R=j(e);t=A(R,"SPAN",{});var w=j(t);s=L(w,"Dataset "),n=L(w,l),i=L(w,":"),w.forEach(d),o=Q(R),a=A(R,"DIV",{class:!0});var y=j(a);c=A(y,"SELECT",{class:!0,id:!0});var E=j(c);for(let ie=0;ie<h.length;ie+=1)h[ie].l(E);E.forEach(d),f=Q(y),V&&V.l(y),u=Q(y),_=A(y,"BUTTON",{class:!0});var B=j(_);z=L(B,"Remove"),B.forEach(d),y.forEach(d),R.forEach(d),W=Q(v),X=A(v,"BR",{}),this.h()},h(){G(c,"class","select variant-form-material"),G(c,"id","ds_select_"+{i:r[65]}),r[8][r[65]]===void 0&&Ut(b),G(_,"class","variant-filled-secondary"),G(a,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] "),G(e,"class","input-label w-80"),G(e,"for","ds_select_"+{i:r[65]})},m(v,R){$(v,e,R),k(e,t),k(t,s),k(t,n),k(t,i),k(e,o),k(e,a),k(a,c);for(let w=0;w<h.length;w+=1)h[w]&&h[w].m(c,null);Pe(c,r[8][r[65]],!0),k(a,f),V&&V.m(a,null),k(a,u),k(a,_),k(_,z),$(v,W,R),$(v,X,R),N||(x=[me(c,"change",b),me(c,"change",T),me(_,"click",O)],N=!0)},p(v,R){if(r=v,R[0]&2){H=r[1];let w;for(w=0;w<H.length;w+=1){const y=At(r,H,w);h[w]?h[w].p(y,R):(h[w]=It(y),h[w].c(),h[w].m(c,null))}for(;w<h.length;w+=1)h[w].d(1);h.length=H.length}R[0]&256&&Pe(c,r[8][r[65]]),r[7].length>=r[65]?V?V.p(r,R):(V=Dt(r),V.c(),V.m(a,u)):V&&(V.d(1),V=null)},d(v){v&&d(e),je(h,v),V&&V.d(),v&&d(W),v&&d(X),N=!1,zt(x)}}}function Tt(r){let e,t,s,l,n;return{c(){e=C("div"),t=C("button"),s=K("Calculate Diff"),this.h()},l(i){e=A(i,"DIV",{class:!0});var o=j(e);t=A(o,"BUTTON",{class:!0});var a=j(t);s=L(a,"Calculate Diff"),a.forEach(d),o.forEach(d),this.h()},h(){G(t,"class","btn bg-primary-500 rounded-md"),t.disabled=r[0],G(e,"class","pl-80")},m(i,o){$(i,e,o),k(e,t),k(t,s),l||(n=me(t,"click",r[16]),l=!0)},p(i,o){o[0]&1&&(t.disabled=i[0])},d(i){i&&d(e),l=!1,n()}}}function Bt(r){let e,t,s,l,n,i,o;return i=new gs({props:{$$slots:{default:[bl]},$$scope:{ctx:r}}}),{c(){e=C("div"),t=C("div"),s=C("p"),l=K("Loading"),n=J(),ee(i.$$.fragment),this.h()},l(a){e=A(a,"DIV",{class:!0});var c=j(e);t=A(c,"DIV",{class:!0});var f=j(t);s=A(f,"P",{});var u=j(s);l=L(u,"Loading"),u.forEach(d),n=Q(f),ne(i.$$.fragment,f),f.forEach(d),c.forEach(d),this.h()},h(){G(t,"class","w-full max-w-[120px] mx-auto space-y-4"),G(e,"class","card variant-glass p-4 grid grid-cols-2 gap-4 text-center")},m(a,c){$(a,e,c),k(e,t),k(t,s),k(s,l),k(t,n),te(i,t,null),o=!0},p(a,c){const f={};c[0]&512|c[2]&512&&(f.$$scope={dirty:c,ctx:a}),i.$set(f)},i(a){o||(F(i.$$.fragment,a),o=!0)},o(a){S(i.$$.fragment,a),o=!1},d(a){a&&d(e),se(i)}}}function bl(r){let e=r[9].value+"",t,s;return{c(){t=K(e),s=K("%")},l(l){t=L(l,e),s=L(l,"%")},m(l,n){$(l,t,n),$(l,s,n)},p(l,n){n[0]&512&&e!==(e=l[9].value+"")&&pe(t,e)},d(l){l&&d(t),l&&d(s)}}}function Ht(r){let e,t,s,l=[],n=new Map,i,o,a=[],c=new Map,f,u=r[12];const _=h=>h[58].id;for(let h=0;h<u.length;h+=1){let b=$t(r,u,h),T=_(b);n.set(T,l[h]=Mt(T,b))}let z=r[14];const W=h=>h[50].id;for(let h=0;h<z.length;h+=1){let b=wt(r,z,h),T=W(b);c.set(T,a[h]=Vt(T,b))}let X=[r[13]],N={};for(let h=0;h<X.length;h+=1)N=_e(N,X[h]);let x=[{class:"table table-hover"},r[11]],H={};for(let h=0;h<x.length;h+=1)H=_e(H,x[h]);return{c(){e=C("div"),t=C("table"),s=C("thead");for(let h=0;h<l.length;h+=1)l[h].c();i=J(),o=C("tbody");for(let h=0;h<a.length;h+=1)a[h].c();this.h()},l(h){e=A(h,"DIV",{class:!0});var b=j(e);t=A(b,"TABLE",{class:!0});var T=j(t);s=A(T,"THEAD",{});var V=j(s);for(let v=0;v<l.length;v+=1)l[v].l(V);V.forEach(d),i=Q(T),o=A(T,"TBODY",{});var O=j(o);for(let v=0;v<a.length;v+=1)a[v].l(O);O.forEach(d),T.forEach(d),b.forEach(d),this.h()},h(){ce(o,N),ce(t,H),G(e,"class","table-container")},m(h,b){$(h,e,b),k(e,t),k(t,s);for(let T=0;T<l.length;T+=1)l[T]&&l[T].m(s,null);k(t,i),k(t,o);for(let T=0;T<a.length;T+=1)a[T]&&a[T].m(o,null);f=!0},p(h,b){b[0]&4096|b[1]&71303168&&(u=h[12],fe(),l=Ge(l,b,_,1,h,u,n,s,Ke,Mt,null,$t),ue()),b[0]&16384|b[1]&71303168&&(z=h[14],fe(),a=Ge(a,b,W,1,h,z,c,o,Ke,Vt,null,wt),ue()),ce(o,N=ve(X,[b[0]&8192&&h[13]])),ce(t,H=ve(x,[{class:"table table-hover"},b[0]&2048&&h[11]]))},i(h){if(!f){for(let b=0;b<u.length;b+=1)F(l[b]);for(let b=0;b<z.length;b+=1)F(a[b]);f=!0}},o(h){for(let b=0;b<l.length;b+=1)S(l[b]);for(let b=0;b<a.length;b+=1)S(a[b]);f=!1},d(h){h&&d(e);for(let b=0;b<l.length;b+=1)l[b].d();for(let b=0;b<a.length;b+=1)a[b].d()}}}function gl(r){let e,t,s,l;t=new et({props:{of:r[54].render()}});let n=[r[57]],i={};for(let o=0;o<n.length;o+=1)i=_e(i,n[o]);return{c(){e=C("th"),ee(t.$$.fragment),s=J(),this.h()},l(o){e=A(o,"TH",{});var a=j(e);ne(t.$$.fragment,a),a.forEach(d),s=Q(o),this.h()},h(){ce(e,i)},m(o,a){$(o,e,a),te(t,e,null),$(o,s,a),l=!0},p(o,a){const c={};a[0]&4096&&(c.of=o[54].render()),t.$set(c),ce(e,i=ve(n,[a[1]&67108864&&o[57]]))},i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){S(t.$$.fragment,o),l=!1},d(o){o&&d(e),se(t),o&&d(s)}}}function Ot(r,e){let t,s,l;return s=new Se({props:{attrs:e[54].attrs(),$$slots:{default:[gl,({attrs:n})=>({57:n}),({attrs:n})=>[0,n?67108864:0]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=M(),ee(s.$$.fragment),this.h()},l(n){t=M(),ne(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){$(n,t,i),te(s,n,i),l=!0},p(n,i){e=n;const o={};i[0]&4096&&(o.attrs=e[54].attrs()),i[0]&4096|i[1]&67108864|i[2]&512&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(n){l||(F(s.$$.fragment,n),l=!0)},o(n){S(s.$$.fragment,n),l=!1},d(n){n&&d(t),se(s,n)}}}function ml(r){let e,t=[],s=new Map,l,n,i=r[58].cells;const o=f=>f[54].id;for(let f=0;f<i.length;f+=1){let u=Et(r,i,f),_=o(u);s.set(_,t[f]=Ot(_,u))}let a=[r[53]],c={};for(let f=0;f<a.length;f+=1)c=_e(c,a[f]);return{c(){e=C("tr");for(let f=0;f<t.length;f+=1)t[f].c();l=J(),this.h()},l(f){e=A(f,"TR",{});var u=j(e);for(let _=0;_<t.length;_+=1)t[_].l(u);u.forEach(d),l=Q(f),this.h()},h(){ce(e,c)},m(f,u){$(f,e,u);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);$(f,l,u),n=!0},p(f,u){u[0]&4096|u[1]&67108864&&(i=f[58].cells,fe(),t=Ge(t,u,o,1,f,i,s,e,Ke,Ot,null,Et),ue()),ce(e,c=ve(a,[u[1]&4194304&&f[53]]))},i(f){if(!n){for(let u=0;u<i.length;u+=1)F(t[u]);n=!0}},o(f){for(let u=0;u<t.length;u+=1)S(t[u]);n=!1},d(f){f&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&d(l)}}}function Mt(r,e){let t,s,l;return s=new Se({props:{rowAttrs:e[58].attrs(),$$slots:{default:[ml,({rowAttrs:n})=>({53:n}),({rowAttrs:n})=>[0,n?4194304:0]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=M(),ee(s.$$.fragment),this.h()},l(n){t=M(),ne(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){$(n,t,i),te(s,n,i),l=!0},p(n,i){e=n;const o={};i[0]&4096&&(o.rowAttrs=e[58].attrs()),i[0]&4096|i[1]&4194304|i[2]&512&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(n){l||(F(s.$$.fragment,n),l=!0)},o(n){S(s.$$.fragment,n),l=!1},d(n){n&&d(t),se(s,n)}}}function vl(r){let e,t,s,l;t=new et({props:{of:r[54].render()}});let n=[{class:"table-cell-fit align-top"},r[57]],i={};for(let o=0;o<n.length;o+=1)i=_e(i,n[o]);return{c(){e=C("td"),ee(t.$$.fragment),s=J(),this.h()},l(o){e=A(o,"TD",{class:!0});var a=j(e);ne(t.$$.fragment,a),a.forEach(d),s=Q(o),this.h()},h(){ce(e,i)},m(o,a){$(o,e,a),te(t,e,null),$(o,s,a),l=!0},p(o,a){const c={};a[0]&16384&&(c.of=o[54].render()),t.$set(c),ce(e,i=ve(n,[{class:"table-cell-fit align-top"},a[1]&67108864&&o[57]]))},i(o){l||(F(t.$$.fragment,o),l=!0)},o(o){S(t.$$.fragment,o),l=!1},d(o){o&&d(e),se(t),o&&d(s)}}}function Nt(r,e){let t,s,l;return s=new Se({props:{attrs:e[54].attrs(),$$slots:{default:[vl,({attrs:n})=>({57:n}),({attrs:n})=>[0,n?67108864:0]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=M(),ee(s.$$.fragment),this.h()},l(n){t=M(),ne(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){$(n,t,i),te(s,n,i),l=!0},p(n,i){e=n;const o={};i[0]&16384&&(o.attrs=e[54].attrs()),i[0]&16384|i[1]&67108864|i[2]&512&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(n){l||(F(s.$$.fragment,n),l=!0)},o(n){S(s.$$.fragment,n),l=!1},d(n){n&&d(t),se(s,n)}}}function wl(r){let e,t=[],s=new Map,l,n,i=r[50].cells;const o=f=>f[54].id;for(let f=0;f<i.length;f+=1){let u=kt(r,i,f),_=o(u);s.set(_,t[f]=Nt(_,u))}let a=[r[53]],c={};for(let f=0;f<a.length;f+=1)c=_e(c,a[f]);return{c(){e=C("tr");for(let f=0;f<t.length;f+=1)t[f].c();l=J(),this.h()},l(f){e=A(f,"TR",{});var u=j(e);for(let _=0;_<t.length;_+=1)t[_].l(u);u.forEach(d),l=Q(f),this.h()},h(){ce(e,c)},m(f,u){$(f,e,u);for(let _=0;_<t.length;_+=1)t[_]&&t[_].m(e,null);$(f,l,u),n=!0},p(f,u){u[0]&16384|u[1]&67108864&&(i=f[50].cells,fe(),t=Ge(t,u,o,1,f,i,s,e,Ke,Nt,null,kt),ue()),ce(e,c=ve(a,[u[1]&4194304&&f[53]]))},i(f){if(!n){for(let u=0;u<i.length;u+=1)F(t[u]);n=!0}},o(f){for(let u=0;u<t.length;u+=1)S(t[u]);n=!1},d(f){f&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&d(l)}}}function Vt(r,e){let t,s,l;return s=new Se({props:{rowAttrs:e[50].attrs(),$$slots:{default:[wl,({rowAttrs:n})=>({53:n}),({rowAttrs:n})=>[0,n?4194304:0]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=M(),ee(s.$$.fragment),this.h()},l(n){t=M(),ne(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){$(n,t,i),te(s,n,i),l=!0},p(n,i){e=n;const o={};i[0]&16384&&(o.rowAttrs=e[50].attrs()),i[0]&16384|i[1]&4194304|i[2]&512&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(n){l||(F(s.$$.fragment,n),l=!0)},o(n){S(s.$$.fragment,n),l=!1},d(n){n&&d(t),se(s,n)}}}function kl(r){let e,t,s,l,n,i,o,a,c,f,u,_,z,W,X,N,x,H,h,b,T,V,O=r[10]&&Ft(r),v=r[1]&&Rt(r),R=r[8].length>=2&&Tt(r),w=r[0]==!0&&Bt(r),y=r[2].length>1&&Ht(r);return{c(){e=K(`F2.1

`),t=C("main"),s=C("h2"),l=K("Compare Datasets & Versions"),n=J(),i=C("div"),o=C("div"),a=C("div"),c=C("button"),f=K("Add Datasets"),u=J(),_=C("div"),O&&O.c(),z=J(),v&&v.c(),W=J(),R&&R.c(),X=J(),w&&w.c(),N=J(),y&&y.c(),x=J(),H=C("style"),h=K(`table {
			border-spacing: 0;
			border-top: 1px solid black;
			border-left: 1px solid black;
		}
		th,
		td {
			border-bottom: 1px solid black;
			border-right: 1px solid black;
			padding: 0.5rem;
		}
		.table tbody td {
			white-space: break-spaces;
		}`),this.h()},l(E){e=L(E,`F2.1

`),t=A(E,"MAIN",{class:!0});var B=j(t);s=A(B,"H2",{class:!0});var ie=j(s);l=L(ie,"Compare Datasets & Versions"),ie.forEach(d),n=Q(B),i=A(B,"DIV",{class:!0});var P=j(i);o=A(P,"DIV",{class:!0});var we=j(o);a=A(we,"DIV",{});var de=j(a);c=A(de,"BUTTON",{class:!0,title:!0});var ke=j(c);f=L(ke,"Add Datasets"),ke.forEach(d),u=Q(de),_=A(de,"DIV",{});var Ee=j(_);O&&O.l(Ee),Ee.forEach(d),de.forEach(d),we.forEach(d),z=Q(P),v&&v.l(P),W=Q(P),R&&R.l(P),X=Q(P),w&&w.l(P),N=Q(P),y&&y.l(P),P.forEach(d),x=Q(B),H=A(B,"STYLE",{});var be=j(H);h=L(be,`table {
			border-spacing: 0;
			border-top: 1px solid black;
			border-left: 1px solid black;
		}
		th,
		td {
			border-bottom: 1px solid black;
			border-right: 1px solid black;
			padding: 0.5rem;
		}
		.table tbody td {
			white-space: break-spaces;
		}`),be.forEach(d),B.forEach(d),this.h()},h(){G(s,"class","pt-4 pb-4 text-secondary-700 dark:text-white"),G(c,"class","btn bg-primary-500 rounded-md "),c.disabled=r[0],G(c,"title","Add Datasets to compare. 1st dataset is the reference for comparison."),G(o,"class","grid justify-items-start pr-8"),G(i,"class","width-max"),G(t,"class","p-4")},m(E,B){$(E,e,B),$(E,t,B),k(t,s),k(s,l),k(t,n),k(t,i),k(i,o),k(o,a),k(a,c),k(c,f),k(a,u),k(a,_),O&&O.m(_,null),k(i,z),v&&v.m(i,null),k(i,W),R&&R.m(i,null),k(i,X),w&&w.m(i,null),k(i,N),y&&y.m(i,null),k(t,x),k(t,H),k(H,h),b=!0,T||(V=me(c,"click",r[17]),T=!0)},p(E,B){(!b||B[0]&1)&&(c.disabled=E[0]),E[10]?O?O.p(E,B):(O=Ft(E),O.c(),O.m(_,null)):O&&(O.d(1),O=null),E[1]?v?v.p(E,B):(v=Rt(E),v.c(),v.m(i,W)):v&&(v.d(1),v=null),E[8].length>=2?R?R.p(E,B):(R=Tt(E),R.c(),R.m(i,X)):R&&(R.d(1),R=null),E[0]==!0?w?(w.p(E,B),B[0]&1&&F(w,1)):(w=Bt(E),w.c(),F(w,1),w.m(i,N)):w&&(fe(),S(w,1,1,()=>{w=null}),ue()),E[2].length>1?y?(y.p(E,B),B[0]&4&&F(y,1)):(y=Ht(E),y.c(),F(y,1),y.m(i,null)):y&&(fe(),S(y,1,1,()=>{y=null}),ue())},i(E){b||(F(w),F(y),b=!0)},o(E){S(w),S(y),b=!1},d(E){E&&d(e),E&&d(t),O&&O.d(),v&&v.d(),R&&R.d(),w&&w.d(),y&&y.d(),T=!1,V()}}}function $l(r,e,t){let s,l,n,i,o,a,c,f,u,_,z,W,X=he,N=()=>(X(),X=He(o,p=>t(11,W=p)),o),x,H=he,h=()=>(H(),H=He(i,p=>t(12,x=p)),i),b,T=he,V=()=>(T(),T=He(c,p=>t(13,b=p)),c),O,v=he,R=()=>(v(),v=He(a,p=>t(14,O=p)),a);Ce(r,Xe,p=>t(30,f=p)),Ce(r,ct,p=>t(31,u=p)),Ce(r,ft,p=>t(32,_=p)),Ce(r,ut,p=>t(10,z=p)),r.$$.on_destroy.push(()=>X()),r.$$.on_destroy.push(()=>H()),r.$$.on_destroy.push(()=>T()),r.$$.on_destroy.push(()=>v());let w={Accept:"application/json",Authorization:"Bearer "+_,"Content-Type":"application/json"},y=!1,E;We.subscribe(p=>{t(1,E=p)}),Gt(async()=>{We.useLocalStorage(),ct.useLocalStorage(),ft.useLocalStorage(),Xe.useLocalStorage(),E.length==0&&we();const p=await ms(w,u.toString());Xe.set(p)});let B=u+"/api/Metadata/",ie=u+"/api/Dataset",P=[];async function we(){t(0,y=!0);const p=await vs(ie);We.set(p),ut.set(new Date().toDateString()),t(0,y=!1)}async function de(p,Z){console.log("Fetching metadata for dataset_id: ",p,Z);let Y="";return f=="2.16"&&(Y=B+"/"+p),f=="2.17"?Y=B+"/"+p+"/"+Z:Y=B+"/"+p+"/version_number/"+Z,await(await fetch(Y,{method:"GET",headers:w})).json()}function ke(p){t(2,P=[]);let Z=p.length;for(var Y=0;Y<Z;Y++){let Ie={section:p[Y][0]};for(var oe=1;oe<p[Y].length;oe++){let ye={};if(ye.diff={},ye.orig=p[Y][oe],oe>0){let Je=bs(p[Y][oe],p[Y][1]);ye.diff=Je,console.log(ye)}Ie["col"+oe]=ye}P.push(Ie)}t(0,y=!1),Oe.set(P),re(P)}async function Ee(){t(0,y=!0);let p=[];console.log("Fetching metadata...");for(var Z=0;Z<l.length;Z++){let oe=E[l[Z]].Id,Ie=n[Z],Je=E.find(Qe=>Qe.Id===oe).Versions.find(Qe=>Qe.Id===Ie),as=await de(oe,Je.Number);p.push(as)}let Y=_l(p);console.log(Y),ke(Y)}function be(){n.push(E[1].Versions[0].Id),t(7,n)}function Ye(){l.push(1),t(8,l),be()}function Te(p){console.log(l[p]),console.log(E[l[p]].Versions[0].Id),t(7,n[p]=E[l[p]].Versions[0].Id,n),t(7,n)}function g(p){console.log("Deleting dataset: ",p),l.splice(p,1),t(8,l),n.splice(p,1),t(7,n),I(p+1)}function I(p){console.log(P);for(var Z=0;Z<20&&!("col"+p in P[0]);Z++)p+=1;for(var Y in P)console.log("Deleting: ",P[Y],"col"+p),delete P[Y]["col"+p];console.log("Deleting: ",P),t(2,P),Oe.set(P),re(P)}let D=vt(Oe),U=D.createColumns([D.column({header:"Field name",accessor:"section"})]),q=D.createViewModel(U);function re(p){D=vt(Oe),U=[],U=D.createColumns([D.column({header:"Field Name",accessor:"section"})]);let Z=1;for(var Y in p[0])Y!=="section"&&(U.push(D.column({header:"Dataset "+Z,accessor:Y,cell:({value:oe})=>Js(Cs,{diff:oe.diff,diff_orig:oe.orig})})),Z=Z+1);t(22,q=D.createViewModel(U)),h(t(6,i=q.headerRows)),N(t(5,o=q.tableAttrs)),R(t(4,a=q.rows)),V(t(3,c=q.tableBodyAttrs))}let ae=0;const Be=()=>(ae=0,""),ls=()=>(ae++,ae);function rs(p){l[p]=at(this),t(8,l)}const ns=p=>Te(p);function os(p){n[p]=at(this),t(7,n),t(1,E),t(8,l)}const is=p=>g(p);return r.$$.update=()=>{r.$$.dirty[0]&4194304&&h(t(6,i=q.headerRows)),r.$$.dirty[0]&4194304&&N(t(5,o=q.tableAttrs)),r.$$.dirty[0]&4194304&&R(t(4,a=q.rows)),r.$$.dirty[0]&4194304&&V(t(3,c=q.tableBodyAttrs))},t(9,s={value:50,max:100,step:10}),t(8,l=[]),t(7,n=[]),[y,E,P,c,a,o,i,n,l,s,z,W,x,b,O,we,Ee,Ye,Te,g,Be,ls,q,rs,ns,os,is]}class jl extends Ae{constructor(e){super(),Fe(this,e,$l,kl,Re,{},null,[-1,-1,-1])}}export{jl as component,Dl as universal};
