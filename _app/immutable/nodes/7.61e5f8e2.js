import{S as Q,i as W,s as Y,k as _,q as P,a as T,l as m,m as E,r as j,h as f,c as N,n as d,b as A,D as o,a7 as q,L as U,T as J,M as H,_ as D,o as Z,u as x}from"../chunks/index.551e22bc.js";import{g as $}from"../chunks/utils.1db1d002.js";import{t as z,b as V,u as C,g as ee,e as te,f as se,c as le}from"../chunks/store.17fc6da4.js";const ae=!0,de=Object.freeze(Object.defineProperty({__proto__:null,prerender:ae},Symbol.toStringTag,{value:"Module"}));function re(n){let s,t,e,a,g,i,r=n[5]&&n[4]&&K(n);return{c(){r&&r.c(),s=T(),t=_("label"),e=_("button"),a=P("Logout"),this.h()},l(l){r&&r.l(l),s=N(l),t=m(l,"LABEL",{});var c=E(t);e=m(c,"BUTTON",{class:!0});var h=E(e);a=j(h,"Logout"),h.forEach(f),c.forEach(f),this.h()},h(){d(e,"class","btn bg-primary-500 rounded-md")},m(l,c){r&&r.m(l,c),A(l,s,c),A(l,t,c),o(t,e),o(e,a),g||(i=U(e,"click",n[7]),g=!0)},p(l,c){l[5]&&l[4]?r?r.p(l,c):(r=K(l),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(l){r&&r.d(l),l&&f(s),l&&f(t),g=!1,i()}}}function ne(n){let s,t,e,a,g,i,r,l,c,h,S,p=n[3]==!0&&F();return{c(){p&&p.c(),s=T(),t=_("label"),e=_("div"),a=_("input"),g=T(),i=_("input"),r=T(),l=_("button"),c=P("Login"),this.h()},l(u){p&&p.l(u),s=N(u),t=m(u,"LABEL",{class:!0});var b=E(t);e=m(b,"DIV",{class:!0});var k=E(e);a=m(k,"INPUT",{type:!0,placeholder:!0,id:!0,minlength:!0}),g=N(k),i=m(k,"INPUT",{type:!0,placeholder:!0,id:!0,minlength:!0}),r=N(k),l=m(k,"BUTTON",{class:!0});var B=E(l);c=j(B,"Login"),B.forEach(f),k.forEach(f),b.forEach(f),this.h()},h(){d(a,"type","text"),d(a,"placeholder","Username"),d(a,"id","name"),d(a,"minlength","2"),a.required=!0,d(i,"type","password"),d(i,"placeholder","Password"),d(i,"id","password_compare"),d(i,"minlength","2"),i.required=!0,d(l,"class","bg-primary-500"),d(e,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] rounded-md w-[500px]"),d(t,"class","input-label")},m(u,b){p&&p.m(u,b),A(u,s,b),A(u,t,b),o(t,e),o(e,a),q(a,n[2]),o(e,g),o(e,i),q(i,n[1]),o(e,r),o(e,l),o(l,c),h||(S=[U(a,"input",n[11]),U(i,"input",n[12]),U(i,"keypress",n[9]),U(l,"click",n[6])],h=!0)},p(u,b){u[3]==!0?p||(p=F(),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null),b&4&&a.value!==u[2]&&q(a,u[2]),b&2&&i.value!==u[1]&&q(i,u[1])},d(u){p&&p.d(u),u&&f(s),u&&f(t),h=!1,H(S)}}}function K(n){let s,t;return{c(){s=P("Logged in as: "),t=P(n[5])},l(e){s=j(e,"Logged in as: "),t=j(e,n[5])},m(e,a){A(e,s,a),A(e,t,a)},p(e,a){a&32&&x(t,e[5])},d(e){e&&f(s),e&&f(t)}}}function F(n){let s,t;return{c(){s=_("span"),t=P("Login failed!"),this.h()},l(e){s=m(e,"SPAN",{class:!0});var a=E(s);t=j(a,"Login failed!"),a.forEach(f),this.h()},h(){d(s,"class","text-red-500")},m(e,a){A(e,s,a),o(s,t)},d(e){e&&f(s)}}}function ie(n){let s,t,e,a,g,i,r,l,c,h,S,p,u,b,k,B,R;function v(y,w){return y[4]==""?ne:re}let I=v(n),L=I(n);return{c(){s=_("main"),t=_("label"),e=_("span"),a=P("BEXIS2 Instance URL (e.g. https://www.bexis.uni-jena.de)"),g=_("br"),i=T(),r=_("div"),l=_("input"),c=T(),h=_("button"),S=P("Set"),p=T(),u=_("br"),b=_("br"),k=T(),L.c(),this.h()},l(y){s=m(y,"MAIN",{class:!0});var w=E(s);t=m(w,"LABEL",{class:!0});var O=E(t);e=m(O,"SPAN",{});var X=E(e);a=j(X,"BEXIS2 Instance URL (e.g. https://www.bexis.uni-jena.de)"),X.forEach(f),g=m(O,"BR",{}),i=N(O),r=m(O,"DIV",{class:!0});var M=E(r);l=m(M,"INPUT",{class:!0,type:!0,id:!0}),c=N(M),h=m(M,"BUTTON",{class:!0});var G=E(h);S=j(G,"Set"),G.forEach(f),M.forEach(f),O.forEach(f),p=N(w),u=m(w,"BR",{}),b=m(w,"BR",{}),k=N(w),L.l(w),w.forEach(f),this.h()},h(){d(l,"class","w-96"),d(l,"type","text"),d(l,"id","name"),l.required=!0,d(h,"class","bg-primary-500"),d(r,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] rounded-md w-[500px]"),d(t,"class","input-label w-[380px]"),d(s,"class","p-4")},m(y,w){A(y,s,w),o(s,t),o(t,e),o(e,a),o(t,g),o(t,i),o(t,r),o(r,l),q(l,n[0]),o(r,c),o(r,h),o(h,S),o(s,p),o(s,u),o(s,b),o(s,k),L.m(s,null),B||(R=[U(l,"input",n[10]),U(h,"click",n[8])],B=!0)},p(y,[w]){w&1&&l.value!==y[0]&&q(l,y[0]),I===(I=v(y))&&L?L.p(y,w):(L.d(1),L=I(y),L&&(L.c(),L.m(s,null)))},i:J,o:J,d(y){y&&f(s),L.d(),B=!1,H(R)}}}function oe(n,s,t){let e,a,g;D(n,V,v=>t(13,e=v)),D(n,z,v=>t(4,a=v)),D(n,C,v=>t(5,g=v));let i="",r="",l="",c=!1,h={Accept:"application/json",Authorization:"Bearer "+a,"Content-Type":"application/json"};Z(async()=>{z.useLocalStorage(),V.useLocalStorage(),C.useLocalStorage(),t(0,i=e.toString())});async function S(){t(3,c=!1);let v={Accept:"*/*",Authorization:"Basic "+btoa(l+":"+r),"content-type":"application/json"},I=await fetch(e+"/api/tokens",{method:"GET",headers:v});if(I.status==200){let L=await I.json();console.log(L),z.set(L.Jwt),C.set(l)}else t(3,c=!0)}function p(){z.set(""),C.set("")}async function u(){p(),V.set(i),ee.set([]),te.set([]),se.set("");const v=await $(h,e.toString());le.set(v)}const b=v=>{v.charCode===13&&S()};function k(){i=this.value,t(0,i)}function B(){l=this.value,t(2,l)}function R(){r=this.value,t(1,r)}return[i,r,l,c,a,g,S,p,u,b,k,B,R]}class fe extends Q{constructor(s){super(),W(this,s,oe,ie,Y,{})}}export{fe as component,de as universal};
