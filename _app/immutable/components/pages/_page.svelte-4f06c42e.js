import{S as cn,i as fn,s as dn,k as U,l as B,m as Y,h as x,b as j,C as Ne,J as Un,o as hn,v as Bn,q as oe,a as J,r as ie,c as X,n as Be,H as D,K as ge,f as He,t as tt,d as Wn,L as pn,e as be,M as Se,N as _n,O as We,p as vt,x as zn,y as qn,z as Vn,A as Gn,g as Jn,P as gt,u as mn}from"../../chunks/index-182d32f6.js";import{w as Xn}from"../../chunks/index-b56a7874.js";function me(){}me.prototype={diff:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.callback;typeof n=="function"&&(o=n,n={}),this.options=n;var i=this;function l(C){return o?(setTimeout(function(){o(void 0,C)},0),!0):C}t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var u=r.length,a=t.length,c=1,s=u+a;n.maxEditLength&&(s=Math.min(s,n.maxEditLength));var h=[{newPos:-1,components:[]}],d=this.extractCommon(h[0],r,t,0);if(h[0].newPos+1>=u&&d+1>=a)return l([{value:this.join(r),count:r.length}]);function f(){for(var C=-1*c;C<=c;C+=2){var b=void 0,m=h[C-1],S=h[C+1],N=(S?S.newPos:0)-C;m&&(h[C-1]=void 0);var y=m&&m.newPos+1<u,H=S&&0<=N&&N<a;if(!y&&!H){h[C]=void 0;continue}if(!y||H&&m.newPos<S.newPos?(b=Zn(S),i.pushComponent(b.components,void 0,!0)):(b=m,b.newPos++,i.pushComponent(b.components,!0,void 0)),N=i.extractCommon(b,r,t,C),b.newPos+1>=u&&N+1>=a)return l(Yn(i,b.components,r,t,i.useLongestToken));h[C]=b}c++}if(o)(function C(){setTimeout(function(){if(c>s)return o();f()||C()},0)})();else for(;c<=s;){var p=f();if(p)return p}},pushComponent:function(t,r,n){var o=t[t.length-1];o&&o.added===r&&o.removed===n?t[t.length-1]={count:o.count+1,added:r,removed:n}:t.push({count:1,added:r,removed:n})},extractCommon:function(t,r,n,o){for(var i=r.length,l=n.length,u=t.newPos,a=u-o,c=0;u+1<i&&a+1<l&&this.equals(r[u+1],n[a+1]);)u++,a++,c++;return c&&t.components.push({count:c}),t.newPos=u,a},equals:function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},removeEmpty:function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function Yn(e,t,r,n,o){for(var i=0,l=t.length,u=0,a=0;i<l;i++){var c=t[i];if(c.removed){if(c.value=e.join(n.slice(a,a+c.count)),a+=c.count,i&&t[i-1].added){var h=t[i-1];t[i-1]=t[i],t[i]=h}}else{if(!c.added&&o){var s=r.slice(u,u+c.count);s=s.map(function(f,p){var C=n[a+p];return C.length>f.length?C:f}),c.value=e.join(s)}else c.value=e.join(r.slice(u,u+c.count));u+=c.count,c.added||(a+=c.count)}}var d=t[l-1];return l>1&&typeof d.value=="string"&&(d.added||d.removed)&&e.equals("",d.value)&&(t[l-2].value+=d.value,t.pop()),t}function Zn(e){return{newPos:e.newPos,components:e.components.slice(0)}}var Kn=new me;function Qn(e,t,r){return Kn.diff(e,t,r)}var yt=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,bt=/\S/,vn=new me;vn.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!bt.test(e)&&!bt.test(t)};vn.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&yt.test(t[r])&&yt.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var gn=new me;gn.tokenize=function(e){var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var o=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var $n=new me;$n.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var er=new me;er.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Me(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Me=function(t){return typeof t}:Me=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(e)}var tr=Object.prototype.toString,Ie=new me;Ie.useLongestToken=!0;Ie.tokenize=gn.tokenize;Ie.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,o=n===void 0?function(i,l){return typeof l>"u"?r:l}:n;return typeof e=="string"?e:JSON.stringify(nt(e,null,null,o),o,"  ")};Ie.equals=function(e,t){return me.prototype.equals.call(Ie,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function nt(e,t,r,n,o){t=t||[],r=r||[],n&&(e=n(o,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return r[i];var l;if(tr.call(e)==="[object Array]"){for(t.push(e),l=new Array(e.length),r.push(l),i=0;i<e.length;i+=1)l[i]=nt(e[i],t,r,n,o);return t.pop(),r.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),Me(e)==="object"&&e!==null){t.push(e),l={},r.push(l);var u=[],a;for(a in e)e.hasOwnProperty(a)&&u.push(a);for(u.sort(),i=0;i<u.length;i+=1)a=u[i],l[a]=nt(e[a],t,r,n,a);t.pop(),r.pop()}else l=e;return l}var rt=new me;rt.tokenize=function(e){return e.slice()};rt.join=rt.removeEmpty=function(e){return e};function wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,typeof(o=function(i,l){if(typeof i!="object"||i===null)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var a=u.call(i,"string");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(n.key))=="symbol"?o:String(o),n)}var o}function K(e,t,r){return t&&wt(e.prototype,t),r&&wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O.apply(this,arguments)}function G(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ot(e,t)}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ot(e,t)}function kt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(o,i){if(o){if(typeof o=="string")return Nt(o,i);var l=Object.prototype.toString.call(o).slice(8,-1);return l==="Object"&&o.constructor&&(l=o.constructor.name),l==="Map"||l==="Set"?Array.from(o):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Nt(o,i):void 0}}(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var re;(function(e){e[e.Init=0]="Init",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Rendered=3]="Rendered",e[e.Error=4]="Error"})(re||(re={}));var Ve,P,yn,bn,Pe,Ct,wn,ze={},kn=[],nr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ye(e,t){for(var r in t)e[r]=t[r];return e}function Nn(e){var t=e.parentNode;t&&t.removeChild(e)}function w(e,t,r){var n,o,i,l={};for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?Ve.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)l[i]===void 0&&(l[i]=e.defaultProps[i]);return Re(e,l,n,o,null)}function Re(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++yn};return o==null&&P.vnode!=null&&P.vnode(i),i}function ce(e){return e.children}function Fe(e,t){this.props=e,this.context=t}function Le(e,t){if(t==null)return e.__?Le(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Le(e):null}function Cn(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Cn(e)}}function it(e){(!e.__d&&(e.__d=!0)&&Pe.push(e)&&!qe.__r++||Ct!==P.debounceRendering)&&((Ct=P.debounceRendering)||setTimeout)(qe)}function qe(){for(var e;qe.__r=Pe.length;)e=Pe.sort(function(t,r){return t.__v.__b-r.__v.__b}),Pe=[],e.some(function(t){var r,n,o,i,l,u;t.__d&&(l=(i=(r=t).__v).__e,(u=r.__P)&&(n=[],(o=ye({},i)).__v=i.__v+1,st(u,i,o,r.__n,u.ownerSVGElement!==void 0,i.__h!=null?[l]:null,n,l??Le(i),i.__h),xn(n,i),i.__e!=l&&Cn(i)))})}function Sn(e,t,r,n,o,i,l,u,a,c){var s,h,d,f,p,C,b,m=n&&n.__k||kn,S=m.length;for(r.__k=[],s=0;s<t.length;s++)if((f=r.__k[s]=(f=t[s])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?Re(null,f,null,null,f):Array.isArray(f)?Re(ce,{children:f},null,null,null):f.__b>0?Re(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=r,f.__b=r.__b+1,(d=m[s])===null||d&&f.key==d.key&&f.type===d.type)m[s]=void 0;else for(h=0;h<S;h++){if((d=m[h])&&f.key==d.key&&f.type===d.type){m[h]=void 0;break}d=null}st(e,f,d=d||ze,o,i,l,u,a,c),p=f.__e,(h=f.ref)&&d.ref!=h&&(b||(b=[]),d.ref&&b.push(d.ref,null,f),b.push(h,f.__c||p,f)),p!=null?(C==null&&(C=p),typeof f.type=="function"&&f.__k===d.__k?f.__d=a=En(f,a,e):a=Pn(e,f,d,m,p,a),typeof r.type=="function"&&(r.__d=a)):a&&d.__e==a&&a.parentNode!=e&&(a=Le(d))}for(r.__e=C,s=S;s--;)m[s]!=null&&Ln(m[s],m[s]);if(b)for(s=0;s<b.length;s++)In(b[s],b[++s],b[++s])}function En(e,t,r){for(var n,o=e.__k,i=0;o&&i<o.length;i++)(n=o[i])&&(n.__=e,t=typeof n.type=="function"?En(n,t,r):Pn(r,n,n,o,n.__e,t));return t}function Pn(e,t,r,n,o,i){var l,u,a;if(t.__d!==void 0)l=t.__d,t.__d=void 0;else if(r==null||o!=i||o.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(o),l=null;else{for(u=i,a=0;(u=u.nextSibling)&&a<n.length;a+=1)if(u==o)break e;e.insertBefore(o,i),l=i}return l!==void 0?l:o.nextSibling}function St(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=r==null?"":typeof r!="number"||nr.test(t)?r:r+"px"}function Oe(e,t,r,n,o){var i;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||St(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||St(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n||e.addEventListener(t,i?Pt:Et,i):e.removeEventListener(t,i?Pt:Et,i);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,r))}}function Et(e){this.l[e.type+!1](P.event?P.event(e):e)}function Pt(e){this.l[e.type+!0](P.event?P.event(e):e)}function st(e,t,r,n,o,i,l,u,a){var c,s,h,d,f,p,C,b,m,S,N,y,H,k,_,v=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(a=r.__h,u=t.__e=r.__e,t.__h=null,i=[u]),(c=P.__b)&&c(t);try{e:if(typeof v=="function"){if(b=t.props,m=(c=v.contextType)&&n[c.__c],S=c?m?m.props.value:c.__:n,r.__c?C=(s=t.__c=r.__c).__=s.__E:("prototype"in v&&v.prototype.render?t.__c=s=new v(b,S):(t.__c=s=new Fe(b,S),s.constructor=v,s.render=or),m&&m.sub(s),s.props=b,s.state||(s.state={}),s.context=S,s.__n=n,h=s.__d=!0,s.__h=[],s._sb=[]),s.__s==null&&(s.__s=s.state),v.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=ye({},s.__s)),ye(s.__s,v.getDerivedStateFromProps(b,s.__s))),d=s.props,f=s.state,h)v.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(v.getDerivedStateFromProps==null&&b!==d&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(b,S),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(b,s.__s,S)===!1||t.__v===r.__v){for(s.props=b,s.state=s.__s,t.__v!==r.__v&&(s.__d=!1),s.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(F){F&&(F.__=t)}),N=0;N<s._sb.length;N++)s.__h.push(s._sb[N]);s._sb=[],s.__h.length&&l.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(b,s.__s,S),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(d,f,p)})}if(s.context=S,s.props=b,s.__v=t,s.__P=e,y=P.__r,H=0,"prototype"in v&&v.prototype.render){for(s.state=s.__s,s.__d=!1,y&&y(t),c=s.render(s.props,s.state,s.context),k=0;k<s._sb.length;k++)s.__h.push(s._sb[k]);s._sb=[]}else do s.__d=!1,y&&y(t),c=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++H<25);s.state=s.__s,s.getChildContext!=null&&(n=ye(ye({},n),s.getChildContext())),h||s.getSnapshotBeforeUpdate==null||(p=s.getSnapshotBeforeUpdate(d,f)),_=c!=null&&c.type===ce&&c.key==null?c.props.children:c,Sn(e,Array.isArray(_)?_:[_],t,r,n,o,i,l,u,a),s.base=t.__e,t.__h=null,s.__h.length&&l.push(s),C&&(s.__E=s.__=null),s.__e=!1}else i==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=rr(r.__e,t,r,n,o,i,l,a);(c=P.diffed)&&c(t)}catch(F){t.__v=null,(a||i!=null)&&(t.__e=u,t.__h=!!a,i[i.indexOf(u)]=null),P.__e(F,t,r)}}function xn(e,t){P.__c&&P.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){P.__e(n,r.__v)}})}function rr(e,t,r,n,o,i,l,u){var a,c,s,h=r.props,d=t.props,f=t.type,p=0;if(f==="svg"&&(o=!0),i!=null){for(;p<i.length;p++)if((a=i[p])&&"setAttribute"in a==!!f&&(f?a.localName===f:a.nodeType===3)){e=a,i[p]=null;break}}if(e==null){if(f===null)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,d.is&&d),i=null,u=!1}if(f===null)h===d||u&&e.data===d||(e.data=d);else{if(i=i&&Ve.call(e.childNodes),c=(h=r.props||ze).dangerouslySetInnerHTML,s=d.dangerouslySetInnerHTML,!u){if(i!=null)for(h={},p=0;p<e.attributes.length;p++)h[e.attributes[p].name]=e.attributes[p].value;(s||c)&&(s&&(c&&s.__html==c.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if(function(C,b,m,S,N){var y;for(y in m)y==="children"||y==="key"||y in b||Oe(C,y,null,m[y],S);for(y in b)N&&typeof b[y]!="function"||y==="children"||y==="key"||y==="value"||y==="checked"||m[y]===b[y]||Oe(C,y,b[y],m[y],S)}(e,d,h,o,u),s)t.__k=[];else if(p=t.props.children,Sn(e,Array.isArray(p)?p:[p],t,r,n,o&&f!=="foreignObject",i,l,i?i[0]:r.__k&&Le(r,0),u),i!=null)for(p=i.length;p--;)i[p]!=null&&Nn(i[p]);u||("value"in d&&(p=d.value)!==void 0&&(p!==e.value||f==="progress"&&!p||f==="option"&&p!==h.value)&&Oe(e,"value",p,h.value,!1),"checked"in d&&(p=d.checked)!==void 0&&p!==e.checked&&Oe(e,"checked",p,h.checked,!1))}return e}function In(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){P.__e(n,r)}}function Ln(e,t,r){var n,o;if(P.unmount&&P.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||In(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){P.__e(i,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&Ln(n[o],t,r||typeof e.type!="function");r||e.__e==null||Nn(e.__e),e.__=e.__e=e.__d=void 0}function or(e,t,r){return this.constructor(e,r)}function xe(e,t,r){var n,o,i;P.__&&P.__(e,t),o=(n=typeof r=="function")?null:r&&r.__k||t.__k,i=[],st(t,e=(!n&&r||t).__k=w(ce,null,[e]),o||ze,ze,t.ownerSVGElement!==void 0,!n&&r?[r]:o?null:t.firstChild?Ve.call(t.childNodes):null,i,!n&&r?r:o?o.__e:t.firstChild,n),xn(i,e)}function Tn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(e=="x"?t:3&t|8).toString(16)})}Ve=kn.slice,P={__e:function(e,t,r,n){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,n||{}),l=o.__d),l)return o.__E=o}catch(u){e=u}throw e}},yn=0,bn=function(e){return e!=null&&e.constructor===void 0},Fe.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ye({},this.state),typeof e=="function"&&(e=e(ye({},r),this.props)),e&&ye(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),it(this))},Fe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),it(this))},Fe.prototype.render=ce,Pe=[],qe.__r=0,wn=0;var Ge=function(){function e(t){this._id=void 0,this._id=t||Tn()}return K(e,[{key:"id",get:function(){return this._id}}]),e}();function ir(e){return w(e.parentElement||"span",{dangerouslySetInnerHTML:{__html:e.content}})}function at(e,t){return w(ir,{content:e,parentElement:t})}var Z,ct=function(e){function t(n){var o;return(o=e.call(this)||this).data=void 0,o.update(n),o}G(t,e);var r=t.prototype;return r.cast=function(n){return n instanceof HTMLElement?at(n.outerHTML):n},r.update=function(n){return this.data=this.cast(n),this},t}(Ge),Ke=function(e){function t(n){var o;return(o=e.call(this)||this)._cells=void 0,o.cells=n||[],o}G(t,e);var r=t.prototype;return r.cell=function(n){return this._cells[n]},r.toArray=function(){return this.cells.map(function(n){return n.data})},t.fromCells=function(n){return new t(n.map(function(o){return new ct(o.data)}))},K(t,[{key:"cells",get:function(){return this._cells},set:function(n){this._cells=n}},{key:"length",get:function(){return this.cells.length}}]),t}(Ge),Je=function(e){function t(r){var n;return(n=e.call(this)||this)._rows=void 0,n._length=void 0,n.rows=r instanceof Array?r:r instanceof Ke?[r]:[],n}return G(t,e),t.prototype.toArray=function(){return this.rows.map(function(r){return r.toArray()})},t.fromRows=function(r){return new t(r.map(function(n){return Ke.fromCells(n.cells)}))},t.fromArray=function(r){return new t((r=function(n){return!n[0]||n[0]instanceof Array?n:[n]}(r)).map(function(n){return new Ke(n.map(function(o){return new ct(o)}))}))},K(t,[{key:"rows",get:function(){return this._rows},set:function(r){this._rows=r}},{key:"length",get:function(){return this._length||this.rows.length},set:function(r){this._length=r}}]),t}(Ge),ft=function(){function e(){this.callbacks=void 0}var t=e.prototype;return t.init=function(r){this.callbacks||(this.callbacks={}),r&&!this.callbacks[r]&&(this.callbacks[r]=[])},t.listeners=function(){return this.callbacks},t.on=function(r,n){return this.init(r),this.callbacks[r].push(n),this},t.off=function(r,n){var o=r;return this.init(),this.callbacks[o]&&this.callbacks[o].length!==0?(this.callbacks[o]=this.callbacks[o].filter(function(i){return i!=n}),this):this},t.emit=function(r){var n=arguments,o=r;return this.init(o),this.callbacks[o].length>0&&(this.callbacks[o].forEach(function(i){return i.apply(void 0,[].slice.call(n,1))}),!0)},e}();(function(e){e[e.Initiator=0]="Initiator",e[e.ServerFilter=1]="ServerFilter",e[e.ServerSort=2]="ServerSort",e[e.ServerLimit=3]="ServerLimit",e[e.Extractor=4]="Extractor",e[e.Transformer=5]="Transformer",e[e.Filter=6]="Filter",e[e.Sort=7]="Sort",e[e.Limit=8]="Limit"})(Z||(Z={}));var de=function(e){function t(n){var o;return(o=e.call(this)||this).id=void 0,o._props=void 0,o._props={},o.id=Tn(),n&&o.setProps(n),o}G(t,e);var r=t.prototype;return r.process=function(){var n=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,n),this.emit.apply(this,["beforeProcess"].concat(n));var o=this._process.apply(this,n);return this.emit.apply(this,["afterProcess"].concat(n)),o},r.setProps=function(n){return Object.assign(this._props,n),this.emit("propsUpdated",this),this},K(t,[{key:"props",get:function(){return this._props}}]),t}(ft),lr=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype._process=function(r){return this.props.keyword?(n=String(this.props.keyword).trim(),o=this.props.columns,i=this.props.ignoreHiddenColumns,l=r,u=this.props.selector,n=n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new Je(l.rows.filter(function(a,c){return a.cells.some(function(s,h){if(!s||i&&o&&o[h]&&typeof o[h]=="object"&&o[h].hidden)return!1;var d="";if(typeof u=="function")d=u(s.data,c,h);else if(typeof s.data=="object"){var f=s.data;f&&f.props&&f.props.content&&(d=f.props.content)}else d=String(s.data);return new RegExp(n,"gi").test(d)})}))):r;var n,o,i,l,u},K(t,[{key:"type",get:function(){return Z.Filter}}]),t}(de);function L(){var e="gridjs";return""+e+[].slice.call(arguments).reduce(function(t,r){return t+"-"+r},"")}function R(){return[].slice.call(arguments).map(function(e){return e?e.toString():""}).filter(function(e){return e}).reduce(function(e,t){return(e||"")+" "+t},"").trim()}var De,W,Qe,xt,It=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype._process=function(r){if(!this.props.keyword)return r;var n={};return this.props.url&&(n.url=this.props.url(r.url,this.props.keyword)),this.props.body&&(n.body=this.props.body(r.body,this.props.keyword)),O({},r,n)},K(t,[{key:"type",get:function(){return Z.ServerFilter}}]),t}(de),Te=0,Dn=[],je=[],Lt=P.__b,Tt=P.__r,Dt=P.diffed,At=P.__c,Ot=P.unmount;function Xe(e,t){P.__h&&P.__h(W,e,Te||t),Te=0;var r=W.__H||(W.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:je}),r.__[e]}function _e(e){return Te=1,function(t,r,n){var o=Xe(De++,2);if(o.t=t,!o.__c&&(o.__=[Mt(void 0,r),function(l){var u=o.__N?o.__N[0]:o.__[0],a=o.t(u,l);u!==a&&(o.__N=[a,o.__[1]],o.__c.setState({}))}],o.__c=W,!W.u)){W.u=!0;var i=W.shouldComponentUpdate;W.shouldComponentUpdate=function(l,u,a){if(!o.__c.__H)return!0;var c=o.__c.__H.__.filter(function(h){return h.__c});if(c.every(function(h){return!h.__N}))return!i||i.call(this,l,u,a);var s=!1;return c.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(s=!0)}}),!(!s&&o.__c.props===l)&&(!i||i.call(this,l,u,a))}}return o.__N||o.__}(Mt,e)}function ee(e,t){var r=Xe(De++,3);!P.__s&&On(r.__H,t)&&(r.__=e,r.i=t,W.__H.__h.push(r))}function Ae(e){return Te=5,An(function(){return{current:e}},[])}function An(e,t){var r=Xe(De++,7);return On(r.__H,t)?(r.__V=e(),r.i=t,r.__h=e,r.__V):r.__}function ur(){for(var e;e=Dn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ue),e.__H.__h.forEach(lt),e.__H.__h=[]}catch(t){e.__H.__h=[],P.__e(t,e.__v)}}P.__b=function(e){W=null,Lt&&Lt(e)},P.__r=function(e){Tt&&Tt(e),De=0;var t=(W=e.__c).__H;t&&(Qe===W?(t.__h=[],W.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=je,r.__N=r.i=void 0})):(t.__h.forEach(Ue),t.__h.forEach(lt),t.__h=[])),Qe=W},P.diffed=function(e){Dt&&Dt(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Dn.push(t)!==1&&xt===P.requestAnimationFrame||((xt=P.requestAnimationFrame)||sr)(ur)),t.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==je&&(r.__=r.__V),r.i=void 0,r.__V=je})),Qe=W=null},P.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Ue),r.__h=r.__h.filter(function(n){return!n.__||lt(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],P.__e(n,r.__v)}}),At&&At(e,t)},P.unmount=function(e){Ot&&Ot(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ue(n)}catch(o){t=o}}),r.__H=void 0,t&&P.__e(t,r.__v))};var Ht=typeof requestAnimationFrame=="function";function sr(e){var t,r=function(){clearTimeout(n),Ht&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);Ht&&(t=requestAnimationFrame(r))}function Ue(e){var t=W,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),W=t}function lt(e){var t=W;e.__c=e.__(),W=t}function On(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function Mt(e,t){return typeof t=="function"?t(e):t}function te(){return function(e){var t=W.context[e.__c],r=Xe(De++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(W)),t.props.value):e.__}(Rn)}var ar={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(e,t){return"Page "+e+" of "+t},page:function(e){return"Page "+e},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},cr=function(){function e(r){this._language=void 0,this._defaultLanguage=void 0,this._language=r,this._defaultLanguage=ar}var t=e.prototype;return t.getString=function(r,n){if(!n||!r)return null;var o=r.split("."),i=o[0];if(n[i]){var l=n[i];return typeof l=="string"?function(){return l}:typeof l=="function"?l:this.getString(o.slice(1).join("."),l)}return null},t.translate=function(r){var n,o=this.getString(r,this._language);return(n=o||this.getString(r,this._defaultLanguage))?n.apply(void 0,[].slice.call(arguments,1)):r},e}();function Ye(){var e=te();return function(t){var r;return(r=e.translator).translate.apply(r,[t].concat([].slice.call(arguments,1)))}}var Rt=function(e){return function(t){return O({},t,{search:{keyword:e}})}};function Ee(){return te().store}function fe(e){var t=Ee(),r=_e(e(t.getState())),n=r[0],o=r[1];return ee(function(){return t.subscribe(function(){var i=e(t.getState());n!==i&&o(i)})},[]),n}function fr(){var e,t=_e(void 0),r=t[0],n=t[1],o=te(),i=o.search,l=Ye(),u=Ee().dispatch,a=fe(function(f){return f.search});ee(function(){r&&r.setProps({keyword:a==null?void 0:a.keyword})},[a,r]),ee(function(){n(i.server?new It({keyword:i.keyword,url:i.server.url,body:i.server.body}):new lr({keyword:i.keyword,columns:o.header&&o.header.columns,ignoreHiddenColumns:i.ignoreHiddenColumns||i.ignoreHiddenColumns===void 0,selector:i.selector})),i.keyword&&u(Rt(i.keyword))},[i]),ee(function(){return o.pipeline.register(r),function(){return o.pipeline.unregister(r)}},[o,r]);var c,s,h,d=function(f,p){return Te=8,An(function(){return f},p)}((c=function(f){f.target instanceof HTMLInputElement&&u(Rt(f.target.value))},s=r instanceof It?i.debounceTimeout||250:0,function(){var f=arguments;return new Promise(function(p){h&&clearTimeout(h),h=setTimeout(function(){return p(c.apply(void 0,[].slice.call(f)))},s)})}),[i,r]);return w("div",{className:L(R("search",(e=o.className)==null?void 0:e.search))},w("input",{type:"search",placeholder:l("search.placeholder"),"aria-label":l("search.placeholder"),onInput:d,className:R(L("input"),L("search","input")),value:(a==null?void 0:a.keyword)||""}))}var Ft=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var r=t.prototype;return r.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},r._process=function(n){var o=this.props.page;return new Je(n.rows.slice(o*this.props.limit,(o+1)*this.props.limit))},K(t,[{key:"type",get:function(){return Z.Limit}}]),t}(de),jt=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype._process=function(r){var n={};return this.props.url&&(n.url=this.props.url(r.url,this.props.page,this.props.limit)),this.props.body&&(n.body=this.props.body(r.body,this.props.page,this.props.limit)),O({},r,n)},K(t,[{key:"type",get:function(){return Z.ServerLimit}}]),t}(de);function dr(){var e=te(),t=e.pagination,r=t.server,n=t.summary,o=n===void 0||n,i=t.nextButton,l=i===void 0||i,u=t.prevButton,a=u===void 0||u,c=t.buttonsCount,s=c===void 0?3:c,h=t.limit,d=h===void 0?10:h,f=t.page,p=f===void 0?0:f,C=t.resetPageOnUpdate,b=C===void 0||C,m=Ae(null),S=_e(p),N=S[0],y=S[1],H=_e(0),k=H[0],_=H[1],v=Ye();ee(function(){return m.current=r?new jt({limit:d,page:N,url:r.url,body:r.body}):new Ft({limit:d,page:N}),m.current instanceof jt?e.pipeline.on("afterProcess",function(g){return _(g.length)}):m.current instanceof Ft&&m.current.on("beforeProcess",function(g){return _(g.length)}),e.pipeline.on("updated",F),e.pipeline.register(m.current),e.pipeline.on("error",function(){_(0),y(0)}),function(){e.pipeline.unregister(m.current),e.pipeline.off("updated",F)}},[]);var F=function(g){b&&g!==m.current&&y(0)},A=function(){return Math.ceil(k/d)},ne=function(g){if(g>=A()||g<0||g===N)return null;y(g),m.current.setProps({page:g})};return w("div",{className:R(L("pagination"),e.className.pagination)},w(ce,null,o&&k>0&&w("div",{role:"status","aria-live":"polite",className:R(L("summary"),e.className.paginationSummary),title:v("pagination.navigate",N+1,A())},v("pagination.showing")," ",w("b",null,v(""+(N*d+1)))," ",v("pagination.to")," ",w("b",null,v(""+Math.min((N+1)*d,k)))," ",v("pagination.of")," ",w("b",null,v(""+k))," ",v("pagination.results"))),w("div",{className:L("pages")},a&&w("button",{tabIndex:0,role:"button",disabled:N===0,onClick:function(){return ne(N-1)},title:v("pagination.previous"),"aria-label":v("pagination.previous"),className:R(e.className.paginationButton,e.className.paginationButtonPrev)},v("pagination.previous")),function(){if(s<=0)return null;var g=Math.min(A(),s),I=Math.min(N,Math.floor(g/2));return N+Math.floor(g/2)>=A()&&(I=g-(A()-N)),w(ce,null,A()>g&&N-I>0&&w(ce,null,w("button",{tabIndex:0,role:"button",onClick:function(){return ne(0)},title:v("pagination.firstPage"),"aria-label":v("pagination.firstPage"),className:e.className.paginationButton},v("1")),w("button",{tabIndex:-1,className:R(L("spread"),e.className.paginationButton)},"...")),Array.from(Array(g).keys()).map(function(E){return N+(E-I)}).map(function(E){return w("button",{tabIndex:0,role:"button",onClick:function(){return ne(E)},className:R(N===E?R(L("currentPage"),e.className.paginationButtonCurrent):null,e.className.paginationButton),title:v("pagination.page",E+1),"aria-label":v("pagination.page",E+1)},v(""+(E+1)))}),A()>g&&A()>N+I+1&&w(ce,null,w("button",{tabIndex:-1,className:R(L("spread"),e.className.paginationButton)},"..."),w("button",{tabIndex:0,role:"button",onClick:function(){return ne(A()-1)},title:v("pagination.page",A()),"aria-label":v("pagination.page",A()),className:e.className.paginationButton},v(""+A()))))}(),l&&w("button",{tabIndex:0,role:"button",disabled:A()===N+1||A()===0,onClick:function(){return ne(N+1)},title:v("pagination.next"),"aria-label":v("pagination.next"),className:R(e.className.paginationButton,e.className.paginationButtonNext)},v("pagination.next"))))}function hr(e,t){return typeof e=="string"?e.indexOf("%")>-1?t/100*parseInt(e,10):parseInt(e,10):e}function $e(e){return e?Math.floor(e)+"px":""}function pr(e){var t=e.tableRef.cloneNode(!0);return t.style.position="absolute",t.style.width="100%",t.style.zIndex="-2147483640",t.style.visibility="hidden",w("div",{ref:function(r){r&&r.appendChild(t)}})}function _r(e){if(!e)return"";var t=e.split(" ");return t.length===1&&/([a-z][A-Z])+/g.test(e)?e:t.map(function(r,n){return n==0?r.toLowerCase():r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()}).join("")}var we,ue=new(function(){function e(){}var t=e.prototype;return t.format=function(r,n){return"[Grid.js] ["+n.toUpperCase()+"]: "+r},t.error=function(r,n){n===void 0&&(n=!1);var o=this.format(r,"error");if(n)throw Error(o);console.error(o)},t.warn=function(r){console.warn(this.format(r,"warn"))},t.info=function(r){console.info(this.format(r,"info"))},e}());(function(e){e[e.Header=0]="Header",e[e.Footer=1]="Footer",e[e.Cell=2]="Cell"})(we||(we={}));var mr=function(){function e(){this.plugins=void 0,this.plugins=[]}var t=e.prototype;return t.get=function(r){return this.plugins.find(function(n){return n.id===r})},t.add=function(r){return r.id?this.get(r.id)?(ue.error("Duplicate plugin ID: "+r.id),this):(this.plugins.push(r),this):(ue.error("Plugin ID cannot be empty"),this)},t.remove=function(r){var n=this.get(r);return n&&this.plugins.splice(this.plugins.indexOf(n),1),this},t.list=function(r){var n;return n=r!=null||r!=null?this.plugins.filter(function(o){return o.position===r}):this.plugins,n.sort(function(o,i){return o.order&&i.order?o.order-i.order:1})},e}();function Ze(e){var t=this,r=te();if(e.pluginId){var n=r.plugin.get(e.pluginId);return n?w(ce,{},w(n.component,O({plugin:n},e.props))):null}return e.position!==void 0?w(ce,{},r.plugin.list(e.position).map(function(o){return w(o.component,O({plugin:o},t.props.props))})):null}var Ce=function(e){function t(){var n;return(n=e.call(this)||this)._columns=void 0,n._columns=[],n}G(t,e);var r=t.prototype;return r.adjustWidth=function(n,o,i){var l=n.container,u=n.autoWidth;if(!l)return this;var a=l.clientWidth,c={};o.current&&u&&(xe(w(pr,{tableRef:o.current}),i.current),c=function(f){var p=f.querySelector("table");if(!p)return{};var C=p.className,b=p.style.cssText;p.className=C+" "+L("shadowTable"),p.style.tableLayout="auto",p.style.width="auto",p.style.padding="0",p.style.margin="0",p.style.border="none",p.style.outline="none";var m=Array.from(p.parentNode.querySelectorAll("thead th")).reduce(function(S,N){var y;return N.style.width=N.clientWidth+"px",O(((y={})[N.getAttribute("data-column-id")]={minWidth:N.clientWidth},y),S)},{});return p.className=C,p.style.cssText=b,p.style.tableLayout="auto",Array.from(p.parentNode.querySelectorAll("thead th")).reduce(function(S,N){return S[N.getAttribute("data-column-id")].width=N.clientWidth,S},m)}(i.current));for(var s,h=Q(t.tabularFormat(this.columns).reduce(function(f,p){return f.concat(p)},[]));!(s=h()).done;){var d=s.value;d.columns&&d.columns.length>0||(!d.width&&u?d.id in c&&(d.width=$e(c[d.id].width),d.minWidth=$e(c[d.id].minWidth)):d.width=$e(hr(d.width,a)))}return o.current&&u&&xe(null,i.current),this},r.setSort=function(n,o){for(var i,l=Q(o||this.columns||[]);!(i=l()).done;){var u=i.value;u.columns&&u.columns.length>0?u.sort=void 0:u.sort===void 0&&n?u.sort={}:u.sort?typeof u.sort=="object"&&(u.sort=O({},u.sort)):u.sort=void 0,u.columns&&this.setSort(n,u.columns)}},r.setResizable=function(n,o){for(var i,l=Q(o||this.columns||[]);!(i=l()).done;){var u=i.value;u.resizable===void 0&&(u.resizable=n),u.columns&&this.setResizable(n,u.columns)}},r.setID=function(n){for(var o,i=Q(n||this.columns||[]);!(o=i()).done;){var l=o.value;l.id||typeof l.name!="string"||(l.id=_r(l.name)),l.id||ue.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),l.columns&&this.setID(l.columns)}},r.populatePlugins=function(n,o){for(var i,l=Q(o);!(i=l()).done;){var u=i.value;u.plugin!==void 0&&n.add(O({id:u.id},u.plugin,{position:we.Cell}))}},t.fromColumns=function(n){for(var o,i=new t,l=Q(n);!(o=l()).done;){var u=o.value;if(typeof u=="string"||bn(u))i.columns.push({name:u});else if(typeof u=="object"){var a=u;a.columns&&(a.columns=t.fromColumns(a.columns).columns),typeof a.plugin=="object"&&a.data===void 0&&(a.data=null),i.columns.push(u)}}return i},t.createFromConfig=function(n){var o=new t;return n.from?o.columns=t.fromHTMLTable(n.from).columns:n.columns?o.columns=t.fromColumns(n.columns).columns:!n.data||typeof n.data[0]!="object"||n.data[0]instanceof Array||(o.columns=Object.keys(n.data[0]).map(function(i){return{name:i}})),o.columns.length?(o.setID(),o.setSort(n.sort),o.setResizable(n.resizable),o.populatePlugins(n.plugin,o.columns),o):null},t.fromHTMLTable=function(n){for(var o,i=new t,l=Q(n.querySelector("thead").querySelectorAll("th"));!(o=l()).done;){var u=o.value;i.columns.push({name:u.innerHTML,width:u.width})}return i},t.tabularFormat=function(n){var o=[],i=n||[],l=[];if(i&&i.length){o.push(i);for(var u,a=Q(i);!(u=a()).done;){var c=u.value;c.columns&&c.columns.length&&(l=l.concat(c.columns))}l.length&&(o=o.concat(this.tabularFormat(l)))}return o},t.leafColumns=function(n){var o=[],i=n||[];if(i&&i.length)for(var l,u=Q(i);!(l=u()).done;){var a=l.value;a.columns&&a.columns.length!==0||o.push(a),a.columns&&(o=o.concat(this.leafColumns(a.columns)))}return o},t.maximumDepth=function(n){return this.tabularFormat([n]).length-1},K(t,[{key:"columns",get:function(){return this._columns},set:function(n){this._columns=n}},{key:"visibleColumns",get:function(){return this._columns.filter(function(n){return!n.hidden})}}]),t}(Ge),Hn=function(){},Ut=function(e){function t(n){var o;return(o=e.call(this)||this).data=void 0,o.set(n),o}G(t,e);var r=t.prototype;return r.get=function(){try{return Promise.resolve(this.data()).then(function(n){return{data:n,total:n.length}})}catch(n){return Promise.reject(n)}},r.set=function(n){return n instanceof Array?this.data=function(){return n}:n instanceof Function&&(this.data=n),this},t}(Hn),Mn=function(e){function t(n){var o;return(o=e.call(this)||this).options=void 0,o.options=n,o}G(t,e);var r=t.prototype;return r.handler=function(n){return typeof this.options.handle=="function"?this.options.handle(n):n.ok?n.json():(ue.error("Could not fetch data: "+n.status+" - "+n.statusText,!0),null)},r.get=function(n){var o=O({},this.options,n);return typeof o.data=="function"?o.data(o):fetch(o.url,o).then(this.handler.bind(this)).then(function(i){return{data:o.then(i),total:typeof o.total=="function"?o.total(i):void 0}})},t}(Hn),vr=function(){function e(){}return e.createFromConfig=function(t){var r=null;return t.data&&(r=new Ut(t.data)),t.from&&(r=new Ut(this.tableElementToArray(t.from)),t.from.style.display="none"),t.server&&(r=new Mn(t.server)),r||ue.error("Could not determine the storage type",!0),r},e.tableElementToArray=function(t){for(var r,n,o=[],i=Q(t.querySelector("tbody").querySelectorAll("tr"));!(r=i()).done;){for(var l,u=[],a=Q(r.value.querySelectorAll("td"));!(l=a()).done;){var c=l.value;c.childNodes.length===1&&c.childNodes[0].nodeType===Node.TEXT_NODE?u.push((n=c.innerHTML,new DOMParser().parseFromString(n,"text/html").documentElement.textContent)):u.push(at(c.innerHTML))}o.push(u)}return o},e}(),Bt=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function $(e,t,r){if(!e.s){if(r instanceof ke){if(!r.s)return void(r.o=$.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then($.bind(null,e,t),$.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var ke=function(){function e(){}return e.prototype.then=function(t,r){var n=new e,o=this.s;if(o){var i=1&o?t:r;if(i){try{$(n,1,i(this.v))}catch(l){$(n,2,l)}return n}return this}return this.o=function(l){try{var u=l.v;1&l.s?$(n,1,t?t(u):u):r?$(n,1,r(u)):$(n,2,u)}catch(a){$(n,2,a)}},n},e}();function Wt(e){return e instanceof ke&&1&e.s}var gr=function(e){function t(n){var o;return(o=e.call(this)||this)._steps=new Map,o.cache=new Map,o.lastProcessorIndexUpdated=-1,n&&n.forEach(function(i){return o.register(i)}),o}G(t,e);var r=t.prototype;return r.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},r.register=function(n,o){if(o===void 0&&(o=null),n){if(n.type===null)throw Error("Processor type is not defined");n.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(n,o),this.afterRegistered(n)}},r.unregister=function(n){if(n){var o=this._steps.get(n.type);o&&o.length&&(this._steps.set(n.type,o.filter(function(i){return i!=n})),this.emit("updated",n))}},r.addProcessorByPriority=function(n,o){var i=this._steps.get(n.type);if(!i){var l=[];this._steps.set(n.type,l),i=l}if(o===null||o<0)i.push(n);else if(i[o]){var u=i.slice(0,o-1),a=i.slice(o+1);this._steps.set(n.type,u.concat(n).concat(a))}else i[o]=n},r.getStepsByType=function(n){return this.steps.filter(function(o){return o.type===n})},r.getSortedProcessorTypes=function(){return Object.keys(Z).filter(function(n){return!isNaN(Number(n))}).map(function(n){return Number(n)})},r.process=function(n){try{var o=function(s){return i.lastProcessorIndexUpdated=u.length,i.emit("afterProcess",a),a},i=this,l=i.lastProcessorIndexUpdated,u=i.steps,a=n,c=function(s,h){try{var d=function(f,p,C){if(typeof f[Bt]=="function"){var b,m,S,N=f[Bt]();if(function _(v){try{for(;!(b=N.next()).done;)if((v=p(b.value))&&v.then){if(!Wt(v))return void v.then(_,S||(S=$.bind(null,m=new ke,2)));v=v.v}m?$(m,1,v):m=v}catch(F){$(m||(m=new ke),2,F)}}(),N.return){var y=function(_){try{b.done||N.return()}catch{}return _};if(m&&m.then)return m.then(y,function(_){throw y(_)});y()}return m}if(!("length"in f))throw new TypeError("Object is not iterable");for(var H=[],k=0;k<f.length;k++)H.push(f[k]);return function(_,v,F){var A,ne,g=-1;return function I(E){try{for(;++g<_.length;)if((E=v(g))&&E.then){if(!Wt(E))return void E.then(I,ne||(ne=$.bind(null,A=new ke,2)));E=E.v}A?$(A,1,E):A=E}catch(V){$(A||(A=new ke),2,V)}}(),A}(H,function(_){return p(H[_])})}(u,function(f){var p=i.findProcessorIndexByID(f.id),C=function(){if(p>=l)return Promise.resolve(f.process(a)).then(function(b){i.cache.set(f.id,a=b)});a=i.cache.get(f.id)}();if(C&&C.then)return C.then(function(){})})}catch(f){return h(f)}return d&&d.then?d.then(void 0,h):d}(0,function(s){throw ue.error(s),i.emit("error",a),s});return Promise.resolve(c&&c.then?c.then(o):o())}catch(s){return Promise.reject(s)}},r.findProcessorIndexByID=function(n){return this.steps.findIndex(function(o){return o.id==n})},r.setLastProcessorIndex=function(n){var o=this.findProcessorIndexByID(n.id);this.lastProcessorIndexUpdated>o&&(this.lastProcessorIndexUpdated=o)},r.processorPropsUpdated=function(n){this.setLastProcessorIndex(n),this.emit("propsUpdated"),this.emit("updated",n)},r.afterRegistered=function(n){this.setLastProcessorIndex(n),this.emit("afterRegister"),this.emit("updated",n)},K(t,[{key:"steps",get:function(){for(var n,o=[],i=Q(this.getSortedProcessorTypes());!(n=i()).done;){var l=this._steps.get(n.value);l&&l.length&&(o=o.concat(l))}return o.filter(function(u){return u})}}]),t}(ft),yr=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype._process=function(r){try{return Promise.resolve(this.props.storage.get(r))}catch(n){return Promise.reject(n)}},K(t,[{key:"type",get:function(){return Z.Extractor}}]),t}(de),br=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype._process=function(r){var n=Je.fromArray(r.data);return n.length=r.total,n},K(t,[{key:"type",get:function(){return Z.Transformer}}]),t}(de),wr=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(r){return typeof r[1]!="function"}).reduce(function(r,n){var o;return O({},r,((o={})[n[0]]=n[1],o))},{})},K(t,[{key:"type",get:function(){return Z.Initiator}}]),t}(de),kr=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var r=t.prototype;return r.castData=function(n){if(!n||!n.length)return[];if(!this.props.header||!this.props.header.columns)return n;var o=Ce.leafColumns(this.props.header.columns);return n[0]instanceof Array?n.map(function(i){var l=0;return o.map(function(u,a){return u.data!==void 0?(l++,typeof u.data=="function"?u.data(i):u.data):i[a-l]})}):typeof n[0]!="object"||n[0]instanceof Array?[]:n.map(function(i){return o.map(function(l,u){return l.data!==void 0?typeof l.data=="function"?l.data(i):l.data:l.id?i[l.id]:(ue.error("Could not find the correct cell for column at position "+u+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},r._process=function(n){return{data:this.castData(n.data),total:n.total}},K(t,[{key:"type",get:function(){return Z.Transformer}}]),t}(de),Nr=function(){function e(){}return e.createFromConfig=function(t){var r=new gr;return t.storage instanceof Mn&&r.register(new wr({serverStorageOptions:t.server})),r.register(new yr({storage:t.storage})),r.register(new kr({header:t.header})),r.register(new br),r},e}(),Cr=function(e){var t=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return t.state},this.getListeners=function(){return t.listeners},this.dispatch=function(r){if(typeof r!="function")throw new Error("Reducer is not a function");if(t.isDispatching)throw new Error("Reducers may not dispatch actions");t.isDispatching=!0;var n=t.state;try{t.state=r(t.state)}finally{t.isDispatching=!1}for(var o,i=Q(t.listeners);!(o=i()).done;)(0,o.value)(t.state,n);return t.state},this.subscribe=function(r){if(typeof r!="function")throw new Error("Listener is not a function");return t.listeners=[].concat(t.listeners,[r]),function(){return t.listeners=t.listeners.filter(function(n){return n!==r})}},this.state=e},Rn=function(e,t){var r={__c:t="__cC"+wn++,__:null,Consumer:function(n,o){return n.children(o)},Provider:function(n){var o,i;return this.getChildContext||(o=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&o.some(it)},this.sub=function(l){o.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){o.splice(o.indexOf(l),1),u&&u.call(l)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}(),Sr=function(){function e(){Object.assign(this,e.defaultConfig())}var t=e.prototype;return t.assign=function(r){return Object.assign(this,r)},t.update=function(r){return r?(this.assign(e.fromPartialConfig(O({},this,r))),this):this},e.defaultConfig=function(){return{store:new Cr({status:re.Init,header:void 0,data:null}),plugin:new mr,tableRef:{current:null},width:"100%",height:"auto",autoWidth:!0,style:{},className:{}}},e.fromPartialConfig=function(r){var n=new e().assign(r);return typeof r.sort=="boolean"&&r.sort&&n.assign({sort:{multiColumn:!0}}),n.assign({header:Ce.createFromConfig(n)}),n.assign({storage:vr.createFromConfig(n)}),n.assign({pipeline:Nr.createFromConfig(n)}),n.assign({translator:new cr(n.language)}),n.search&&n.plugin.add({id:"search",position:we.Header,component:fr}),n.pagination&&n.plugin.add({id:"pagination",position:we.Footer,component:dr}),n.plugins&&n.plugins.forEach(function(o){return n.plugin.add(o)}),n},e}();function Fn(e){var t,r=te();return w("td",O({role:e.role,colSpan:e.colSpan,"data-column-id":e.column&&e.column.id,className:R(L("td"),e.className,r.className.td),style:O({},e.style,r.style.td),onClick:function(n){e.messageCell||r.eventEmitter.emit("cellClick",n,e.cell,e.column,e.row)}},(t=e.column)?typeof t.attributes=="function"?t.attributes(e.cell.data,e.row,e.column):t.attributes:{}),e.column&&typeof e.column.formatter=="function"?e.column.formatter(e.cell.data,e.row,e.column):e.column&&e.column.plugin?w(Ze,{pluginId:e.column.id,props:{column:e.column,cell:e.cell,row:e.row}}):e.cell.data)}function dt(e){var t=te(),r=fe(function(n){return n.header});return w("tr",{className:R(L("tr"),t.className.tr),onClick:function(n){e.messageRow||t.eventEmitter.emit("rowClick",n,e.row)}},e.children?e.children:e.row.cells.map(function(n,o){var i=function(l){if(r){var u=Ce.leafColumns(r.columns);if(u)return u[l]}return null}(o);return i&&i.hidden?null:w(Fn,{key:n.id,cell:n,row:e.row,column:i})}))}function et(e){return w(dt,{messageRow:!0},w(Fn,{role:"alert",colSpan:e.colSpan,messageCell:!0,cell:new ct(e.message),className:R(L("message"),e.className?e.className:null)}))}function Er(){var e=te(),t=fe(function(l){return l.data}),r=fe(function(l){return l.status}),n=fe(function(l){return l.header}),o=Ye(),i=function(){return n?n.visibleColumns.length:0};return w("tbody",{className:R(L("tbody"),e.className.tbody)},t&&t.rows.map(function(l){return w(dt,{key:l.id,row:l})}),r===re.Loading&&(!t||t.length===0)&&w(et,{message:o("loading"),colSpan:i(),className:R(L("loading"),e.className.loading)}),r===re.Rendered&&t&&t.length===0&&w(et,{message:o("noRecordsFound"),colSpan:i(),className:R(L("notfound"),e.className.notfound)}),r===re.Error&&w(et,{message:o("error"),colSpan:i(),className:R(L("error"),e.className.error)}))}var Pr=function(e){function t(){return e.apply(this,arguments)||this}G(t,e);var r=t.prototype;return r.validateProps=function(){for(var n,o=Q(this.props.columns);!(n=o()).done;){var i=n.value;i.direction===void 0&&(i.direction=1),i.direction!==1&&i.direction!==-1&&ue.error("Invalid sort direction "+i.direction)}},r.compare=function(n,o){return n>o?1:n<o?-1:0},r.compareWrapper=function(n,o){for(var i,l=0,u=Q(this.props.columns);!(i=u()).done;){var a=i.value;if(l!==0)break;var c=n.cells[a.index].data,s=o.cells[a.index].data;l|=typeof a.compare=="function"?a.compare(c,s)*a.direction:this.compare(c,s)*a.direction}return l},r._process=function(n){var o=[].concat(n.rows);o.sort(this.compareWrapper.bind(this));var i=new Je(o);return i.length=n.length,i},K(t,[{key:"type",get:function(){return Z.Sort}}]),t}(de),zt=function(e,t,r,n){return function(o){var i=o.sort?[].concat(o.sort.columns):[],l=i.length,u=i.find(function(p){return p.index===e}),a=!1,c=!1,s=!1,h=!1;if(u!==void 0?r?u.direction===-1?s=!0:h=!0:l===1?h=!0:l>1&&(c=!0,a=!0):l===0?a=!0:l>0&&!r?(a=!0,c=!0):l>0&&r&&(a=!0),c&&(i=[]),a)i.push({index:e,direction:t,compare:n});else if(h){var d=i.indexOf(u);i[d].direction=t}else if(s){var f=i.indexOf(u);i.splice(f,1)}return O({},o,{sort:{columns:i}})}},jn=function(e,t,r){return function(n){var o=(n.sort?[].concat(n.sort.columns):[]).find(function(i){return i.index===e});return O({},n,o?zt(e,o.direction===1?-1:1,t,r)(n):zt(e,1,t,r)(n))}},xr=function(e){function t(){return e.apply(this,arguments)||this}return G(t,e),t.prototype._process=function(r){var n={};return this.props.url&&(n.url=this.props.url(r.url,this.props.columns)),this.props.body&&(n.body=this.props.body(r.body,this.props.columns)),O({},r,n)},K(t,[{key:"type",get:function(){return Z.ServerSort}}]),t}(de);function Ir(e){var t=te(),r=Ye(),n=_e(0),o=n[0],i=n[1],l=_e(void 0),u=l[0],a=l[1],c=fe(function(f){return f.sort}),s=Ee().dispatch,h=t.sort;ee(function(){var f=d();f&&a(f)},[]),ee(function(){return t.pipeline.register(u),function(){return t.pipeline.unregister(u)}},[t,u]),ee(function(){if(c){var f=c.columns.find(function(p){return p.index===e.index});i(f?f.direction:0)}},[c]),ee(function(){u&&c&&u.setProps({columns:c.columns})},[c]);var d=function(){var f=Z.Sort;return h&&typeof h.server=="object"&&(f=Z.ServerSort),t.pipeline.getStepsByType(f).length===0?f===Z.ServerSort?new xr(O({columns:c?c.columns:[]},h.server)):new Pr({columns:c?c.columns:[]}):null};return w("button",{tabIndex:-1,"aria-label":r("sort.sort"+(o===1?"Desc":"Asc")),title:r("sort.sort"+(o===1?"Desc":"Asc")),className:R(L("sort"),L("sort",function(f){return f===1?"asc":f===-1?"desc":"neutral"}(o)),t.className.sort),onClick:function(f){f.preventDefault(),f.stopPropagation(),s(jn(e.index,f.shiftKey===!0&&h.multiColumn,e.compare))}})}function Lr(e){var t,r=function(l){return l instanceof MouseEvent?Math.floor(l.pageX):Math.floor(l.changedTouches[0].pageX)},n=function(l){l.stopPropagation();var u,a,c,s,h,d=parseInt(e.thRef.current.style.width,10)-r(l);u=function(f){return o(f,d)},(a=10)===void 0&&(a=100),t=function(){var f=[].slice.call(arguments);c?(clearTimeout(s),s=setTimeout(function(){Date.now()-h>=a&&(u.apply(void 0,f),h=Date.now())},Math.max(a-(Date.now()-h),0))):(u.apply(void 0,f),h=Date.now(),c=!0)},document.addEventListener("mouseup",i),document.addEventListener("touchend",i),document.addEventListener("mousemove",t),document.addEventListener("touchmove",t)},o=function(l,u){l.stopPropagation();var a=e.thRef.current;u+r(l)>=parseInt(a.style.minWidth,10)&&(a.style.width=u+r(l)+"px")},i=function l(u){u.stopPropagation(),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",t),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",l)};return w("div",{className:R(L("th"),L("resizable")),onMouseDown:n,onTouchStart:n,onClick:function(l){return l.stopPropagation()}})}function Tr(e){var t=te(),r=Ae(null),n=_e({}),o=n[0],i=n[1],l=Ee().dispatch;ee(function(){if(t.fixedHeader&&r.current){var s=r.current.offsetTop;typeof s=="number"&&i({top:s})}},[r]);var u,a=function(){return e.column.sort!=null},c=function(s){s.stopPropagation(),a()&&l(jn(e.index,s.shiftKey===!0&&t.sort.multiColumn,e.column.sort.compare))};return w("th",O({ref:r,"data-column-id":e.column&&e.column.id,className:R(L("th"),a()?L("th","sort"):null,t.fixedHeader?L("th","fixed"):null,t.className.th),onClick:c,style:O({},t.style.th,{minWidth:e.column.minWidth,width:e.column.width},o,e.style),onKeyDown:function(s){a()&&s.which===13&&c(s)},rowSpan:e.rowSpan>1?e.rowSpan:void 0,colSpan:e.colSpan>1?e.colSpan:void 0},(u=e.column)?typeof u.attributes=="function"?u.attributes(null,null,e.column):u.attributes:{},a()?{tabIndex:0}:{}),w("div",{className:L("th","content")},e.column.name!==void 0?e.column.name:e.column.plugin!==void 0?w(Ze,{pluginId:e.column.plugin.id,props:{column:e.column}}):null),a()&&w(Ir,O({index:e.index},e.column.sort)),e.column.resizable&&e.index<t.header.visibleColumns.length-1&&w(Lr,{column:e.column,thRef:r}))}function Dr(){var e,t=te(),r=fe(function(n){return n.header});return r?w("thead",{key:r.id,className:R(L("thead"),t.className.thead)},(e=Ce.tabularFormat(r.columns)).map(function(n,o){return function(i,l,u){var a=Ce.leafColumns(r.columns);return w(dt,null,i.map(function(c){return c.hidden?null:function(s,h,d,f){var p=function(C,b,m){var S=Ce.maximumDepth(C),N=m-b;return{rowSpan:Math.floor(N-S-S/N),colSpan:C.columns&&C.columns.length||1}}(s,h,f);return w(Tr,{column:s,index:d,colSpan:p.colSpan,rowSpan:p.rowSpan})}(c,l,a.indexOf(c),u)}))}(n,o,e.length)})):null}var qt=function(e){return function(t){return O({},t,{header:e})}};function Ar(){var e=te(),t=Ae(null),r=Ee().dispatch;return ee(function(){t&&r(function(n){return function(o){return O({},o,{tableRef:n})}}(t))},[t]),w("table",{ref:t,role:"grid",className:R(L("table"),e.className.table),style:O({},e.style.table,{height:e.height})},w(Dr,null),w(Er,null))}function Or(){var e=_e(!0),t=e[0],r=e[1],n=Ae(null),o=te();return ee(function(){n.current.children.length===0&&r(!1)},[n]),t?w("div",{ref:n,className:R(L("head"),o.className.header),style:O({},o.style.header)},w(Ze,{position:we.Header})):null}function Hr(){var e=Ae(null),t=_e(!0),r=t[0],n=t[1],o=te();return ee(function(){e.current.children.length===0&&n(!1)},[e]),r?w("div",{ref:e,className:R(L("footer"),o.className.footer),style:O({},o.style.footer)},w(Ze,{position:we.Footer})):null}function Mr(){var e=te(),t=Ee().dispatch,r=fe(function(u){return u.status}),n=fe(function(u){return u.data}),o=fe(function(u){return u.tableRef}),i={current:null};ee(function(){return t(qt(e.header)),l(),e.pipeline.on("updated",l),function(){return e.pipeline.off("updated",l)}},[]),ee(function(){e.header&&r===re.Loaded&&n!=null&&n.length&&t(qt(e.header.adjustWidth(e,o,i)))},[n,e,i]);var l=function(){try{t(function(a){return O({},a,{status:re.Loading})});var u=function(a,c){try{var s=Promise.resolve(e.pipeline.process()).then(function(h){t(function(d){return function(f){return d?O({},f,{data:d,status:re.Loaded}):f}}(h)),setTimeout(function(){t(function(d){return d.status===re.Loaded?O({},d,{status:re.Rendered}):d})},0)})}catch(h){return c(h)}return s&&s.then?s.then(void 0,c):s}(0,function(a){ue.error(a),t(function(c){return O({},c,{data:null,status:re.Error})})});return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(a){return Promise.reject(a)}};return w("div",{role:"complementary",className:R("gridjs",L("container"),r===re.Loading?L("loading"):null,e.className.container),style:O({},e.style.container,{width:e.width})},r===re.Loading&&w("div",{className:L("loading-bar")}),w(Or,null),w("div",{className:L("wrapper"),style:{height:e.height}},w(Ar,null)),w(Hr,null),w("div",{ref:i,id:"gridjs-temp",className:L("temp")}))}var Rr=function(e){function t(n){var o;return(o=e.call(this)||this).config=void 0,o.plugin=void 0,o.config=new Sr().assign({instance:kt(o),eventEmitter:kt(o)}).update(n),o.plugin=o.config.plugin,o}G(t,e);var r=t.prototype;return r.updateConfig=function(n){return this.config.update(n),this},r.createElement=function(){return w(Rn.Provider,{value:this.config,children:w(Mr,{})})},r.forceRender=function(){return this.config&&this.config.container||ue.error("Container is empty. Make sure you call render() before forceRender()",!0),this.destroy(),xe(this.createElement(),this.config.container),this},r.destroy=function(){this.config.pipeline.clearCache(),xe(null,this.config.container)},r.render=function(n){return n||ue.error("Container element cannot be null",!0),n.childNodes.length>0?(ue.error("The container element "+n+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=n,xe(this.createElement(),n),this)},t}(ft);function Fr(e){let t;return{c(){t=U("article")},l(r){t=B(r,"ARTICLE",{}),Y(t).forEach(x)},m(r,n){j(r,t,n),e[18](t)},p:Ne,i:Ne,o:Ne,d(r){r&&x(t),e[18](null)}}}function jr(e,t,r){let{width:n="100%"}=t,{height:o="auto"}=t,{autoWidth:i=!0}=t,{fixedHeader:l=!1}=t,{resizable:u=!1}=t,{from:a=void 0}=t,{language:c=void 0}=t,{search:s=!1}=t,{sort:h=!1}=t,{pagination:d=!1}=t,{server:f=void 0}=t,{columns:p=void 0}=t,{data:C=void 0}=t,{plugins:b=void 0}=t,{style:m={}}=t,{className:S={}}=t;const N=new Rr({from:a,data:C,columns:p,server:f,search:s,sort:h,pagination:d,language:c,width:n,height:o,autoWidth:i,plugins:b,fixedHeader:l,resizable:u,style:m,className:S});let y;const H=Un();N.on("cellClick",(..._)=>H("cellClick",{..._})),N.on("rowClick",(..._)=>H("rowClick",{..._})),N.on("beforeLoad",()=>H("beforeLoad")),N.on("load",_=>H("load",{..._})),N.on("ready",()=>H("ready")),hn(()=>{y&&N.render(y)});function k(_){Bn[_?"unshift":"push"](()=>{y=_,r(0,y)})}return e.$$set=_=>{"width"in _&&r(1,n=_.width),"height"in _&&r(2,o=_.height),"autoWidth"in _&&r(3,i=_.autoWidth),"fixedHeader"in _&&r(4,l=_.fixedHeader),"resizable"in _&&r(5,u=_.resizable),"from"in _&&r(6,a=_.from),"language"in _&&r(7,c=_.language),"search"in _&&r(8,s=_.search),"sort"in _&&r(9,h=_.sort),"pagination"in _&&r(10,d=_.pagination),"server"in _&&r(11,f=_.server),"columns"in _&&r(12,p=_.columns),"data"in _&&r(13,C=_.data),"plugins"in _&&r(14,b=_.plugins),"style"in _&&r(15,m=_.style),"className"in _&&r(16,S=_.className)},e.$$.update=()=>{e.$$.dirty&114687&&y&&N.updateConfig({from:a,data:C,columns:p,server:f,search:s,sort:h,pagination:d,language:c,width:n,height:o,autoWidth:i,fixedHeader:l,style:m,className:S,resizable:u}).forceRender()},[y,n,o,i,l,u,a,c,s,h,d,f,p,C,b,m,S,N,k]}class Ur extends cn{constructor(t){super(),fn(this,t,jr,Fr,dn,{width:1,height:2,autoWidth:3,fixedHeader:4,resizable:5,from:6,language:7,search:8,sort:9,pagination:10,server:11,columns:12,data:13,plugins:14,style:15,className:16,instance:17})}get instance(){return this.$$.ctx[17]}}const Br=(e,t)=>{const{subscribe:r,set:n,update:o}=Xn(t);return{subscribe:r,set:n,update:o,useLocalStorage:()=>{const i=localStorage.getItem(e);i&&n(JSON.parse(i)),r(l=>{localStorage.setItem(e,JSON.stringify(l))})}}},Vt=Br("datasets_result",[]);function Gt(e,t,r){const n=e.slice();return n[26]=t[r],n}function Jt(e,t,r){const n=e.slice();return n[26]=t[r],n}function Xt(e,t,r){const n=e.slice();return n[26]=t[r],n}function Yt(e,t,r){const n=e.slice();return n[33]=t[r],n[34]=t,n[35]=r,n}function Zt(e,t,r){const n=e.slice();return n[36]=t[r],n}function Kt(e,t,r){const n=e.slice();return n[39]=t[r],n[35]=r,n}function Qt(e){let t,r=e[3],n=[];for(let o=0;o<r.length;o+=1)n[o]=nn(Yt(e,r,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=be()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);t=be()},m(o,i){for(let l=0;l<n.length;l+=1)n[l].m(o,i);j(o,t,i)},p(o,i){if(i[0]&12301){r=o[3];let l;for(l=0;l<r.length;l+=1){const u=Yt(o,r,l);n[l]?n[l].p(u,i):(n[l]=nn(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(o){Se(n,o),o&&x(t)}}}function $t(e){let t,r=e[39].Id+"",n;return{c(){t=U("option"),n=oe(r),this.h()},l(o){t=B(o,"OPTION",{});var i=Y(t);n=ie(i,r),i.forEach(x),this.h()},h(){t.__value=e[35],t.value=t.__value},m(o,i){j(o,t,i),D(t,n)},p(o,i){i[0]&1&&r!==(r=o[39].Id+"")&&mn(n,r)},d(o){o&&x(t)}}}function en(e){let t,r,n,o=e[0][e[3][e[35]]].Versions,i=[];for(let u=0;u<o.length;u+=1)i[u]=tn(Zt(e,o,u));function l(){e[17].call(t,e[35])}return{c(){t=U("select");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){t=B(u,"SELECT",{id:!0});var a=Y(t);for(let c=0;c<i.length;c+=1)i[c].l(a);a.forEach(x),this.h()},h(){Be(t,"id","version_select_"+{i:e[35]}),e[2][e[35]]===void 0&&_n(l)},m(u,a){j(u,t,a);for(let c=0;c<i.length;c+=1)i[c].m(t,null);We(t,e[2][e[35]]),r||(n=ge(t,"change",l),r=!0)},p(u,a){if(e=u,a[0]&9){o=e[0][e[3][e[35]]].Versions;let c;for(c=0;c<o.length;c+=1){const s=Zt(e,o,c);i[c]?i[c].p(s,a):(i[c]=tn(s),i[c].c(),i[c].m(t,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a[0]&13&&We(t,e[2][e[35]])},d(u){u&&x(t),Se(i,u),r=!1,n()}}}function tn(e){let t,r=e[36].Id+"",n,o;return{c(){t=U("option"),n=oe(r),this.h()},l(i){t=B(i,"OPTION",{});var l=Y(t);n=ie(l,r),l.forEach(x),this.h()},h(){t.__value=o=e[36].Id,t.value=t.__value},m(i,l){j(i,t,l),D(t,n)},p(i,l){l[0]&9&&r!==(r=i[36].Id+"")&&mn(n,r),l[0]&9&&o!==(o=i[36].Id)&&(t.__value=o,t.value=t.__value)},d(i){i&&x(t)}}}function nn(e){let t,r,n=e[35]+1+"",o,i,l,u,a,c,s,h,d,f,p,C,b=e[0],m=[];for(let k=0;k<b.length;k+=1)m[k]=$t(Kt(e,b,k));function S(){e[15].call(u,e[35])}function N(){return e[16](e[35])}let y=e[2].length>=e[35]&&en(e);function H(){return e[18](e[35])}return{c(){t=U("label"),r=oe("Datased Id "),o=oe(n),i=oe(":"),l=J(),u=U("select");for(let k=0;k<m.length;k+=1)m[k].c();a=J(),y&&y.c(),c=J(),s=U("button"),h=oe("-"),d=J(),f=U("br"),this.h()},l(k){t=B(k,"LABEL",{for:!0});var _=Y(t);r=ie(_,"Datased Id "),o=ie(_,n),i=ie(_,":"),_.forEach(x),l=X(k),u=B(k,"SELECT",{id:!0});var v=Y(u);for(let A=0;A<m.length;A+=1)m[A].l(v);v.forEach(x),a=X(k),y&&y.l(k),c=X(k),s=B(k,"BUTTON",{});var F=Y(s);h=ie(F,"-"),F.forEach(x),d=X(k),f=B(k,"BR",{}),this.h()},h(){Be(t,"for","ds_select_"+{i:e[35]}),Be(u,"id","ds_select_"+{i:e[35]}),e[3][e[35]]===void 0&&_n(S)},m(k,_){j(k,t,_),D(t,r),D(t,o),D(t,i),j(k,l,_),j(k,u,_);for(let v=0;v<m.length;v+=1)m[v].m(u,null);We(u,e[3][e[35]]),j(k,a,_),y&&y.m(k,_),j(k,c,_),j(k,s,_),D(s,h),j(k,d,_),j(k,f,_),p||(C=[ge(u,"change",S),ge(u,"change",N),ge(s,"click",H)],p=!0)},p(k,_){if(e=k,_[0]&1){b=e[0];let v;for(v=0;v<b.length;v+=1){const F=Kt(e,b,v);m[v]?m[v].p(F,_):(m[v]=$t(F),m[v].c(),m[v].m(u,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=b.length}_[0]&8&&We(u,e[3][e[35]]),e[2].length>=e[35]?y?y.p(e,_):(y=en(e),y.c(),y.m(c.parentNode,c)):y&&(y.d(1),y=null)},d(k){k&&x(t),k&&x(l),k&&x(u),Se(m,k),k&&x(a),y&&y.d(k),k&&x(c),k&&x(s),k&&x(d),k&&x(f),p=!1,pn(C)}}}function Wr(e){let t,r=e[6],n=[];for(let o=0;o<r.length;o+=1)n[o]=rn(Xt(e,r,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=be()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);t=be()},m(o,i){for(let l=0;l<n.length;l+=1)n[l].m(o,i);j(o,t,i)},p(o,i){if(i[0]&64){r=o[6];let l;for(l=0;l<r.length;l+=1){const u=Xt(o,r,l);n[l]?n[l].p(u,i):(n[l]=rn(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(o){Se(n,o),o&&x(t)}}}function rn(e){let t=e[26].id+"",r;return{c(){r=oe(t)},l(n){r=ie(n,t)},m(n,o){j(n,r,o)},p:Ne,d(n){n&&x(r)}}}function zr(e){let t,r=e[7],n=[];for(let o=0;o<r.length;o+=1)n[o]=on(Jt(e,r,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=be()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);t=be()},m(o,i){for(let l=0;l<n.length;l+=1)n[l].m(o,i);j(o,t,i)},p(o,i){if(i[0]&128){r=o[7];let l;for(l=0;l<r.length;l+=1){const u=Jt(o,r,l);n[l]?n[l].p(u,i):(n[l]=on(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(o){Se(n,o),o&&x(t)}}}function on(e){let t=e[26].id+"",r;return{c(){r=oe(t)},l(n){r=ie(n,t)},m(n,o){j(n,r,o)},p:Ne,d(n){n&&x(r)}}}function qr(e){let t,r=e[8],n=[];for(let o=0;o<r.length;o+=1)n[o]=ln(Gt(e,r,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=be()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);t=be()},m(o,i){for(let l=0;l<n.length;l+=1)n[l].m(o,i);j(o,t,i)},p(o,i){if(i[0]&256){r=o[8];let l;for(l=0;l<r.length;l+=1){const u=Gt(o,r,l);n[l]?n[l].p(u,i):(n[l]=ln(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(o){Se(n,o),o&&x(t)}}}function ln(e){let t,r=e[26].value+"",n;return{c(){t=U("span"),n=oe(r),this.h()},l(o){t=B(o,"SPAN",{style:!0});var i=Y(t);n=ie(i,r),i.forEach(x),this.h()},h(){vt(t,"background-color",e[26].added?"#90ee9061":e[26].removed?"#ff000038":"white"),vt(t,"color",e[26].added?"green":e[26].removed?"red":"gray")},m(o,i){j(o,t,i),D(t,n)},p:Ne,d(o){o&&x(t)}}}function un(e){let t,r;return t=new Ur({props:{data:e[1],style:e[14]}}),{c(){zn(t.$$.fragment)},l(n){qn(t.$$.fragment,n)},m(n,o){Vn(t,n,o),r=!0},p(n,o){const i={};o[0]&2&&(i.data=n[1]),t.$set(i)},i(n){r||(He(t.$$.fragment,n),r=!0)},o(n){tt(t.$$.fragment,n),r=!1},d(n){Gn(t,n)}}}function Vr(e){let t,r,n,o,i,l,u,a,c,s,h,d,f,p,C,b,m,S,N,y,H,k,_,v,F,A,ne,g,I,E,V,se,T=e[0]&&Qt(e),ae=e[4]&&Wr(e),he=e[5]&&zr(e),pe=e[8].length>0&&qr(e),z=e[1]&&un(e);return{c(){t=U("h1"),r=oe("test"),n=J(),o=U("main"),i=U("div"),l=U("button"),u=oe("Show Diff"),a=J(),c=U("button"),s=oe("fetch_datasets"),h=J(),d=U("button"),f=oe("Add Dataset Id"),p=J(),C=U("button"),b=oe("Fetch Original Schema"),m=J(),T&&T.c(),S=J(),ae&&ae.c(),N=J(),y=U("br"),H=U("br"),k=J(),he&&he.c(),_=J(),v=U("br"),F=U("br"),A=J(),pe&&pe.c(),ne=J(),g=U("pre"),I=J(),z&&z.c(),this.h()},l(M){t=B(M,"H1",{});var le=Y(t);r=ie(le,"test"),le.forEach(x),n=X(M),o=B(M,"MAIN",{});var q=Y(o);i=B(q,"DIV",{});var ve=Y(i);l=B(ve,"BUTTON",{});var ht=Y(l);u=ie(ht,"Show Diff"),ht.forEach(x),a=X(ve),c=B(ve,"BUTTON",{});var pt=Y(c);s=ie(pt,"fetch_datasets"),pt.forEach(x),h=X(ve),d=B(ve,"BUTTON",{});var _t=Y(d);f=ie(_t,"Add Dataset Id"),_t.forEach(x),p=X(ve),C=B(ve,"BUTTON",{});var mt=Y(C);b=ie(mt,"Fetch Original Schema"),mt.forEach(x),ve.forEach(x),m=X(q),T&&T.l(q),S=X(q),ae&&ae.l(q),N=X(q),y=B(q,"BR",{}),H=B(q,"BR",{}),k=X(q),he&&he.l(q),_=X(q),v=B(q,"BR",{}),F=B(q,"BR",{}),A=X(q),pe&&pe.l(q),ne=X(q),g=B(q,"PRE",{id:!0}),Y(g).forEach(x),I=X(q),z&&z.l(q),q.forEach(x),this.h()},h(){Be(g,"id","display")},m(M,le){j(M,t,le),D(t,r),j(M,n,le),j(M,o,le),D(o,i),D(i,l),D(l,u),D(i,a),D(i,c),D(c,s),D(i,h),D(i,d),D(d,f),D(i,p),D(i,C),D(C,b),D(o,m),T&&T.m(o,null),D(o,S),ae&&ae.m(o,null),D(o,N),D(o,y),D(o,H),D(o,k),he&&he.m(o,null),D(o,_),D(o,v),D(o,F),D(o,A),pe&&pe.m(o,null),D(o,ne),D(o,g),D(o,I),z&&z.m(o,null),E=!0,V||(se=[ge(l,"click",e[9]),ge(c,"click",$r),ge(d,"click",e[11]),ge(C,"click",e[10])],V=!0)},p(M,le){M[0]?T?T.p(M,le):(T=Qt(M),T.c(),T.m(o,S)):T&&(T.d(1),T=null),M[4]&&ae.p(M,le),M[5]&&he.p(M,le),M[8].length>0&&pe.p(M,le),M[1]?z?(z.p(M,le),le[0]&2&&He(z,1)):(z=un(M),z.c(),He(z,1),z.m(o,null)):z&&(Jn(),tt(z,1,1,()=>{z=null}),Wn())},i(M){E||(He(z),E=!0)},o(M){tt(z),E=!1},d(M){M&&x(t),M&&x(n),M&&x(o),T&&T.d(),ae&&ae.d(),he&&he.d(),pe&&pe.d(),z&&z.d(),V=!1,pn(se)}}}let Gr="rgba(144, 238, 144, 0.38)",Jr="rgba(255, 0, 0, 0.22)",Xr="green",Yr="red",Zr="https://www.bexis.uni-jena.de/api/Dataset",Kr="",Qr="https://www.bexis.uni-jena.de/api/Metadata/";async function $r(){return await(await fetch(Zr,{method:"GET"})).json()}function ut(e,t,r){let n=[];for(var o in e){let u=e[o];if(o=="#text"){let a=[];for(var i in r)a.push(r[i]);a.push(o),n.push(a)}else if(typeof u=="object"){let a=r.slice();a.push(o);let c=ut(u,3,a);for(var l in c)n.push(c[l])}}return n}function eo(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}function sn(e){let t=e[0],r=[],n=ut(t,3,[]);for(var o=1;o<e.length;o++){let s=ut(e[o],3,[]);for(var i in s){let h=!1;for(var l in n)eo(s[i],n[l])&&(h=!0);h||n.push(s[i])}}if(n.length==0)return[];for(var u in n){let s=[];n[u][n[u].length-2].length<=1?s.push(n[u][n[u].length-4]+" "+n[u][n[u].length-2]):s.push(n[u][n[u].length-3]);for(var a=0;a<e.length;a++){let h=e[a];e:for(var c in n[u]){let d=n[u][c];console.log("Traversing key: ",d," dataset: ",a);let f="";if(d=="#text"&&"@partyid"in h?(f=h["@partyid"],h=h[d],h+=" ("+f+")"):h=h[d],h==null){console.log("key not found in j: ",a),console.log(n[u]);break e}}h==null?s.push(""):s.push(h)}s.length>0&&r.push(s)}return r}function an(e,t,r){return'<span style="background-color:'+e+"; color:"+t+';" class="s-y_bCXRrkrYfP">'+r+"</span>"}function to(e,t,r){let n,o,i;Vt.subscribe(g=>{r(0,i=g),console.log(typeof i)}),hn(async()=>{console.log("qopiwrupoiwqr"),Vt.useLocalStorage()});let l={Accept:"application/json",Authorization:"Bearer "+Kr,"Content-Type":"application/json"},u,a,c=[],s=[],h=[],d=[];async function f(g){return console.log("Fetching metadata for dataset_id: ",g),await(await fetch(Qr+g,{method:"GET",headers:l})).json()}function p(g,I){let E="",V="",se=!1;for(let T=0;T<I.length;T+=1)E+=I.at(T).value,"added"in I.at(T)&&I.at(T).added==!0&&(se=!0,V+=an(Gr,Xr,I.at(T).value)),"removed"in I.at(T)&&I.at(T).removed==!0&&(se=!0,V+=an(Jr,Yr,I.at(T).value)),"removed"in I.at(T)||"added"in I.at(T)||(V+='<span style="background-color: white;" class="s-y_bCXRrkrYfP">'+I.at(T).value+"</span>");return se?at(g+"<br>"+V):g}function C(g){r(1,d=[]);let I=g.length;g[0].length;for(var E=0;E<I;E++){let se={section:g[E][0]};for(var V=1;V<g[E].length;V++){let T=g[E][V];if(V>1){let ae=Qn(g[E][V],g[E][1]);T=p(T,ae)}se["col"+V]=T}d.push(se)}r(1,d)}async function b(){let g=[];console.log("Fetching metadata...");for(var I=0;I<n.length;I++){let V=i[n[I]].Id,se=await f(V);g.push(se)}let E=sn(g);console.log(E),C(E)}async function m(){let g=i[n[0]].Id;console.log(g);let I=await f(g),E=sn([I]);console.log(E)}function S(){o.push(i[1].Versions[0].Id),r(2,o)}function N(){n.push(1),r(3,n),S()}function y(g){console.log(n[g]),console.log(i[n[g]].Versions[0].Id),r(2,o[g]=i[n[g]].Versions[0].Id,o),r(2,o)}function H(g){console.log("Deleting dataset: ",g),n.splice(g,1),r(3,n),o.splice(g,1),r(2,o),k(g+1)}function k(g){console.log(d);for(var I=0;I<20&&!("col"+g in d[0]);I++)g+=1;for(var E in d)console.log("Deleting: ",d[E],"col"+g),delete d[E]["col"+g];console.log("Deleting: ",d),r(1,d)}const _={table:{border:"3px solid #ccc","overflow-x":"scroll"},"overflow-x":"scroll"};function v(g){n[g]=gt(this),r(3,n)}const F=g=>y(g);function A(g){o[g]=gt(this),r(2,o),r(0,i),r(3,n)}const ne=g=>H(g);return r(3,n=[]),r(2,o=[]),[i,d,o,n,u,a,c,s,h,b,m,N,y,H,_,v,F,A,ne]}class oo extends cn{constructor(t){super(),fn(this,t,to,Vr,dn,{},null,[-1,-1])}}export{oo as default};
