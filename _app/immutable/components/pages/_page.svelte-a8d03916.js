import{S as cn,i as fn,s as dn,k as W,l as z,m as K,h as x,b as B,C as Ne,J as Un,o as hn,v as Bn,q as le,a as Y,r as ue,c as Z,n as Be,H as L,K as ge,f as He,t as nt,d as Wn,L as pn,e as be,M as Se,N as _n,O as We,p as gt,x as zn,y as qn,z as Vn,A as Gn,g as Jn,P as yt,u as mn}from"../../chunks/index-182d32f6.js";import{w as Xn}from"../../chunks/index-b56a7874.js";function me(){}me.prototype={diff:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.callback;typeof n=="function"&&(o=n,n={}),this.options=n;var i=this;function l(N){return o?(setTimeout(function(){o(void 0,N)},0),!0):N}t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var u=r.length,a=t.length,c=1,s=u+a;n.maxEditLength&&(s=Math.min(s,n.maxEditLength));var h=[{newPos:-1,components:[]}],d=this.extractCommon(h[0],r,t,0);if(h[0].newPos+1>=u&&d+1>=a)return l([{value:this.join(r),count:r.length}]);function f(){for(var N=-1*c;N<=c;N+=2){var y=void 0,m=h[N-1],S=h[N+1],k=(S?S.newPos:0)-N;m&&(h[N-1]=void 0);var g=m&&m.newPos+1<u,O=S&&0<=k&&k<a;if(!g&&!O){h[N]=void 0;continue}if(!g||O&&m.newPos<S.newPos?(y=Zn(S),i.pushComponent(y.components,void 0,!0)):(y=m,y.newPos++,i.pushComponent(y.components,!0,void 0)),k=i.extractCommon(y,r,t,N),y.newPos+1>=u&&k+1>=a)return l(Yn(i,y.components,r,t,i.useLongestToken));h[N]=y}c++}if(o)(function N(){setTimeout(function(){if(c>s)return o();f()||N()},0)})();else for(;c<=s;){var p=f();if(p)return p}},pushComponent:function(t,r,n){var o=t[t.length-1];o&&o.added===r&&o.removed===n?t[t.length-1]={count:o.count+1,added:r,removed:n}:t.push({count:1,added:r,removed:n})},extractCommon:function(t,r,n,o){for(var i=r.length,l=n.length,u=t.newPos,a=u-o,c=0;u+1<i&&a+1<l&&this.equals(r[u+1],n[a+1]);)u++,a++,c++;return c&&t.components.push({count:c}),t.newPos=u,a},equals:function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},removeEmpty:function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function Yn(e,t,r,n,o){for(var i=0,l=t.length,u=0,a=0;i<l;i++){var c=t[i];if(c.removed){if(c.value=e.join(n.slice(a,a+c.count)),a+=c.count,i&&t[i-1].added){var h=t[i-1];t[i-1]=t[i],t[i]=h}}else{if(!c.added&&o){var s=r.slice(u,u+c.count);s=s.map(function(f,p){var N=n[a+p];return N.length>f.length?N:f}),c.value=e.join(s)}else c.value=e.join(r.slice(u,u+c.count));u+=c.count,c.added||(a+=c.count)}}var d=t[l-1];return l>1&&typeof d.value=="string"&&(d.added||d.removed)&&e.equals("",d.value)&&(t[l-2].value+=d.value,t.pop()),t}function Zn(e){return{newPos:e.newPos,components:e.components.slice(0)}}var Kn=new me;function Qn(e,t,r){return Kn.diff(e,t,r)}var bt=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,wt=/\S/,vn=new me;vn.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!wt.test(e)&&!wt.test(t)};vn.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&bt.test(t[r])&&bt.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var gn=new me;gn.tokenize=function(e){var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var o=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=o:(this.options.ignoreWhitespace&&(o=o.trim()),t.push(o))}return t};var $n=new me;$n.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var er=new me;er.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Me(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Me=function(t){return typeof t}:Me=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Me(e)}var tr=Object.prototype.toString,Ie=new me;Ie.useLongestToken=!0;Ie.tokenize=gn.tokenize;Ie.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,o=n===void 0?function(i,l){return typeof l>"u"?r:l}:n;return typeof e=="string"?e:JSON.stringify(rt(e,null,null,o),o,"  ")};Ie.equals=function(e,t){return me.prototype.equals.call(Ie,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function rt(e,t,r,n,o){t=t||[],r=r||[],n&&(e=n(o,e));var i;for(i=0;i<t.length;i+=1)if(t[i]===e)return r[i];var l;if(tr.call(e)==="[object Array]"){for(t.push(e),l=new Array(e.length),r.push(l),i=0;i<e.length;i+=1)l[i]=rt(e[i],t,r,n,o);return t.pop(),r.pop(),l}if(e&&e.toJSON&&(e=e.toJSON()),Me(e)==="object"&&e!==null){t.push(e),l={},r.push(l);var u=[],a;for(a in e)e.hasOwnProperty(a)&&u.push(a);for(u.sort(),i=0;i<u.length;i+=1)a=u[i],l[a]=rt(e[a],t,r,n,a);t.pop(),r.pop()}else l=e;return l}var ot=new me;ot.tokenize=function(e){return e.slice()};ot.join=ot.removeEmpty=function(e){return e};function kt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,typeof(o=function(i,l){if(typeof i!="object"||i===null)return i;var u=i[Symbol.toPrimitive];if(u!==void 0){var a=u.call(i,"string");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}(n.key))=="symbol"?o:String(o),n)}var o}function $(e,t,r){return t&&kt(e.prototype,t),r&&kt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D.apply(this,arguments)}function J(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,it(e,t)}function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},it(e,t)}function Nt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ee(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(o,i){if(o){if(typeof o=="string")return Ct(o,i);var l=Object.prototype.toString.call(o).slice(8,-1);return l==="Object"&&o.constructor&&(l=o.constructor.name),l==="Map"||l==="Set"?Array.from(o):l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?Ct(o,i):void 0}}(e))||t&&e&&typeof e.length=="number"){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie;(function(e){e[e.Init=0]="Init",e[e.Loading=1]="Loading",e[e.Loaded=2]="Loaded",e[e.Rendered=3]="Rendered",e[e.Error=4]="Error"})(ie||(ie={}));var Ve,P,yn,bn,Pe,St,wn,ze={},kn=[],nr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ye(e,t){for(var r in t)e[r]=t[r];return e}function Nn(e){var t=e.parentNode;t&&t.removeChild(e)}function b(e,t,r){var n,o,i,l={};for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:l[i]=t[i];if(arguments.length>2&&(l.children=arguments.length>3?Ve.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)l[i]===void 0&&(l[i]=e.defaultProps[i]);return Re(e,l,n,o,null)}function Re(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++yn};return o==null&&P.vnode!=null&&P.vnode(i),i}function fe(e){return e.children}function Fe(e,t){this.props=e,this.context=t}function Le(e,t){if(t==null)return e.__?Le(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Le(e):null}function Cn(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Cn(e)}}function lt(e){(!e.__d&&(e.__d=!0)&&Pe.push(e)&&!qe.__r++||St!==P.debounceRendering)&&((St=P.debounceRendering)||setTimeout)(qe)}function qe(){for(var e;qe.__r=Pe.length;)e=Pe.sort(function(t,r){return t.__v.__b-r.__v.__b}),Pe=[],e.some(function(t){var r,n,o,i,l,u;t.__d&&(l=(i=(r=t).__v).__e,(u=r.__P)&&(n=[],(o=ye({},i)).__v=i.__v+1,at(u,i,o,r.__n,u.ownerSVGElement!==void 0,i.__h!=null?[l]:null,n,l??Le(i),i.__h),xn(n,i),i.__e!=l&&Cn(i)))})}function Sn(e,t,r,n,o,i,l,u,a,c){var s,h,d,f,p,N,y,m=n&&n.__k||kn,S=m.length;for(r.__k=[],s=0;s<t.length;s++)if((f=r.__k[s]=(f=t[s])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?Re(null,f,null,null,f):Array.isArray(f)?Re(fe,{children:f},null,null,null):f.__b>0?Re(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=r,f.__b=r.__b+1,(d=m[s])===null||d&&f.key==d.key&&f.type===d.type)m[s]=void 0;else for(h=0;h<S;h++){if((d=m[h])&&f.key==d.key&&f.type===d.type){m[h]=void 0;break}d=null}at(e,f,d=d||ze,o,i,l,u,a,c),p=f.__e,(h=f.ref)&&d.ref!=h&&(y||(y=[]),d.ref&&y.push(d.ref,null,f),y.push(h,f.__c||p,f)),p!=null?(N==null&&(N=p),typeof f.type=="function"&&f.__k===d.__k?f.__d=a=En(f,a,e):a=Pn(e,f,d,m,p,a),typeof r.type=="function"&&(r.__d=a)):a&&d.__e==a&&a.parentNode!=e&&(a=Le(d))}for(r.__e=N,s=S;s--;)m[s]!=null&&Ln(m[s],m[s]);if(y)for(s=0;s<y.length;s++)In(y[s],y[++s],y[++s])}function En(e,t,r){for(var n,o=e.__k,i=0;o&&i<o.length;i++)(n=o[i])&&(n.__=e,t=typeof n.type=="function"?En(n,t,r):Pn(r,n,n,o,n.__e,t));return t}function Pn(e,t,r,n,o,i){var l,u,a;if(t.__d!==void 0)l=t.__d,t.__d=void 0;else if(r==null||o!=i||o.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(o),l=null;else{for(u=i,a=0;(u=u.nextSibling)&&a<n.length;a+=1)if(u==o)break e;e.insertBefore(o,i),l=i}return l!==void 0?l:o.nextSibling}function Et(e,t,r){t[0]==="-"?e.setProperty(t,r):e[t]=r==null?"":typeof r!="number"||nr.test(t)?r:r+"px"}function Oe(e,t,r,n,o){var i;e:if(t==="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||Et(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||Et(e.style,t,r[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n||e.addEventListener(t,i?xt:Pt,i):e.removeEventListener(t,i?xt:Pt,i);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t.indexOf("-")==-1?e.removeAttribute(t):e.setAttribute(t,r))}}function Pt(e){this.l[e.type+!1](P.event?P.event(e):e)}function xt(e){this.l[e.type+!0](P.event?P.event(e):e)}function at(e,t,r,n,o,i,l,u,a){var c,s,h,d,f,p,N,y,m,S,k,g,O,w,_,v=t.type;if(t.constructor!==void 0)return null;r.__h!=null&&(a=r.__h,u=t.__e=r.__e,t.__h=null,i=[u]),(c=P.__b)&&c(t);try{e:if(typeof v=="function"){if(y=t.props,m=(c=v.contextType)&&n[c.__c],S=c?m?m.props.value:c.__:n,r.__c?N=(s=t.__c=r.__c).__=s.__E:("prototype"in v&&v.prototype.render?t.__c=s=new v(y,S):(t.__c=s=new Fe(y,S),s.constructor=v,s.render=or),m&&m.sub(s),s.props=y,s.state||(s.state={}),s.context=S,s.__n=n,h=s.__d=!0,s.__h=[],s._sb=[]),s.__s==null&&(s.__s=s.state),v.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=ye({},s.__s)),ye(s.__s,v.getDerivedStateFromProps(y,s.__s))),d=s.props,f=s.state,h)v.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(v.getDerivedStateFromProps==null&&y!==d&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(y,S),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(y,s.__s,S)===!1||t.__v===r.__v){for(s.props=y,s.state=s.__s,t.__v!==r.__v&&(s.__d=!1),s.__v=t,t.__e=r.__e,t.__k=r.__k,t.__k.forEach(function(U){U&&(U.__=t)}),k=0;k<s._sb.length;k++)s.__h.push(s._sb[k]);s._sb=[],s.__h.length&&l.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(y,s.__s,S),s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(d,f,p)})}if(s.context=S,s.props=y,s.__v=t,s.__P=e,g=P.__r,O=0,"prototype"in v&&v.prototype.render){for(s.state=s.__s,s.__d=!1,g&&g(t),c=s.render(s.props,s.state,s.context),w=0;w<s._sb.length;w++)s.__h.push(s._sb[w]);s._sb=[]}else do s.__d=!1,g&&g(t),c=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++O<25);s.state=s.__s,s.getChildContext!=null&&(n=ye(ye({},n),s.getChildContext())),h||s.getSnapshotBeforeUpdate==null||(p=s.getSnapshotBeforeUpdate(d,f)),_=c!=null&&c.type===fe&&c.key==null?c.props.children:c,Sn(e,Array.isArray(_)?_:[_],t,r,n,o,i,l,u,a),s.base=t.__e,t.__h=null,s.__h.length&&l.push(s),N&&(s.__E=s.__=null),s.__e=!1}else i==null&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=rr(r.__e,t,r,n,o,i,l,a);(c=P.diffed)&&c(t)}catch(U){t.__v=null,(a||i!=null)&&(t.__e=u,t.__h=!!a,i[i.indexOf(u)]=null),P.__e(U,t,r)}}function xn(e,t){P.__c&&P.__c(t,e),e.some(function(r){try{e=r.__h,r.__h=[],e.some(function(n){n.call(r)})}catch(n){P.__e(n,r.__v)}})}function rr(e,t,r,n,o,i,l,u){var a,c,s,h=r.props,d=t.props,f=t.type,p=0;if(f==="svg"&&(o=!0),i!=null){for(;p<i.length;p++)if((a=i[p])&&"setAttribute"in a==!!f&&(f?a.localName===f:a.nodeType===3)){e=a,i[p]=null;break}}if(e==null){if(f===null)return document.createTextNode(d);e=o?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,d.is&&d),i=null,u=!1}if(f===null)h===d||u&&e.data===d||(e.data=d);else{if(i=i&&Ve.call(e.childNodes),c=(h=r.props||ze).dangerouslySetInnerHTML,s=d.dangerouslySetInnerHTML,!u){if(i!=null)for(h={},p=0;p<e.attributes.length;p++)h[e.attributes[p].name]=e.attributes[p].value;(s||c)&&(s&&(c&&s.__html==c.__html||s.__html===e.innerHTML)||(e.innerHTML=s&&s.__html||""))}if(function(N,y,m,S,k){var g;for(g in m)g==="children"||g==="key"||g in y||Oe(N,g,null,m[g],S);for(g in y)k&&typeof y[g]!="function"||g==="children"||g==="key"||g==="value"||g==="checked"||m[g]===y[g]||Oe(N,g,y[g],m[g],S)}(e,d,h,o,u),s)t.__k=[];else if(p=t.props.children,Sn(e,Array.isArray(p)?p:[p],t,r,n,o&&f!=="foreignObject",i,l,i?i[0]:r.__k&&Le(r,0),u),i!=null)for(p=i.length;p--;)i[p]!=null&&Nn(i[p]);u||("value"in d&&(p=d.value)!==void 0&&(p!==e.value||f==="progress"&&!p||f==="option"&&p!==h.value)&&Oe(e,"value",p,h.value,!1),"checked"in d&&(p=d.checked)!==void 0&&p!==e.checked&&Oe(e,"checked",p,h.checked,!1))}return e}function In(e,t,r){try{typeof e=="function"?e(t):e.current=t}catch(n){P.__e(n,r)}}function Ln(e,t,r){var n,o;if(P.unmount&&P.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||In(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){P.__e(i,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&Ln(n[o],t,r||typeof e.type!="function");r||e.__e==null||Nn(e.__e),e.__=e.__e=e.__d=void 0}function or(e,t,r){return this.constructor(e,r)}function xe(e,t,r){var n,o,i;P.__&&P.__(e,t),o=(n=typeof r=="function")?null:r&&r.__k||t.__k,i=[],at(t,e=(!n&&r||t).__k=b(fe,null,[e]),o||ze,ze,t.ownerSVGElement!==void 0,!n&&r?[r]:o?null:t.firstChild?Ve.call(t.childNodes):null,i,!n&&r?r:o?o.__e:t.firstChild,n),xn(i,e)}function Tn(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(e=="x"?t:3&t|8).toString(16)})}Ve=kn.slice,P={__e:function(e,t,r,n){for(var o,i,l;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),l=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,n||{}),l=o.__d),l)return o.__E=o}catch(u){e=u}throw e}},yn=0,bn=function(e){return e!=null&&e.constructor===void 0},Fe.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ye({},this.state),typeof e=="function"&&(e=e(ye({},r),this.props)),e&&ye(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),lt(this))},Fe.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),lt(this))},Fe.prototype.render=fe,Pe=[],qe.__r=0,wn=0;var Ge=function(){function e(t){this._id=void 0,this._id=t||Tn()}return $(e,[{key:"id",get:function(){return this._id}}]),e}();function ir(e){return b(e.parentElement||"span",{dangerouslySetInnerHTML:{__html:e.content}})}function ct(e,t){return b(ir,{content:e,parentElement:t})}var Q,ft=function(e){function t(n){var o;return(o=e.call(this)||this).data=void 0,o.update(n),o}J(t,e);var r=t.prototype;return r.cast=function(n){return n instanceof HTMLElement?ct(n.outerHTML):n},r.update=function(n){return this.data=this.cast(n),this},t}(Ge),Ke=function(e){function t(n){var o;return(o=e.call(this)||this)._cells=void 0,o.cells=n||[],o}J(t,e);var r=t.prototype;return r.cell=function(n){return this._cells[n]},r.toArray=function(){return this.cells.map(function(n){return n.data})},t.fromCells=function(n){return new t(n.map(function(o){return new ft(o.data)}))},$(t,[{key:"cells",get:function(){return this._cells},set:function(n){this._cells=n}},{key:"length",get:function(){return this.cells.length}}]),t}(Ge),Je=function(e){function t(r){var n;return(n=e.call(this)||this)._rows=void 0,n._length=void 0,n.rows=r instanceof Array?r:r instanceof Ke?[r]:[],n}return J(t,e),t.prototype.toArray=function(){return this.rows.map(function(r){return r.toArray()})},t.fromRows=function(r){return new t(r.map(function(n){return Ke.fromCells(n.cells)}))},t.fromArray=function(r){return new t((r=function(n){return!n[0]||n[0]instanceof Array?n:[n]}(r)).map(function(n){return new Ke(n.map(function(o){return new ft(o)}))}))},$(t,[{key:"rows",get:function(){return this._rows},set:function(r){this._rows=r}},{key:"length",get:function(){return this._length||this.rows.length},set:function(r){this._length=r}}]),t}(Ge),dt=function(){function e(){this.callbacks=void 0}var t=e.prototype;return t.init=function(r){this.callbacks||(this.callbacks={}),r&&!this.callbacks[r]&&(this.callbacks[r]=[])},t.listeners=function(){return this.callbacks},t.on=function(r,n){return this.init(r),this.callbacks[r].push(n),this},t.off=function(r,n){var o=r;return this.init(),this.callbacks[o]&&this.callbacks[o].length!==0?(this.callbacks[o]=this.callbacks[o].filter(function(i){return i!=n}),this):this},t.emit=function(r){var n=arguments,o=r;return this.init(o),this.callbacks[o].length>0&&(this.callbacks[o].forEach(function(i){return i.apply(void 0,[].slice.call(n,1))}),!0)},e}();(function(e){e[e.Initiator=0]="Initiator",e[e.ServerFilter=1]="ServerFilter",e[e.ServerSort=2]="ServerSort",e[e.ServerLimit=3]="ServerLimit",e[e.Extractor=4]="Extractor",e[e.Transformer=5]="Transformer",e[e.Filter=6]="Filter",e[e.Sort=7]="Sort",e[e.Limit=8]="Limit"})(Q||(Q={}));var he=function(e){function t(n){var o;return(o=e.call(this)||this).id=void 0,o._props=void 0,o._props={},o.id=Tn(),n&&o.setProps(n),o}J(t,e);var r=t.prototype;return r.process=function(){var n=[].slice.call(arguments);this.validateProps instanceof Function&&this.validateProps.apply(this,n),this.emit.apply(this,["beforeProcess"].concat(n));var o=this._process.apply(this,n);return this.emit.apply(this,["afterProcess"].concat(n)),o},r.setProps=function(n){return Object.assign(this._props,n),this.emit("propsUpdated",this),this},$(t,[{key:"props",get:function(){return this._props}}]),t}(dt),lr=function(e){function t(){return e.apply(this,arguments)||this}return J(t,e),t.prototype._process=function(r){return this.props.keyword?(n=String(this.props.keyword).trim(),o=this.props.columns,i=this.props.ignoreHiddenColumns,l=r,u=this.props.selector,n=n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),new Je(l.rows.filter(function(a,c){return a.cells.some(function(s,h){if(!s||i&&o&&o[h]&&typeof o[h]=="object"&&o[h].hidden)return!1;var d="";if(typeof u=="function")d=u(s.data,c,h);else if(typeof s.data=="object"){var f=s.data;f&&f.props&&f.props.content&&(d=f.props.content)}else d=String(s.data);return new RegExp(n,"gi").test(d)})}))):r;var n,o,i,l,u},$(t,[{key:"type",get:function(){return Q.Filter}}]),t}(he);function I(){var e="gridjs";return""+e+[].slice.call(arguments).reduce(function(t,r){return t+"-"+r},"")}function F(){return[].slice.call(arguments).map(function(e){return e?e.toString():""}).filter(function(e){return e}).reduce(function(e,t){return(e||"")+" "+t},"").trim()}var De,q,Qe,It,Lt=function(e){function t(){return e.apply(this,arguments)||this}return J(t,e),t.prototype._process=function(r){if(!this.props.keyword)return r;var n={};return this.props.url&&(n.url=this.props.url(r.url,this.props.keyword)),this.props.body&&(n.body=this.props.body(r.body,this.props.keyword)),D({},r,n)},$(t,[{key:"type",get:function(){return Q.ServerFilter}}]),t}(he),Te=0,Dn=[],je=[],Tt=P.__b,Dt=P.__r,At=P.diffed,Ot=P.__c,Ht=P.unmount;function Xe(e,t){P.__h&&P.__h(q,e,Te||t),Te=0;var r=q.__H||(q.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({__V:je}),r.__[e]}function _e(e){return Te=1,function(t,r,n){var o=Xe(De++,2);if(o.t=t,!o.__c&&(o.__=[Rt(void 0,r),function(l){var u=o.__N?o.__N[0]:o.__[0],a=o.t(u,l);u!==a&&(o.__N=[a,o.__[1]],o.__c.setState({}))}],o.__c=q,!q.u)){q.u=!0;var i=q.shouldComponentUpdate;q.shouldComponentUpdate=function(l,u,a){if(!o.__c.__H)return!0;var c=o.__c.__H.__.filter(function(h){return h.__c});if(c.every(function(h){return!h.__N}))return!i||i.call(this,l,u,a);var s=!1;return c.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(s=!0)}}),!(!s&&o.__c.props===l)&&(!i||i.call(this,l,u,a))}}return o.__N||o.__}(Rt,e)}function ne(e,t){var r=Xe(De++,3);!P.__s&&On(r.__H,t)&&(r.__=e,r.i=t,q.__H.__h.push(r))}function Ae(e){return Te=5,An(function(){return{current:e}},[])}function An(e,t){var r=Xe(De++,7);return On(r.__H,t)?(r.__V=e(),r.i=t,r.__h=e,r.__V):r.__}function ur(){for(var e;e=Dn.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Ue),e.__H.__h.forEach(ut),e.__H.__h=[]}catch(t){e.__H.__h=[],P.__e(t,e.__v)}}P.__b=function(e){q=null,Tt&&Tt(e)},P.__r=function(e){Dt&&Dt(e),De=0;var t=(q=e.__c).__H;t&&(Qe===q?(t.__h=[],q.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=je,r.__N=r.i=void 0})):(t.__h.forEach(Ue),t.__h.forEach(ut),t.__h=[])),Qe=q},P.diffed=function(e){At&&At(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Dn.push(t)!==1&&It===P.requestAnimationFrame||((It=P.requestAnimationFrame)||sr)(ur)),t.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==je&&(r.__=r.__V),r.i=void 0,r.__V=je})),Qe=q=null},P.__c=function(e,t){t.some(function(r){try{r.__h.forEach(Ue),r.__h=r.__h.filter(function(n){return!n.__||ut(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],P.__e(n,r.__v)}}),Ot&&Ot(e,t)},P.unmount=function(e){Ht&&Ht(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ue(n)}catch(o){t=o}}),r.__H=void 0,t&&P.__e(t,r.__v))};var Mt=typeof requestAnimationFrame=="function";function sr(e){var t,r=function(){clearTimeout(n),Mt&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);Mt&&(t=requestAnimationFrame(r))}function Ue(e){var t=q,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),q=t}function ut(e){var t=q;e.__c=e.__(),q=t}function On(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function Rt(e,t){return typeof t=="function"?t(e):t}function re(){return function(e){var t=q.context[e.__c],r=Xe(De++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(q)),t.props.value):e.__}(Rn)}var ar={search:{placeholder:"Type a keyword..."},sort:{sortAsc:"Sort column ascending",sortDesc:"Sort column descending"},pagination:{previous:"Previous",next:"Next",navigate:function(e,t){return"Page "+e+" of "+t},page:function(e){return"Page "+e},showing:"Showing",of:"of",to:"to",results:"results"},loading:"Loading...",noRecordsFound:"No matching records found",error:"An error happened while fetching the data"},cr=function(){function e(r){this._language=void 0,this._defaultLanguage=void 0,this._language=r,this._defaultLanguage=ar}var t=e.prototype;return t.getString=function(r,n){if(!n||!r)return null;var o=r.split("."),i=o[0];if(n[i]){var l=n[i];return typeof l=="string"?function(){return l}:typeof l=="function"?l:this.getString(o.slice(1).join("."),l)}return null},t.translate=function(r){var n,o=this.getString(r,this._language);return(n=o||this.getString(r,this._defaultLanguage))?n.apply(void 0,[].slice.call(arguments,1)):r},e}();function Ye(){var e=re();return function(t){var r;return(r=e.translator).translate.apply(r,[t].concat([].slice.call(arguments,1)))}}var Ft=function(e){return function(t){return D({},t,{search:{keyword:e}})}};function Ee(){return re().store}function de(e){var t=Ee(),r=_e(e(t.getState())),n=r[0],o=r[1];return ne(function(){return t.subscribe(function(){var i=e(t.getState());n!==i&&o(i)})},[]),n}function fr(){var e,t=_e(void 0),r=t[0],n=t[1],o=re(),i=o.search,l=Ye(),u=Ee().dispatch,a=de(function(f){return f.search});ne(function(){r&&r.setProps({keyword:a==null?void 0:a.keyword})},[a,r]),ne(function(){n(i.server?new Lt({keyword:i.keyword,url:i.server.url,body:i.server.body}):new lr({keyword:i.keyword,columns:o.header&&o.header.columns,ignoreHiddenColumns:i.ignoreHiddenColumns||i.ignoreHiddenColumns===void 0,selector:i.selector})),i.keyword&&u(Ft(i.keyword))},[i]),ne(function(){return o.pipeline.register(r),function(){return o.pipeline.unregister(r)}},[o,r]);var c,s,h,d=function(f,p){return Te=8,An(function(){return f},p)}((c=function(f){f.target instanceof HTMLInputElement&&u(Ft(f.target.value))},s=r instanceof Lt?i.debounceTimeout||250:0,function(){var f=arguments;return new Promise(function(p){h&&clearTimeout(h),h=setTimeout(function(){return p(c.apply(void 0,[].slice.call(f)))},s)})}),[i,r]);return b("div",{className:I(F("search",(e=o.className)==null?void 0:e.search))},b("input",{type:"search",placeholder:l("search.placeholder"),"aria-label":l("search.placeholder"),onInput:d,className:F(I("input"),I("search","input")),value:(a==null?void 0:a.keyword)||""}))}var jt=function(e){function t(){return e.apply(this,arguments)||this}J(t,e);var r=t.prototype;return r.validateProps=function(){if(isNaN(Number(this.props.limit))||isNaN(Number(this.props.page)))throw Error("Invalid parameters passed")},r._process=function(n){var o=this.props.page;return new Je(n.rows.slice(o*this.props.limit,(o+1)*this.props.limit))},$(t,[{key:"type",get:function(){return Q.Limit}}]),t}(he),Ut=function(e){function t(){return e.apply(this,arguments)||this}return J(t,e),t.prototype._process=function(r){var n={};return this.props.url&&(n.url=this.props.url(r.url,this.props.page,this.props.limit)),this.props.body&&(n.body=this.props.body(r.body,this.props.page,this.props.limit)),D({},r,n)},$(t,[{key:"type",get:function(){return Q.ServerLimit}}]),t}(he);function dr(){var e=re(),t=e.pagination,r=t.server,n=t.summary,o=n===void 0||n,i=t.nextButton,l=i===void 0||i,u=t.prevButton,a=u===void 0||u,c=t.buttonsCount,s=c===void 0?3:c,h=t.limit,d=h===void 0?10:h,f=t.page,p=f===void 0?0:f,N=t.resetPageOnUpdate,y=N===void 0||N,m=Ae(null),S=_e(p),k=S[0],g=S[1],O=_e(0),w=O[0],_=O[1],v=Ye();ne(function(){return m.current=r?new Ut({limit:d,page:k,url:r.url,body:r.body}):new jt({limit:d,page:k}),m.current instanceof Ut?e.pipeline.on("afterProcess",function(A){return _(A.length)}):m.current instanceof jt&&m.current.on("beforeProcess",function(A){return _(A.length)}),e.pipeline.on("updated",U),e.pipeline.register(m.current),e.pipeline.on("error",function(){_(0),g(0)}),function(){e.pipeline.unregister(m.current),e.pipeline.off("updated",U)}},[]);var U=function(A){y&&A!==m.current&&g(0)},T=function(){return Math.ceil(w/d)},oe=function(A){if(A>=T()||A<0||A===k)return null;g(A),m.current.setProps({page:A})};return b("div",{className:F(I("pagination"),e.className.pagination)},b(fe,null,o&&w>0&&b("div",{role:"status","aria-live":"polite",className:F(I("summary"),e.className.paginationSummary),title:v("pagination.navigate",k+1,T())},v("pagination.showing")," ",b("b",null,v(""+(k*d+1)))," ",v("pagination.to")," ",b("b",null,v(""+Math.min((k+1)*d,w)))," ",v("pagination.of")," ",b("b",null,v(""+w))," ",v("pagination.results"))),b("div",{className:I("pages")},a&&b("button",{tabIndex:0,role:"button",disabled:k===0,onClick:function(){return oe(k-1)},title:v("pagination.previous"),"aria-label":v("pagination.previous"),className:F(e.className.paginationButton,e.className.paginationButtonPrev)},v("pagination.previous")),function(){if(s<=0)return null;var A=Math.min(T(),s),C=Math.min(k,Math.floor(A/2));return k+Math.floor(A/2)>=T()&&(C=A-(T()-k)),b(fe,null,T()>A&&k-C>0&&b(fe,null,b("button",{tabIndex:0,role:"button",onClick:function(){return oe(0)},title:v("pagination.firstPage"),"aria-label":v("pagination.firstPage"),className:e.className.paginationButton},v("1")),b("button",{tabIndex:-1,className:F(I("spread"),e.className.paginationButton)},"...")),Array.from(Array(A).keys()).map(function(E){return k+(E-C)}).map(function(E){return b("button",{tabIndex:0,role:"button",onClick:function(){return oe(E)},className:F(k===E?F(I("currentPage"),e.className.paginationButtonCurrent):null,e.className.paginationButton),title:v("pagination.page",E+1),"aria-label":v("pagination.page",E+1)},v(""+(E+1)))}),T()>A&&T()>k+C+1&&b(fe,null,b("button",{tabIndex:-1,className:F(I("spread"),e.className.paginationButton)},"..."),b("button",{tabIndex:0,role:"button",onClick:function(){return oe(T()-1)},title:v("pagination.page",T()),"aria-label":v("pagination.page",T()),className:e.className.paginationButton},v(""+T()))))}(),l&&b("button",{tabIndex:0,role:"button",disabled:T()===k+1||T()===0,onClick:function(){return oe(k+1)},title:v("pagination.next"),"aria-label":v("pagination.next"),className:F(e.className.paginationButton,e.className.paginationButtonNext)},v("pagination.next"))))}function hr(e,t){return typeof e=="string"?e.indexOf("%")>-1?t/100*parseInt(e,10):parseInt(e,10):e}function $e(e){return e?Math.floor(e)+"px":""}function pr(e){var t=e.tableRef.cloneNode(!0);return t.style.position="absolute",t.style.width="100%",t.style.zIndex="-2147483640",t.style.visibility="hidden",b("div",{ref:function(r){r&&r.appendChild(t)}})}function _r(e){if(!e)return"";var t=e.split(" ");return t.length===1&&/([a-z][A-Z])+/g.test(e)?e:t.map(function(r,n){return n==0?r.toLowerCase():r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()}).join("")}var we,ae=new(function(){function e(){}var t=e.prototype;return t.format=function(r,n){return"[Grid.js] ["+n.toUpperCase()+"]: "+r},t.error=function(r,n){n===void 0&&(n=!1);var o=this.format(r,"error");if(n)throw Error(o);console.error(o)},t.warn=function(r){console.warn(this.format(r,"warn"))},t.info=function(r){console.info(this.format(r,"info"))},e}());(function(e){e[e.Header=0]="Header",e[e.Footer=1]="Footer",e[e.Cell=2]="Cell"})(we||(we={}));var mr=function(){function e(){this.plugins=void 0,this.plugins=[]}var t=e.prototype;return t.get=function(r){return this.plugins.find(function(n){return n.id===r})},t.add=function(r){return r.id?this.get(r.id)?(ae.error("Duplicate plugin ID: "+r.id),this):(this.plugins.push(r),this):(ae.error("Plugin ID cannot be empty"),this)},t.remove=function(r){var n=this.get(r);return n&&this.plugins.splice(this.plugins.indexOf(n),1),this},t.list=function(r){var n;return n=r!=null||r!=null?this.plugins.filter(function(o){return o.position===r}):this.plugins,n.sort(function(o,i){return o.order&&i.order?o.order-i.order:1})},e}();function Ze(e){var t=this,r=re();if(e.pluginId){var n=r.plugin.get(e.pluginId);return n?b(fe,{},b(n.component,D({plugin:n},e.props))):null}return e.position!==void 0?b(fe,{},r.plugin.list(e.position).map(function(o){return b(o.component,D({plugin:o},t.props.props))})):null}var Ce=function(e){function t(){var n;return(n=e.call(this)||this)._columns=void 0,n._columns=[],n}J(t,e);var r=t.prototype;return r.adjustWidth=function(n,o,i){var l=n.container,u=n.autoWidth;if(!l)return this;var a=l.clientWidth,c={};o.current&&u&&(xe(b(pr,{tableRef:o.current}),i.current),c=function(f){var p=f.querySelector("table");if(!p)return{};var N=p.className,y=p.style.cssText;p.className=N+" "+I("shadowTable"),p.style.tableLayout="auto",p.style.width="auto",p.style.padding="0",p.style.margin="0",p.style.border="none",p.style.outline="none";var m=Array.from(p.parentNode.querySelectorAll("thead th")).reduce(function(S,k){var g;return k.style.width=k.clientWidth+"px",D(((g={})[k.getAttribute("data-column-id")]={minWidth:k.clientWidth},g),S)},{});return p.className=N,p.style.cssText=y,p.style.tableLayout="auto",Array.from(p.parentNode.querySelectorAll("thead th")).reduce(function(S,k){return S[k.getAttribute("data-column-id")].width=k.clientWidth,S},m)}(i.current));for(var s,h=ee(t.tabularFormat(this.columns).reduce(function(f,p){return f.concat(p)},[]));!(s=h()).done;){var d=s.value;d.columns&&d.columns.length>0||(!d.width&&u?d.id in c&&(d.width=$e(c[d.id].width),d.minWidth=$e(c[d.id].minWidth)):d.width=$e(hr(d.width,a)))}return o.current&&u&&xe(null,i.current),this},r.setSort=function(n,o){for(var i,l=ee(o||this.columns||[]);!(i=l()).done;){var u=i.value;u.columns&&u.columns.length>0?u.sort=void 0:u.sort===void 0&&n?u.sort={}:u.sort?typeof u.sort=="object"&&(u.sort=D({},u.sort)):u.sort=void 0,u.columns&&this.setSort(n,u.columns)}},r.setResizable=function(n,o){for(var i,l=ee(o||this.columns||[]);!(i=l()).done;){var u=i.value;u.resizable===void 0&&(u.resizable=n),u.columns&&this.setResizable(n,u.columns)}},r.setID=function(n){for(var o,i=ee(n||this.columns||[]);!(o=i()).done;){var l=o.value;l.id||typeof l.name!="string"||(l.id=_r(l.name)),l.id||ae.error('Could not find a valid ID for one of the columns. Make sure a valid "id" is set for all columns.'),l.columns&&this.setID(l.columns)}},r.populatePlugins=function(n,o){for(var i,l=ee(o);!(i=l()).done;){var u=i.value;u.plugin!==void 0&&n.add(D({id:u.id},u.plugin,{position:we.Cell}))}},t.fromColumns=function(n){for(var o,i=new t,l=ee(n);!(o=l()).done;){var u=o.value;if(typeof u=="string"||bn(u))i.columns.push({name:u});else if(typeof u=="object"){var a=u;a.columns&&(a.columns=t.fromColumns(a.columns).columns),typeof a.plugin=="object"&&a.data===void 0&&(a.data=null),i.columns.push(u)}}return i},t.createFromConfig=function(n){var o=new t;return n.from?o.columns=t.fromHTMLTable(n.from).columns:n.columns?o.columns=t.fromColumns(n.columns).columns:!n.data||typeof n.data[0]!="object"||n.data[0]instanceof Array||(o.columns=Object.keys(n.data[0]).map(function(i){return{name:i}})),o.columns.length?(o.setID(),o.setSort(n.sort),o.setResizable(n.resizable),o.populatePlugins(n.plugin,o.columns),o):null},t.fromHTMLTable=function(n){for(var o,i=new t,l=ee(n.querySelector("thead").querySelectorAll("th"));!(o=l()).done;){var u=o.value;i.columns.push({name:u.innerHTML,width:u.width})}return i},t.tabularFormat=function(n){var o=[],i=n||[],l=[];if(i&&i.length){o.push(i);for(var u,a=ee(i);!(u=a()).done;){var c=u.value;c.columns&&c.columns.length&&(l=l.concat(c.columns))}l.length&&(o=o.concat(this.tabularFormat(l)))}return o},t.leafColumns=function(n){var o=[],i=n||[];if(i&&i.length)for(var l,u=ee(i);!(l=u()).done;){var a=l.value;a.columns&&a.columns.length!==0||o.push(a),a.columns&&(o=o.concat(this.leafColumns(a.columns)))}return o},t.maximumDepth=function(n){return this.tabularFormat([n]).length-1},$(t,[{key:"columns",get:function(){return this._columns},set:function(n){this._columns=n}},{key:"visibleColumns",get:function(){return this._columns.filter(function(n){return!n.hidden})}}]),t}(Ge),Hn=function(){},Bt=function(e){function t(n){var o;return(o=e.call(this)||this).data=void 0,o.set(n),o}J(t,e);var r=t.prototype;return r.get=function(){try{return Promise.resolve(this.data()).then(function(n){return{data:n,total:n.length}})}catch(n){return Promise.reject(n)}},r.set=function(n){return n instanceof Array?this.data=function(){return n}:n instanceof Function&&(this.data=n),this},t}(Hn),Mn=function(e){function t(n){var o;return(o=e.call(this)||this).options=void 0,o.options=n,o}J(t,e);var r=t.prototype;return r.handler=function(n){return typeof this.options.handle=="function"?this.options.handle(n):n.ok?n.json():(ae.error("Could not fetch data: "+n.status+" - "+n.statusText,!0),null)},r.get=function(n){var o=D({},this.options,n);return typeof o.data=="function"?o.data(o):fetch(o.url,o).then(this.handler.bind(this)).then(function(i){return{data:o.then(i),total:typeof o.total=="function"?o.total(i):void 0}})},t}(Hn),vr=function(){function e(){}return e.createFromConfig=function(t){var r=null;return t.data&&(r=new Bt(t.data)),t.from&&(r=new Bt(this.tableElementToArray(t.from)),t.from.style.display="none"),t.server&&(r=new Mn(t.server)),r||ae.error("Could not determine the storage type",!0),r},e.tableElementToArray=function(t){for(var r,n,o=[],i=ee(t.querySelector("tbody").querySelectorAll("tr"));!(r=i()).done;){for(var l,u=[],a=ee(r.value.querySelectorAll("td"));!(l=a()).done;){var c=l.value;c.childNodes.length===1&&c.childNodes[0].nodeType===Node.TEXT_NODE?u.push((n=c.innerHTML,new DOMParser().parseFromString(n,"text/html").documentElement.textContent)):u.push(ct(c.innerHTML))}o.push(u)}return o},e}(),Wt=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function te(e,t,r){if(!e.s){if(r instanceof ke){if(!r.s)return void(r.o=te.bind(null,e,t));1&t&&(t=r.s),r=r.v}if(r&&r.then)return void r.then(te.bind(null,e,t),te.bind(null,e,2));e.s=t,e.v=r;var n=e.o;n&&n(e)}}var ke=function(){function e(){}return e.prototype.then=function(t,r){var n=new e,o=this.s;if(o){var i=1&o?t:r;if(i){try{te(n,1,i(this.v))}catch(l){te(n,2,l)}return n}return this}return this.o=function(l){try{var u=l.v;1&l.s?te(n,1,t?t(u):u):r?te(n,1,r(u)):te(n,2,u)}catch(a){te(n,2,a)}},n},e}();function zt(e){return e instanceof ke&&1&e.s}var gr=function(e){function t(n){var o;return(o=e.call(this)||this)._steps=new Map,o.cache=new Map,o.lastProcessorIndexUpdated=-1,n&&n.forEach(function(i){return o.register(i)}),o}J(t,e);var r=t.prototype;return r.clearCache=function(){this.cache=new Map,this.lastProcessorIndexUpdated=-1},r.register=function(n,o){if(o===void 0&&(o=null),n){if(n.type===null)throw Error("Processor type is not defined");n.on("propsUpdated",this.processorPropsUpdated.bind(this)),this.addProcessorByPriority(n,o),this.afterRegistered(n)}},r.unregister=function(n){if(n){var o=this._steps.get(n.type);o&&o.length&&(this._steps.set(n.type,o.filter(function(i){return i!=n})),this.emit("updated",n))}},r.addProcessorByPriority=function(n,o){var i=this._steps.get(n.type);if(!i){var l=[];this._steps.set(n.type,l),i=l}if(o===null||o<0)i.push(n);else if(i[o]){var u=i.slice(0,o-1),a=i.slice(o+1);this._steps.set(n.type,u.concat(n).concat(a))}else i[o]=n},r.getStepsByType=function(n){return this.steps.filter(function(o){return o.type===n})},r.getSortedProcessorTypes=function(){return Object.keys(Q).filter(function(n){return!isNaN(Number(n))}).map(function(n){return Number(n)})},r.process=function(n){try{var o=function(s){return i.lastProcessorIndexUpdated=u.length,i.emit("afterProcess",a),a},i=this,l=i.lastProcessorIndexUpdated,u=i.steps,a=n,c=function(s,h){try{var d=function(f,p,N){if(typeof f[Wt]=="function"){var y,m,S,k=f[Wt]();if(function _(v){try{for(;!(y=k.next()).done;)if((v=p(y.value))&&v.then){if(!zt(v))return void v.then(_,S||(S=te.bind(null,m=new ke,2)));v=v.v}m?te(m,1,v):m=v}catch(U){te(m||(m=new ke),2,U)}}(),k.return){var g=function(_){try{y.done||k.return()}catch{}return _};if(m&&m.then)return m.then(g,function(_){throw g(_)});g()}return m}if(!("length"in f))throw new TypeError("Object is not iterable");for(var O=[],w=0;w<f.length;w++)O.push(f[w]);return function(_,v,U){var T,oe,A=-1;return function C(E){try{for(;++A<_.length;)if((E=v(A))&&E.then){if(!zt(E))return void E.then(C,oe||(oe=te.bind(null,T=new ke,2)));E=E.v}T?te(T,1,E):T=E}catch(j){te(T||(T=new ke),2,j)}}(),T}(O,function(_){return p(O[_])})}(u,function(f){var p=i.findProcessorIndexByID(f.id),N=function(){if(p>=l)return Promise.resolve(f.process(a)).then(function(y){i.cache.set(f.id,a=y)});a=i.cache.get(f.id)}();if(N&&N.then)return N.then(function(){})})}catch(f){return h(f)}return d&&d.then?d.then(void 0,h):d}(0,function(s){throw ae.error(s),i.emit("error",a),s});return Promise.resolve(c&&c.then?c.then(o):o())}catch(s){return Promise.reject(s)}},r.findProcessorIndexByID=function(n){return this.steps.findIndex(function(o){return o.id==n})},r.setLastProcessorIndex=function(n){var o=this.findProcessorIndexByID(n.id);this.lastProcessorIndexUpdated>o&&(this.lastProcessorIndexUpdated=o)},r.processorPropsUpdated=function(n){this.setLastProcessorIndex(n),this.emit("propsUpdated"),this.emit("updated",n)},r.afterRegistered=function(n){this.setLastProcessorIndex(n),this.emit("afterRegister"),this.emit("updated",n)},$(t,[{key:"steps",get:function(){for(var n,o=[],i=ee(this.getSortedProcessorTypes());!(n=i()).done;){var l=this._steps.get(n.value);l&&l.length&&(o=o.concat(l))}return o.filter(function(u){return u})}}]),t}(dt),yr=function(e){function t(){return e.apply(this,arguments)||this}return J(t,e),t.prototype._process=function(r){try{return Promise.resolve(this.props.storage.get(r))}catch(n){return Promise.reject(n)}},$(t,[{key:"type",get:function(){return Q.Extractor}}]),t}(he),br=function(e){function t(){return e.apply(this,arguments)||this}return J(t,e),t.prototype._process=function(r){var n=Je.fromArray(r.data);return n.length=r.total,n},$(t,[{key:"type",get:function(){return Q.Transformer}}]),t}(he),wr=function(e){function t(){return e.apply(this,arguments)||this}return J(t,e),t.prototype._process=function(){return Object.entries(this.props.serverStorageOptions).filter(function(r){return typeof r[1]!="function"}).reduce(function(r,n){var o;return D({},r,((o={})[n[0]]=n[1],o))},{})},$(t,[{key:"type",get:function(){return Q.Initiator}}]),t}(he),kr=function(e){function t(){return e.apply(this,arguments)||this}J(t,e);var r=t.prototype;return r.castData=function(n){if(!n||!n.length)return[];if(!this.props.header||!this.props.header.columns)return n;var o=Ce.leafColumns(this.props.header.columns);return n[0]instanceof Array?n.map(function(i){var l=0;return o.map(function(u,a){return u.data!==void 0?(l++,typeof u.data=="function"?u.data(i):u.data):i[a-l]})}):typeof n[0]!="object"||n[0]instanceof Array?[]:n.map(function(i){return o.map(function(l,u){return l.data!==void 0?typeof l.data=="function"?l.data(i):l.data:l.id?i[l.id]:(ae.error("Could not find the correct cell for column at position "+u+`.
                          Make sure either 'id' or 'selector' is defined for all columns.`),null)})})},r._process=function(n){return{data:this.castData(n.data),total:n.total}},$(t,[{key:"type",get:function(){return Q.Transformer}}]),t}(he),Nr=function(){function e(){}return e.createFromConfig=function(t){var r=new gr;return t.storage instanceof Mn&&r.register(new wr({serverStorageOptions:t.server})),r.register(new yr({storage:t.storage})),r.register(new kr({header:t.header})),r.register(new br),r},e}(),Cr=function(e){var t=this;this.state=void 0,this.listeners=[],this.isDispatching=!1,this.getState=function(){return t.state},this.getListeners=function(){return t.listeners},this.dispatch=function(r){if(typeof r!="function")throw new Error("Reducer is not a function");if(t.isDispatching)throw new Error("Reducers may not dispatch actions");t.isDispatching=!0;var n=t.state;try{t.state=r(t.state)}finally{t.isDispatching=!1}for(var o,i=ee(t.listeners);!(o=i()).done;)(0,o.value)(t.state,n);return t.state},this.subscribe=function(r){if(typeof r!="function")throw new Error("Listener is not a function");return t.listeners=[].concat(t.listeners,[r]),function(){return t.listeners=t.listeners.filter(function(n){return n!==r})}},this.state=e},Rn=function(e,t){var r={__c:t="__cC"+wn++,__:null,Consumer:function(n,o){return n.children(o)},Provider:function(n){var o,i;return this.getChildContext||(o=[],(i={})[t]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&o.some(lt)},this.sub=function(l){o.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){o.splice(o.indexOf(l),1),u&&u.call(l)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}(),Sr=function(){function e(){Object.assign(this,e.defaultConfig())}var t=e.prototype;return t.assign=function(r){return Object.assign(this,r)},t.update=function(r){return r?(this.assign(e.fromPartialConfig(D({},this,r))),this):this},e.defaultConfig=function(){return{store:new Cr({status:ie.Init,header:void 0,data:null}),plugin:new mr,tableRef:{current:null},width:"100%",height:"auto",autoWidth:!0,style:{},className:{}}},e.fromPartialConfig=function(r){var n=new e().assign(r);return typeof r.sort=="boolean"&&r.sort&&n.assign({sort:{multiColumn:!0}}),n.assign({header:Ce.createFromConfig(n)}),n.assign({storage:vr.createFromConfig(n)}),n.assign({pipeline:Nr.createFromConfig(n)}),n.assign({translator:new cr(n.language)}),n.search&&n.plugin.add({id:"search",position:we.Header,component:fr}),n.pagination&&n.plugin.add({id:"pagination",position:we.Footer,component:dr}),n.plugins&&n.plugins.forEach(function(o){return n.plugin.add(o)}),n},e}();function Fn(e){var t,r=re();return b("td",D({role:e.role,colSpan:e.colSpan,"data-column-id":e.column&&e.column.id,className:F(I("td"),e.className,r.className.td),style:D({},e.style,r.style.td),onClick:function(n){e.messageCell||r.eventEmitter.emit("cellClick",n,e.cell,e.column,e.row)}},(t=e.column)?typeof t.attributes=="function"?t.attributes(e.cell.data,e.row,e.column):t.attributes:{}),e.column&&typeof e.column.formatter=="function"?e.column.formatter(e.cell.data,e.row,e.column):e.column&&e.column.plugin?b(Ze,{pluginId:e.column.id,props:{column:e.column,cell:e.cell,row:e.row}}):e.cell.data)}function ht(e){var t=re(),r=de(function(n){return n.header});return b("tr",{className:F(I("tr"),t.className.tr),onClick:function(n){e.messageRow||t.eventEmitter.emit("rowClick",n,e.row)}},e.children?e.children:e.row.cells.map(function(n,o){var i=function(l){if(r){var u=Ce.leafColumns(r.columns);if(u)return u[l]}return null}(o);return i&&i.hidden?null:b(Fn,{key:n.id,cell:n,row:e.row,column:i})}))}function et(e){return b(ht,{messageRow:!0},b(Fn,{role:"alert",colSpan:e.colSpan,messageCell:!0,cell:new ft(e.message),className:F(I("message"),e.className?e.className:null)}))}function Er(){var e=re(),t=de(function(l){return l.data}),r=de(function(l){return l.status}),n=de(function(l){return l.header}),o=Ye(),i=function(){return n?n.visibleColumns.length:0};return b("tbody",{className:F(I("tbody"),e.className.tbody)},t&&t.rows.map(function(l){return b(ht,{key:l.id,row:l})}),r===ie.Loading&&(!t||t.length===0)&&b(et,{message:o("loading"),colSpan:i(),className:F(I("loading"),e.className.loading)}),r===ie.Rendered&&t&&t.length===0&&b(et,{message:o("noRecordsFound"),colSpan:i(),className:F(I("notfound"),e.className.notfound)}),r===ie.Error&&b(et,{message:o("error"),colSpan:i(),className:F(I("error"),e.className.error)}))}var Pr=function(e){function t(){return e.apply(this,arguments)||this}J(t,e);var r=t.prototype;return r.validateProps=function(){for(var n,o=ee(this.props.columns);!(n=o()).done;){var i=n.value;i.direction===void 0&&(i.direction=1),i.direction!==1&&i.direction!==-1&&ae.error("Invalid sort direction "+i.direction)}},r.compare=function(n,o){return n>o?1:n<o?-1:0},r.compareWrapper=function(n,o){for(var i,l=0,u=ee(this.props.columns);!(i=u()).done;){var a=i.value;if(l!==0)break;var c=n.cells[a.index].data,s=o.cells[a.index].data;l|=typeof a.compare=="function"?a.compare(c,s)*a.direction:this.compare(c,s)*a.direction}return l},r._process=function(n){var o=[].concat(n.rows);o.sort(this.compareWrapper.bind(this));var i=new Je(o);return i.length=n.length,i},$(t,[{key:"type",get:function(){return Q.Sort}}]),t}(he),qt=function(e,t,r,n){return function(o){var i=o.sort?[].concat(o.sort.columns):[],l=i.length,u=i.find(function(p){return p.index===e}),a=!1,c=!1,s=!1,h=!1;if(u!==void 0?r?u.direction===-1?s=!0:h=!0:l===1?h=!0:l>1&&(c=!0,a=!0):l===0?a=!0:l>0&&!r?(a=!0,c=!0):l>0&&r&&(a=!0),c&&(i=[]),a)i.push({index:e,direction:t,compare:n});else if(h){var d=i.indexOf(u);i[d].direction=t}else if(s){var f=i.indexOf(u);i.splice(f,1)}return D({},o,{sort:{columns:i}})}},jn=function(e,t,r){return function(n){var o=(n.sort?[].concat(n.sort.columns):[]).find(function(i){return i.index===e});return D({},n,o?qt(e,o.direction===1?-1:1,t,r)(n):qt(e,1,t,r)(n))}},xr=function(e){function t(){return e.apply(this,arguments)||this}return J(t,e),t.prototype._process=function(r){var n={};return this.props.url&&(n.url=this.props.url(r.url,this.props.columns)),this.props.body&&(n.body=this.props.body(r.body,this.props.columns)),D({},r,n)},$(t,[{key:"type",get:function(){return Q.ServerSort}}]),t}(he);function Ir(e){var t=re(),r=Ye(),n=_e(0),o=n[0],i=n[1],l=_e(void 0),u=l[0],a=l[1],c=de(function(f){return f.sort}),s=Ee().dispatch,h=t.sort;ne(function(){var f=d();f&&a(f)},[]),ne(function(){return t.pipeline.register(u),function(){return t.pipeline.unregister(u)}},[t,u]),ne(function(){if(c){var f=c.columns.find(function(p){return p.index===e.index});i(f?f.direction:0)}},[c]),ne(function(){u&&c&&u.setProps({columns:c.columns})},[c]);var d=function(){var f=Q.Sort;return h&&typeof h.server=="object"&&(f=Q.ServerSort),t.pipeline.getStepsByType(f).length===0?f===Q.ServerSort?new xr(D({columns:c?c.columns:[]},h.server)):new Pr({columns:c?c.columns:[]}):null};return b("button",{tabIndex:-1,"aria-label":r("sort.sort"+(o===1?"Desc":"Asc")),title:r("sort.sort"+(o===1?"Desc":"Asc")),className:F(I("sort"),I("sort",function(f){return f===1?"asc":f===-1?"desc":"neutral"}(o)),t.className.sort),onClick:function(f){f.preventDefault(),f.stopPropagation(),s(jn(e.index,f.shiftKey===!0&&h.multiColumn,e.compare))}})}function Lr(e){var t,r=function(l){return l instanceof MouseEvent?Math.floor(l.pageX):Math.floor(l.changedTouches[0].pageX)},n=function(l){l.stopPropagation();var u,a,c,s,h,d=parseInt(e.thRef.current.style.width,10)-r(l);u=function(f){return o(f,d)},(a=10)===void 0&&(a=100),t=function(){var f=[].slice.call(arguments);c?(clearTimeout(s),s=setTimeout(function(){Date.now()-h>=a&&(u.apply(void 0,f),h=Date.now())},Math.max(a-(Date.now()-h),0))):(u.apply(void 0,f),h=Date.now(),c=!0)},document.addEventListener("mouseup",i),document.addEventListener("touchend",i),document.addEventListener("mousemove",t),document.addEventListener("touchmove",t)},o=function(l,u){l.stopPropagation();var a=e.thRef.current;u+r(l)>=parseInt(a.style.minWidth,10)&&(a.style.width=u+r(l)+"px")},i=function l(u){u.stopPropagation(),document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",t),document.removeEventListener("touchmove",t),document.removeEventListener("touchend",l)};return b("div",{className:F(I("th"),I("resizable")),onMouseDown:n,onTouchStart:n,onClick:function(l){return l.stopPropagation()}})}function Tr(e){var t=re(),r=Ae(null),n=_e({}),o=n[0],i=n[1],l=Ee().dispatch;ne(function(){if(t.fixedHeader&&r.current){var s=r.current.offsetTop;typeof s=="number"&&i({top:s})}},[r]);var u,a=function(){return e.column.sort!=null},c=function(s){s.stopPropagation(),a()&&l(jn(e.index,s.shiftKey===!0&&t.sort.multiColumn,e.column.sort.compare))};return b("th",D({ref:r,"data-column-id":e.column&&e.column.id,className:F(I("th"),a()?I("th","sort"):null,t.fixedHeader?I("th","fixed"):null,t.className.th),onClick:c,style:D({},t.style.th,{minWidth:e.column.minWidth,width:e.column.width},o,e.style),onKeyDown:function(s){a()&&s.which===13&&c(s)},rowSpan:e.rowSpan>1?e.rowSpan:void 0,colSpan:e.colSpan>1?e.colSpan:void 0},(u=e.column)?typeof u.attributes=="function"?u.attributes(null,null,e.column):u.attributes:{},a()?{tabIndex:0}:{}),b("div",{className:I("th","content")},e.column.name!==void 0?e.column.name:e.column.plugin!==void 0?b(Ze,{pluginId:e.column.plugin.id,props:{column:e.column}}):null),a()&&b(Ir,D({index:e.index},e.column.sort)),e.column.resizable&&e.index<t.header.visibleColumns.length-1&&b(Lr,{column:e.column,thRef:r}))}function Dr(){var e,t=re(),r=de(function(n){return n.header});return r?b("thead",{key:r.id,className:F(I("thead"),t.className.thead)},(e=Ce.tabularFormat(r.columns)).map(function(n,o){return function(i,l,u){var a=Ce.leafColumns(r.columns);return b(ht,null,i.map(function(c){return c.hidden?null:function(s,h,d,f){var p=function(N,y,m){var S=Ce.maximumDepth(N),k=m-y;return{rowSpan:Math.floor(k-S-S/k),colSpan:N.columns&&N.columns.length||1}}(s,h,f);return b(Tr,{column:s,index:d,colSpan:p.colSpan,rowSpan:p.rowSpan})}(c,l,a.indexOf(c),u)}))}(n,o,e.length)})):null}var Vt=function(e){return function(t){return D({},t,{header:e})}};function Ar(){var e=re(),t=Ae(null),r=Ee().dispatch;return ne(function(){t&&r(function(n){return function(o){return D({},o,{tableRef:n})}}(t))},[t]),b("table",{ref:t,role:"grid",className:F(I("table"),e.className.table),style:D({},e.style.table,{height:e.height})},b(Dr,null),b(Er,null))}function Or(){var e=_e(!0),t=e[0],r=e[1],n=Ae(null),o=re();return ne(function(){n.current.children.length===0&&r(!1)},[n]),t?b("div",{ref:n,className:F(I("head"),o.className.header),style:D({},o.style.header)},b(Ze,{position:we.Header})):null}function Hr(){var e=Ae(null),t=_e(!0),r=t[0],n=t[1],o=re();return ne(function(){e.current.children.length===0&&n(!1)},[e]),r?b("div",{ref:e,className:F(I("footer"),o.className.footer),style:D({},o.style.footer)},b(Ze,{position:we.Footer})):null}function Mr(){var e=re(),t=Ee().dispatch,r=de(function(u){return u.status}),n=de(function(u){return u.data}),o=de(function(u){return u.tableRef}),i={current:null};ne(function(){return t(Vt(e.header)),l(),e.pipeline.on("updated",l),function(){return e.pipeline.off("updated",l)}},[]),ne(function(){e.header&&r===ie.Loaded&&n!=null&&n.length&&t(Vt(e.header.adjustWidth(e,o,i)))},[n,e,i]);var l=function(){try{t(function(a){return D({},a,{status:ie.Loading})});var u=function(a,c){try{var s=Promise.resolve(e.pipeline.process()).then(function(h){t(function(d){return function(f){return d?D({},f,{data:d,status:ie.Loaded}):f}}(h)),setTimeout(function(){t(function(d){return d.status===ie.Loaded?D({},d,{status:ie.Rendered}):d})},0)})}catch(h){return c(h)}return s&&s.then?s.then(void 0,c):s}(0,function(a){ae.error(a),t(function(c){return D({},c,{data:null,status:ie.Error})})});return Promise.resolve(u&&u.then?u.then(function(){}):void 0)}catch(a){return Promise.reject(a)}};return b("div",{role:"complementary",className:F("gridjs",I("container"),r===ie.Loading?I("loading"):null,e.className.container),style:D({},e.style.container,{width:e.width})},r===ie.Loading&&b("div",{className:I("loading-bar")}),b(Or,null),b("div",{className:I("wrapper"),style:{height:e.height}},b(Ar,null)),b(Hr,null),b("div",{ref:i,id:"gridjs-temp",className:I("temp")}))}var Rr=function(e){function t(n){var o;return(o=e.call(this)||this).config=void 0,o.plugin=void 0,o.config=new Sr().assign({instance:Nt(o),eventEmitter:Nt(o)}).update(n),o.plugin=o.config.plugin,o}J(t,e);var r=t.prototype;return r.updateConfig=function(n){return this.config.update(n),this},r.createElement=function(){return b(Rn.Provider,{value:this.config,children:b(Mr,{})})},r.forceRender=function(){return this.config&&this.config.container||ae.error("Container is empty. Make sure you call render() before forceRender()",!0),this.destroy(),xe(this.createElement(),this.config.container),this},r.destroy=function(){this.config.pipeline.clearCache(),xe(null,this.config.container)},r.render=function(n){return n||ae.error("Container element cannot be null",!0),n.childNodes.length>0?(ae.error("The container element "+n+" is not empty. Make sure the container is empty and call render() again"),this):(this.config.container=n,xe(this.createElement(),n),this)},t}(dt);function Fr(e){let t;return{c(){t=W("article")},l(r){t=z(r,"ARTICLE",{}),K(t).forEach(x)},m(r,n){B(r,t,n),e[18](t)},p:Ne,i:Ne,o:Ne,d(r){r&&x(t),e[18](null)}}}function jr(e,t,r){let{width:n="100%"}=t,{height:o="auto"}=t,{autoWidth:i=!0}=t,{fixedHeader:l=!1}=t,{resizable:u=!1}=t,{from:a=void 0}=t,{language:c=void 0}=t,{search:s=!1}=t,{sort:h=!1}=t,{pagination:d=!1}=t,{server:f=void 0}=t,{columns:p=void 0}=t,{data:N=void 0}=t,{plugins:y=void 0}=t,{style:m={}}=t,{className:S={}}=t;const k=new Rr({from:a,data:N,columns:p,server:f,search:s,sort:h,pagination:d,language:c,width:n,height:o,autoWidth:i,plugins:y,fixedHeader:l,resizable:u,style:m,className:S});let g;const O=Un();k.on("cellClick",(..._)=>O("cellClick",{..._})),k.on("rowClick",(..._)=>O("rowClick",{..._})),k.on("beforeLoad",()=>O("beforeLoad")),k.on("load",_=>O("load",{..._})),k.on("ready",()=>O("ready")),hn(()=>{g&&k.render(g)});function w(_){Bn[_?"unshift":"push"](()=>{g=_,r(0,g)})}return e.$$set=_=>{"width"in _&&r(1,n=_.width),"height"in _&&r(2,o=_.height),"autoWidth"in _&&r(3,i=_.autoWidth),"fixedHeader"in _&&r(4,l=_.fixedHeader),"resizable"in _&&r(5,u=_.resizable),"from"in _&&r(6,a=_.from),"language"in _&&r(7,c=_.language),"search"in _&&r(8,s=_.search),"sort"in _&&r(9,h=_.sort),"pagination"in _&&r(10,d=_.pagination),"server"in _&&r(11,f=_.server),"columns"in _&&r(12,p=_.columns),"data"in _&&r(13,N=_.data),"plugins"in _&&r(14,y=_.plugins),"style"in _&&r(15,m=_.style),"className"in _&&r(16,S=_.className)},e.$$.update=()=>{e.$$.dirty&114687&&g&&k.updateConfig({from:a,data:N,columns:p,server:f,search:s,sort:h,pagination:d,language:c,width:n,height:o,autoWidth:i,fixedHeader:l,style:m,className:S,resizable:u}).forceRender()},[g,n,o,i,l,u,a,c,s,h,d,f,p,N,y,m,S,k,w]}class Ur extends cn{constructor(t){super(),fn(this,t,jr,Fr,dn,{width:1,height:2,autoWidth:3,fixedHeader:4,resizable:5,from:6,language:7,search:8,sort:9,pagination:10,server:11,columns:12,data:13,plugins:14,style:15,className:16,instance:17})}get instance(){return this.$$.ctx[17]}}const Br=(e,t)=>{const{subscribe:r,set:n,update:o}=Xn(t);return{subscribe:r,set:n,update:o,useLocalStorage:()=>{const i=localStorage.getItem(e);i&&n(JSON.parse(i)),r(l=>{localStorage.setItem(e,JSON.stringify(l))})}}},tt=Br("datasets_result",[]);function Gt(e,t,r){const n=e.slice();return n[27]=t[r],n}function Jt(e,t,r){const n=e.slice();return n[27]=t[r],n}function Xt(e,t,r){const n=e.slice();return n[27]=t[r],n}function Yt(e,t,r){const n=e.slice();return n[34]=t[r],n[35]=t,n[36]=r,n}function Zt(e,t,r){const n=e.slice();return n[37]=t[r],n}function Kt(e,t,r){const n=e.slice();return n[40]=t[r],n[36]=r,n}function Qt(e){let t,r=e[3],n=[];for(let o=0;o<r.length;o+=1)n[o]=nn(Yt(e,r,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=be()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);t=be()},m(o,i){for(let l=0;l<n.length;l+=1)n[l].m(o,i);B(o,t,i)},p(o,i){if(i[0]&24589){r=o[3];let l;for(l=0;l<r.length;l+=1){const u=Yt(o,r,l);n[l]?n[l].p(u,i):(n[l]=nn(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(o){Se(n,o),o&&x(t)}}}function $t(e){let t,r=e[40].Id+"",n;return{c(){t=W("option"),n=le(r),this.h()},l(o){t=z(o,"OPTION",{});var i=K(t);n=ue(i,r),i.forEach(x),this.h()},h(){t.__value=e[36],t.value=t.__value},m(o,i){B(o,t,i),L(t,n)},p(o,i){i[0]&1&&r!==(r=o[40].Id+"")&&mn(n,r)},d(o){o&&x(t)}}}function en(e){let t,r,n,o=e[0][e[3][e[36]]].Versions,i=[];for(let u=0;u<o.length;u+=1)i[u]=tn(Zt(e,o,u));function l(){e[18].call(t,e[36])}return{c(){t=W("select");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){t=z(u,"SELECT",{id:!0});var a=K(t);for(let c=0;c<i.length;c+=1)i[c].l(a);a.forEach(x),this.h()},h(){Be(t,"id","version_select_"+{i:e[36]}),e[2][e[36]]===void 0&&_n(l)},m(u,a){B(u,t,a);for(let c=0;c<i.length;c+=1)i[c].m(t,null);We(t,e[2][e[36]]),r||(n=ge(t,"change",l),r=!0)},p(u,a){if(e=u,a[0]&9){o=e[0][e[3][e[36]]].Versions;let c;for(c=0;c<o.length;c+=1){const s=Zt(e,o,c);i[c]?i[c].p(s,a):(i[c]=tn(s),i[c].c(),i[c].m(t,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=o.length}a[0]&13&&We(t,e[2][e[36]])},d(u){u&&x(t),Se(i,u),r=!1,n()}}}function tn(e){let t,r=e[37].Id+"",n,o;return{c(){t=W("option"),n=le(r),this.h()},l(i){t=z(i,"OPTION",{});var l=K(t);n=ue(l,r),l.forEach(x),this.h()},h(){t.__value=o=e[37].Id,t.value=t.__value},m(i,l){B(i,t,l),L(t,n)},p(i,l){l[0]&9&&r!==(r=i[37].Id+"")&&mn(n,r),l[0]&9&&o!==(o=i[37].Id)&&(t.__value=o,t.value=t.__value)},d(i){i&&x(t)}}}function nn(e){let t,r,n=e[36]+1+"",o,i,l,u,a,c,s,h,d,f,p,N,y=e[0],m=[];for(let w=0;w<y.length;w+=1)m[w]=$t(Kt(e,y,w));function S(){e[16].call(u,e[36])}function k(){return e[17](e[36])}let g=e[2].length>=e[36]&&en(e);function O(){return e[19](e[36])}return{c(){t=W("label"),r=le("Datased Id "),o=le(n),i=le(":"),l=Y(),u=W("select");for(let w=0;w<m.length;w+=1)m[w].c();a=Y(),g&&g.c(),c=Y(),s=W("button"),h=le("-"),d=Y(),f=W("br"),this.h()},l(w){t=z(w,"LABEL",{for:!0});var _=K(t);r=ue(_,"Datased Id "),o=ue(_,n),i=ue(_,":"),_.forEach(x),l=Z(w),u=z(w,"SELECT",{id:!0});var v=K(u);for(let T=0;T<m.length;T+=1)m[T].l(v);v.forEach(x),a=Z(w),g&&g.l(w),c=Z(w),s=z(w,"BUTTON",{});var U=K(s);h=ue(U,"-"),U.forEach(x),d=Z(w),f=z(w,"BR",{}),this.h()},h(){Be(t,"for","ds_select_"+{i:e[36]}),Be(u,"id","ds_select_"+{i:e[36]}),e[3][e[36]]===void 0&&_n(S)},m(w,_){B(w,t,_),L(t,r),L(t,o),L(t,i),B(w,l,_),B(w,u,_);for(let v=0;v<m.length;v+=1)m[v].m(u,null);We(u,e[3][e[36]]),B(w,a,_),g&&g.m(w,_),B(w,c,_),B(w,s,_),L(s,h),B(w,d,_),B(w,f,_),p||(N=[ge(u,"change",S),ge(u,"change",k),ge(s,"click",O)],p=!0)},p(w,_){if(e=w,_[0]&1){y=e[0];let v;for(v=0;v<y.length;v+=1){const U=Kt(e,y,v);m[v]?m[v].p(U,_):(m[v]=$t(U),m[v].c(),m[v].m(u,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=y.length}_[0]&8&&We(u,e[3][e[36]]),e[2].length>=e[36]?g?g.p(e,_):(g=en(e),g.c(),g.m(c.parentNode,c)):g&&(g.d(1),g=null)},d(w){w&&x(t),w&&x(l),w&&x(u),Se(m,w),w&&x(a),g&&g.d(w),w&&x(c),w&&x(s),w&&x(d),w&&x(f),p=!1,pn(N)}}}function Wr(e){let t,r=e[6],n=[];for(let o=0;o<r.length;o+=1)n[o]=rn(Xt(e,r,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=be()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);t=be()},m(o,i){for(let l=0;l<n.length;l+=1)n[l].m(o,i);B(o,t,i)},p(o,i){if(i[0]&64){r=o[6];let l;for(l=0;l<r.length;l+=1){const u=Xt(o,r,l);n[l]?n[l].p(u,i):(n[l]=rn(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(o){Se(n,o),o&&x(t)}}}function rn(e){let t=e[27].id+"",r;return{c(){r=le(t)},l(n){r=ue(n,t)},m(n,o){B(n,r,o)},p:Ne,d(n){n&&x(r)}}}function zr(e){let t,r=e[7],n=[];for(let o=0;o<r.length;o+=1)n[o]=on(Jt(e,r,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=be()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);t=be()},m(o,i){for(let l=0;l<n.length;l+=1)n[l].m(o,i);B(o,t,i)},p(o,i){if(i[0]&128){r=o[7];let l;for(l=0;l<r.length;l+=1){const u=Jt(o,r,l);n[l]?n[l].p(u,i):(n[l]=on(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(o){Se(n,o),o&&x(t)}}}function on(e){let t=e[27].id+"",r;return{c(){r=le(t)},l(n){r=ue(n,t)},m(n,o){B(n,r,o)},p:Ne,d(n){n&&x(r)}}}function qr(e){let t,r=e[8],n=[];for(let o=0;o<r.length;o+=1)n[o]=ln(Gt(e,r,o));return{c(){for(let o=0;o<n.length;o+=1)n[o].c();t=be()},l(o){for(let i=0;i<n.length;i+=1)n[i].l(o);t=be()},m(o,i){for(let l=0;l<n.length;l+=1)n[l].m(o,i);B(o,t,i)},p(o,i){if(i[0]&256){r=o[8];let l;for(l=0;l<r.length;l+=1){const u=Gt(o,r,l);n[l]?n[l].p(u,i):(n[l]=ln(u),n[l].c(),n[l].m(t.parentNode,t))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(o){Se(n,o),o&&x(t)}}}function ln(e){let t,r=e[27].value+"",n;return{c(){t=W("span"),n=le(r),this.h()},l(o){t=z(o,"SPAN",{style:!0});var i=K(t);n=ue(i,r),i.forEach(x),this.h()},h(){gt(t,"background-color",e[27].added?"#90ee9061":e[27].removed?"#ff000038":"white"),gt(t,"color",e[27].added?"green":e[27].removed?"red":"gray")},m(o,i){B(o,t,i),L(t,n)},p:Ne,d(o){o&&x(t)}}}function un(e){let t,r;return t=new Ur({props:{data:e[1],style:e[15]}}),{c(){zn(t.$$.fragment)},l(n){qn(t.$$.fragment,n)},m(n,o){Vn(t,n,o),r=!0},p(n,o){const i={};o[0]&2&&(i.data=n[1]),t.$set(i)},i(n){r||(He(t.$$.fragment,n),r=!0)},o(n){nt(t.$$.fragment,n),r=!1},d(n){Gn(t,n)}}}function Vr(e){let t,r,n,o,i,l,u,a,c,s,h,d,f,p,N,y,m,S,k,g,O,w,_,v,U,T,oe,A,C,E,j,X,R=e[0]&&Qt(e),H=e[4]&&Wr(e),ce=e[5]&&zr(e),pe=e[8].length>0&&qr(e),V=e[1]&&un(e);return{c(){t=W("h1"),r=le("test"),n=Y(),o=W("main"),i=W("div"),l=W("button"),u=le("Show Diff"),a=Y(),c=W("button"),s=le("fetch_datasets"),h=Y(),d=W("button"),f=le("Add Dataset Id"),p=Y(),N=W("button"),y=le("Fetch Original Schema"),m=Y(),R&&R.c(),S=Y(),H&&H.c(),k=Y(),g=W("br"),O=W("br"),w=Y(),ce&&ce.c(),_=Y(),v=W("br"),U=W("br"),T=Y(),pe&&pe.c(),oe=Y(),A=W("pre"),C=Y(),V&&V.c(),this.h()},l(M){t=z(M,"H1",{});var se=K(t);r=ue(se,"test"),se.forEach(x),n=Z(M),o=z(M,"MAIN",{});var G=K(o);i=z(G,"DIV",{});var ve=K(i);l=z(ve,"BUTTON",{});var pt=K(l);u=ue(pt,"Show Diff"),pt.forEach(x),a=Z(ve),c=z(ve,"BUTTON",{});var _t=K(c);s=ue(_t,"fetch_datasets"),_t.forEach(x),h=Z(ve),d=z(ve,"BUTTON",{});var mt=K(d);f=ue(mt,"Add Dataset Id"),mt.forEach(x),p=Z(ve),N=z(ve,"BUTTON",{});var vt=K(N);y=ue(vt,"Fetch Original Schema"),vt.forEach(x),ve.forEach(x),m=Z(G),R&&R.l(G),S=Z(G),H&&H.l(G),k=Z(G),g=z(G,"BR",{}),O=z(G,"BR",{}),w=Z(G),ce&&ce.l(G),_=Z(G),v=z(G,"BR",{}),U=z(G,"BR",{}),T=Z(G),pe&&pe.l(G),oe=Z(G),A=z(G,"PRE",{id:!0}),K(A).forEach(x),C=Z(G),V&&V.l(G),G.forEach(x),this.h()},h(){Be(A,"id","display")},m(M,se){B(M,t,se),L(t,r),B(M,n,se),B(M,o,se),L(o,i),L(i,l),L(l,u),L(i,a),L(i,c),L(c,s),L(i,h),L(i,d),L(d,f),L(i,p),L(i,N),L(N,y),L(o,m),R&&R.m(o,null),L(o,S),H&&H.m(o,null),L(o,k),L(o,g),L(o,O),L(o,w),ce&&ce.m(o,null),L(o,_),L(o,v),L(o,U),L(o,T),pe&&pe.m(o,null),L(o,oe),L(o,A),L(o,C),V&&V.m(o,null),E=!0,j||(X=[ge(l,"click",e[10]),ge(c,"click",e[9]),ge(d,"click",e[12]),ge(N,"click",e[11])],j=!0)},p(M,se){M[0]?R?R.p(M,se):(R=Qt(M),R.c(),R.m(o,S)):R&&(R.d(1),R=null),M[4]&&H.p(M,se),M[5]&&ce.p(M,se),M[8].length>0&&pe.p(M,se),M[1]?V?(V.p(M,se),se[0]&2&&He(V,1)):(V=un(M),V.c(),He(V,1),V.m(o,null)):V&&(Jn(),nt(V,1,1,()=>{V=null}),Wn())},i(M){E||(He(V),E=!0)},o(M){nt(V),E=!1},d(M){M&&x(t),M&&x(n),M&&x(o),R&&R.d(),H&&H.d(),ce&&ce.d(),pe&&pe.d(),V&&V.d(),j=!1,pn(X)}}}let Gr="rgba(144, 238, 144, 0.38)",Jr="rgba(255, 0, 0, 0.22)",Xr="green",Yr="red",Zr="https://www.bexis.uni-jena.de/api/Dataset",Kr="",Qr="https://www.bexis.uni-jena.de/api/Metadata/";function st(e,t,r){let n=[];for(var o in e){let u=e[o];if(o=="#text"){let a=[];for(var i in r)a.push(r[i]);a.push(o),n.push(a)}else if(typeof u=="object"){let a=r.slice();a.push(o);let c=st(u,3,a);for(var l in c)n.push(c[l])}}return n}function $r(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!=t[r])return!1;return!0}function sn(e){let t=e[0],r=[],n=st(t,3,[]);for(var o=1;o<e.length;o++){let s=st(e[o],3,[]);for(var i in s){let h=!1;for(var l in n)$r(s[i],n[l])&&(h=!0);h||n.push(s[i])}}if(n.length==0)return[];for(var u in n){let s=[];n[u][n[u].length-2].length<=1?s.push(n[u][n[u].length-4]+" "+n[u][n[u].length-2]):s.push(n[u][n[u].length-3]);for(var a=0;a<e.length;a++){let h=e[a];e:for(var c in n[u]){let d=n[u][c];console.log("Traversing key: ",d," dataset: ",a);let f="";if(d=="#text"&&"@partyid"in h?(f=h["@partyid"],h=h[d],h+=" ("+f+")"):h=h[d],h==null){console.log("key not found in j: ",a),console.log(n[u]);break e}}h==null?s.push(""):s.push(h)}s.length>0&&r.push(s)}return r}function an(e,t,r){return'<span style="background-color:'+e+"; color:"+t+';" class="s-y_bCXRrkrYfP">'+r+"</span>"}function eo(e,t,r){let n,o,i;tt.subscribe(C=>{r(0,i=C),console.log(typeof i)}),hn(async()=>{console.log("qopiwrupoiwqr"),tt.useLocalStorage()});let l={Accept:"application/json",Authorization:"Bearer "+Kr,"Content-Type":"application/json"},u,a,c=[],s=[],h=[],d=[];async function f(){const E=await(await fetch(Zr,{method:"GET"})).json();return tt.set(E),E}async function p(C){return console.log("Fetching metadata for dataset_id: ",C),await(await fetch(Qr+C,{method:"GET",headers:l})).json()}function N(C,E){let j="",X="",R=!1;for(let H=0;H<E.length;H+=1)j+=E.at(H).value,"added"in E.at(H)&&E.at(H).added==!0&&(R=!0,X+=an(Gr,Xr,E.at(H).value)),"removed"in E.at(H)&&E.at(H).removed==!0&&(R=!0,X+=an(Jr,Yr,E.at(H).value)),"removed"in E.at(H)||"added"in E.at(H)||(X+='<span style="background-color: white;" class="s-y_bCXRrkrYfP">'+E.at(H).value+"</span>");return R?ct(C+"<br>"+X):C}function y(C){r(1,d=[]);let E=C.length;C[0].length;for(var j=0;j<E;j++){let R={section:C[j][0]};for(var X=1;X<C[j].length;X++){let H=C[j][X];if(X>1){let ce=Qn(C[j][X],C[j][1]);H=N(H,ce)}R["col"+X]=H}d.push(R)}r(1,d)}async function m(){let C=[];console.log("Fetching metadata...");for(var E=0;E<n.length;E++){let X=i[n[E]].Id,R=await p(X);C.push(R)}let j=sn(C);console.log(j),y(j)}async function S(){let C=i[n[0]].Id;console.log(C);let E=await p(C),j=sn([E]);console.log(j)}function k(){o.push(i[1].Versions[0].Id),r(2,o)}function g(){n.push(1),r(3,n),k()}function O(C){console.log(n[C]),console.log(i[n[C]].Versions[0].Id),r(2,o[C]=i[n[C]].Versions[0].Id,o),r(2,o)}function w(C){console.log("Deleting dataset: ",C),n.splice(C,1),r(3,n),o.splice(C,1),r(2,o),_(C+1)}function _(C){console.log(d);for(var E=0;E<20&&!("col"+C in d[0]);E++)C+=1;for(var j in d)console.log("Deleting: ",d[j],"col"+C),delete d[j]["col"+C];console.log("Deleting: ",d),r(1,d)}const v={table:{border:"3px solid #ccc","overflow-x":"scroll"},"overflow-x":"scroll"};function U(C){n[C]=yt(this),r(3,n)}const T=C=>O(C);function oe(C){o[C]=yt(this),r(2,o),r(0,i),r(3,n)}const A=C=>w(C);return r(3,n=[]),r(2,o=[]),[i,d,o,n,u,a,c,s,h,f,m,S,g,O,w,v,U,T,oe,A]}class ro extends cn{constructor(t){super(),fn(this,t,eo,Vr,dn,{},null,[-1,-1])}}export{ro as default};
