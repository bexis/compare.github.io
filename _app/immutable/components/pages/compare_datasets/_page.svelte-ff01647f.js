var ns=Object.defineProperty;var os=(l,e,t)=>e in l?ns(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var b=(l,e,t)=>(os(l,typeof e!="symbol"?e+"":e,t),t);import{S as ye,i as Ce,s as Ae,e as O,b as $,C as ue,h as d,q as L,r as z,u as ge,a as Y,k as R,c as J,l as F,a4 as De,m as T,n as G,H as k,G as is,I as as,J as cs,K as fs,f as A,t as j,Q as nt,a0 as je,M as de,N as us,g as ae,d as ce,v as Ge,w as Pe,x as Z,y as le,z as x,W as be,ad as Mt,A as ee,o as Nt,a9 as Vt,aa as Gt,P as ke,E as Pt,a6 as Kt,a7 as Ke,V as ie,ae as Le,D as Oe,ab as ot,af as ze}from"../../../chunks/index-5be25f07.js";import{d as ds}from"../../../chunks/index.es6-e3d92ab8.js";import{d as Me,a as it,t as at,b as Qe,e as Ne}from"../../../chunks/store-5f7ba014.js";import"../../../chunks/ProgressBar.svelte_svelte_type_style_lang-eda54fb4.js";import{P as hs}from"../../../chunks/ProgressRadial-55cb67d7.js";import{d as re,r as Ie,w as ve}from"../../../chunks/index-e0892334.js";import{f as ct,g as _s}from"../../../chunks/utils-21f4f64d.js";function ft(l,e,t){const s=l.slice();return s[2]=e[t],s}function ps(l){let e;return{c(){e=L(l[0])},l(t){e=z(t,l[0])},m(t,s){$(t,e,s)},p(t,s){s&1&&ge(e,t[0])},d(t){t&&d(e)}}}function bs(l){let e,t,s,r,n,i,o=l[1],a=[];for(let c=0;c<o.length;c+=1)a[c]=dt(ft(l,o,c));return{c(){e=L(l[0]),t=Y(),s=R("br"),r=R("br"),n=Y();for(let c=0;c<a.length;c+=1)a[c].c();i=O()},l(c){e=z(c,l[0]),t=J(c),s=F(c,"BR",{}),r=F(c,"BR",{}),n=J(c);for(let f=0;f<a.length;f+=1)a[f].l(c);i=O()},m(c,f){$(c,e,f),$(c,t,f),$(c,s,f),$(c,r,f),$(c,n,f);for(let u=0;u<a.length;u+=1)a[u].m(c,f);$(c,i,f)},p(c,f){if(f&1&&ge(e,c[0]),f&2){o=c[1];let u;for(u=0;u<o.length;u+=1){const g=ft(c,o,u);a[u]?a[u].p(g,f):(a[u]=dt(g),a[u].c(),a[u].m(i.parentNode,i))}for(;u<a.length;u+=1)a[u].d(1);a.length=o.length}},d(c){c&&d(e),c&&d(t),c&&d(s),c&&d(r),c&&d(n),De(a,c),c&&d(i)}}}function ut(l){let e,t=l[2].value+"",s,r;return{c(){e=R("span"),s=L(t),this.h()},l(n){e=F(n,"SPAN",{class:!0});var i=T(e);s=z(i,t),i.forEach(d),this.h()},h(){G(e,"class",r=l[2].added?"bg-green-100 dark:bg-surface-900 text-green-400":l[2].removed?"bg-red-100 dark:bg-surface-900 text-red-400":"")},m(n,i){$(n,e,i),k(e,s)},p(n,i){i&2&&t!==(t=n[2].value+"")&&ge(s,t),i&2&&r!==(r=n[2].added?"bg-green-100 dark:bg-surface-900 text-green-400":n[2].removed?"bg-red-100 dark:bg-surface-900 text-red-400":"")&&G(e,"class",r)},d(n){n&&d(e)}}}function dt(l){let e,t=(l[2].added||l[2].removed)&&ut(l);return{c(){t&&t.c(),e=O()},l(s){t&&t.l(s),e=O()},m(s,r){t&&t.m(s,r),$(s,e,r)},p(s,r){s[2].added||s[2].removed?t?t.p(s,r):(t=ut(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&d(e)}}}function gs(l){let e;function t(n,i){return n[1].length>1?bs:ps}let s=t(l),r=s(l);return{c(){r.c(),e=O()},l(n){r.l(n),e=O()},m(n,i){r.m(n,i),$(n,e,i)},p(n,[i]){s===(s=t(n))&&r?r.p(n,i):(r.d(1),r=s(n),r&&(r.c(),r.m(e.parentNode,e)))},i:ue,o:ue,d(n){r.d(n),n&&d(e)}}}function ms(l,e,t){let{diff_orig:s=""}=e,{diff:r=[]}=e;return l.$$set=n=>{"diff_orig"in n&&t(0,s=n.diff_orig),"diff"in n&&t(1,r=n.diff)},[s,r]}class ws extends ye{constructor(e){super(),Ce(this,e,ms,gs,Ae,{diff_orig:0,diff:1})}}const Lt=l=>{const e=Object.entries(l),t=e.map(([s])=>s);return re(e.map(([,s])=>s),s=>Object.fromEntries(s.map((r,n)=>[t[n],r])))},vs=l=>l&1,ks=l=>({}),ht=l=>({...l[0]});function $s(l){let e;const t=l[3].default,s=is(t,l,l[2],ht);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,n){s&&s.m(r,n),e=!0},p(r,[n]){s&&s.p&&(!e||n&5)&&as(s,t,r,r[2],vs(n)||!e?cs(r[2]):fs(t,r[2],n,ks),ht)},i(r){e||(A(s,r),e=!0)},o(r){j(s,r),e=!1},d(r){s&&s.d(r)}}}function Es(l,e,t){const s=[];let r=nt(e,s),n,{$$slots:i={},$$scope:o}=e;const a=Lt(r);return je(l,a,c=>t(0,n=c)),l.$$set=c=>{e=de(de({},e),us(c)),t(4,r=nt(e,s)),"$$scope"in c&&t(2,o=c.$$scope)},[n,a,o,i]}class Te extends ye{constructor(e){super(),Ce(this,e,Es,$s,Ae,{})}}function _t(l,e,t){const s=l.slice();return s[5]=e[t],s}function ys(l){let e,t,s;const r=[l[2]??{}];var n=l[1].component;function i(o){let a={$$slots:{default:[As]},$$scope:{ctx:o}};for(let c=0;c<r.length;c+=1)a=de(a,r[c]);return{props:a}}return n&&(e=Pe(n,i(l)),l[4](e)),{c(){e&&Z(e.$$.fragment),t=O()},l(o){e&&le(e.$$.fragment,o),t=O()},m(o,a){e&&x(e,o,a),$(o,t,a),s=!0},p(o,a){const c=a&4?be(r,[Mt(o[2]??{})]):{};if(a&258&&(c.$$scope={dirty:a,ctx:o}),n!==(n=o[1].component)){if(e){ae();const f=e;j(f.$$.fragment,1,0,()=>{ee(f,1)}),ce()}n?(e=Pe(n,i(o)),o[4](e),Z(e.$$.fragment),A(e.$$.fragment,1),x(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(o){s||(e&&A(e.$$.fragment,o),s=!0)},o(o){e&&j(e.$$.fragment,o),s=!1},d(o){l[4](null),o&&d(t),e&&ee(e,o)}}}function Cs(l){let e,t,s;const r=[l[2]??{}];var n=l[1].component;function i(o){let a={};for(let c=0;c<r.length;c+=1)a=de(a,r[c]);return{props:a}}return n&&(e=Pe(n,i()),l[3](e)),{c(){e&&Z(e.$$.fragment),t=O()},l(o){e&&le(e.$$.fragment,o),t=O()},m(o,a){e&&x(e,o,a),$(o,t,a),s=!0},p(o,a){const c=a&4?be(r,[Mt(o[2]??{})]):{};if(n!==(n=o[1].component)){if(e){ae();const f=e;j(f.$$.fragment,1,0,()=>{ee(f,1)}),ce()}n?(e=Pe(n,i()),o[3](e),Z(e.$$.fragment),A(e.$$.fragment,1),x(e,t.parentNode,t)):e=null}else n&&e.$set(c)},i(o){s||(e&&A(e.$$.fragment,o),s=!0)},o(o){e&&j(e.$$.fragment,o),s=!1},d(o){l[3](null),o&&d(t),e&&ee(e,o)}}}function pt(l){let e,t;return e=new Ze({props:{of:l[5]}}),{c(){Z(e.$$.fragment)},l(s){le(e.$$.fragment,s)},m(s,r){x(e,s,r),t=!0},p(s,r){const n={};r&2&&(n.of=s[5]),e.$set(n)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function As(l){let e,t,s=l[1].children,r=[];for(let i=0;i<s.length;i+=1)r[i]=pt(_t(l,s,i));const n=i=>j(r[i],1,1,()=>{r[i]=null});return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=O()},l(i){for(let o=0;o<r.length;o+=1)r[o].l(i);e=O()},m(i,o){for(let a=0;a<r.length;a+=1)r[a].m(i,o);$(i,e,o),t=!0},p(i,o){if(o&2){s=i[1].children;let a;for(a=0;a<s.length;a+=1){const c=_t(i,s,a);r[a]?(r[a].p(c,o),A(r[a],1)):(r[a]=pt(c),r[a].c(),A(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=s.length;a<r.length;a+=1)n(a);ce()}},i(i){if(!t){for(let o=0;o<s.length;o+=1)A(r[o]);t=!0}},o(i){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)j(r[o]);t=!1},d(i){De(r,i),i&&d(e)}}}function Rs(l){let e,t,s,r;const n=[Cs,ys],i=[];function o(a,c){return a[1].children.length===0?0:1}return e=o(l),t=i[e]=n[e](l),{c(){t.c(),s=O()},l(a){t.l(a),s=O()},m(a,c){i[e].m(a,c),$(a,s,c),r=!0},p(a,[c]){let f=e;e=o(a),e===f?i[e].p(a,c):(ae(),j(i[f],1,1,()=>{i[f]=null}),ce(),t=i[e],t?t.p(a,c):(t=i[e]=n[e](a),t.c()),A(t,1),t.m(s.parentNode,s))},i(a){r||(A(t),r=!0)},o(a){j(t),r=!1},d(a){i[e].d(a),a&&d(s)}}}function Fs(l,e,t){let{instance:s=void 0}=e,{config:r}=e,{props:n=void 0}=e;function i(a){Ge[a?"unshift":"push"](()=>{s=a,t(0,s)})}function o(a){Ge[a?"unshift":"push"](()=>{s=a,t(0,s)})}return l.$$set=a=>{"instance"in a&&t(0,s=a.instance),"config"in a&&t(1,r=a.config),"props"in a&&t(2,n=a.props)},[s,r,n,i,o]}class zt extends ye{constructor(e){super(),Ce(this,e,Fs,Rs,Ae,{instance:0,config:1,props:2})}}const Xe=l=>(l==null?void 0:l.subscribe)instanceof Function,Is=Ie(void 0);function js(l){let e,t,s;function r(i){l[3](i)}let n={config:l[0],props:l[0].props};return l[1]!==void 0&&(n.instance=l[1]),e=new zt({props:n}),Ge.push(()=>Vt(e,"instance",r)),{c(){Z(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,o){x(e,i,o),s=!0},p(i,o){const a={};o&1&&(a.config=i[0]),o&1&&(a.props=i[0].props),!t&&o&2&&(t=!0,a.instance=i[1],Gt(()=>t=!1)),e.$set(a)},i(i){s||(A(e.$$.fragment,i),s=!0)},o(i){j(e.$$.fragment,i),s=!1},d(i){ee(e,i)}}}function Ds(l){let e,t;return e=new Te({props:{props:l[0].props,$$slots:{default:[Ts,({props:s})=>({4:s}),({props:s})=>s?16:0]},$$scope:{ctx:l}}}),{c(){Z(e.$$.fragment)},l(s){le(e.$$.fragment,s)},m(s,r){x(e,s,r),t=!0},p(s,r){const n={};r&1&&(n.props=s[0].props),r&51&&(n.$$scope={dirty:r,ctx:s}),e.$set(n)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function Ts(l){let e,t,s;function r(i){l[2](i)}let n={config:l[0],props:l[4]};return l[1]!==void 0&&(n.instance=l[1]),e=new zt({props:n}),Ge.push(()=>Vt(e,"instance",r)),{c(){Z(e.$$.fragment)},l(i){le(e.$$.fragment,i)},m(i,o){x(e,i,o),s=!0},p(i,o){const a={};o&1&&(a.config=i[0]),o&16&&(a.props=i[4]),!t&&o&2&&(t=!0,a.instance=i[1],Gt(()=>t=!1)),e.$set(a)},i(i){s||(A(e.$$.fragment,i),s=!0)},o(i){j(e.$$.fragment,i),s=!1},d(i){ee(e,i)}}}function Bs(l){let e,t,s,r,n;const i=[Ds,js],o=[];function a(c,f){return f&1&&(e=null),e==null&&(e=!!Xe(c[0].props)),e?0:1}return t=a(l,-1),s=o[t]=i[t](l),{c(){s.c(),r=O()},l(c){s.l(c),r=O()},m(c,f){o[t].m(c,f),$(c,r,f),n=!0},p(c,[f]){let u=t;t=a(c,f),t===u?o[t].p(c,f):(ae(),j(o[u],1,1,()=>{o[u]=null}),ce(),s=o[t],s?s.p(c,f):(s=o[t]=i[t](c),s.c()),A(s,1),s.m(r.parentNode,r))},i(c){n||(A(s),n=!0)},o(c){j(s),n=!1},d(c){o[t].d(c),c&&d(r)}}}function Ss(l,e,t){let{config:s}=e,r;Nt(function(){return s.eventHandlers.forEach(([a,c])=>{const f=r.$$.callbacks[a]??[];f.push(c),t(1,r.$$.callbacks[a]=f,r)}),function(){s.eventHandlers.forEach(([c,f])=>{const u=r.$$.callbacks[c],g=u.findIndex(P=>P===f);u.splice(g,1)})}});function n(o){r=o,t(1,r)}function i(o){r=o,t(1,r)}return l.$$set=o=>{"config"in o&&t(0,s=o.config)},[s,r,n,i]}class Hs extends ye{constructor(e){super(),Ce(this,e,Ss,Bs,Ae,{config:0})}}function Os(l){let e,t;return e=new Hs({props:{config:l[0]}}),{c(){Z(e.$$.fragment)},l(s){le(e.$$.fragment,s)},m(s,r){x(e,s,r),t=!0},p(s,r){const n={};r&1&&(n.config=s[0]),e.$set(n)},i(s){t||(A(e.$$.fragment,s),t=!0)},o(s){j(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function Ms(l){let e;return{c(){e=L(l[0])},l(t){e=z(t,l[0])},m(t,s){$(t,e,s)},p(t,s){s&1&&ge(e,t[0])},i:ue,o:ue,d(t){t&&d(e)}}}function Ns(l){let e;return{c(){e=L(l[1])},l(t){e=z(t,l[1])},m(t,s){$(t,e,s)},p(t,s){s&2&&ge(e,t[1])},i:ue,o:ue,d(t){t&&d(e)}}}function Vs(l){let e,t,s,r,n;const i=[Ns,Ms,Os],o=[];function a(c,f){return f&1&&(e=null),e==null&&(e=!!Xe(c[0])),e?0:typeof c[0]!="object"?1:2}return t=a(l,-1),s=o[t]=i[t](l),{c(){s.c(),r=O()},l(c){s.l(c),r=O()},m(c,f){o[t].m(c,f),$(c,r,f),n=!0},p(c,[f]){let u=t;t=a(c,f),t===u?o[t].p(c,f):(ae(),j(o[u],1,1,()=>{o[u]=null}),ce(),s=o[t],s?s.p(c,f):(s=o[t]=i[t](c),s.c()),A(s,1),s.m(r.parentNode,r))},i(c){n||(A(s),n=!0)},o(c){j(s),n=!1},d(c){o[t].d(c),c&&d(r)}}}function Gs(l,e,t){let s,{of:r}=e;const n=Xe(r)?r:Is;return je(l,n,i=>t(1,s=i)),l.$$set=i=>{"of"in i&&t(0,r=i.of)},[r,s,n]}class Ze extends ye{constructor(e){super(),Ce(this,e,Gs,Vs,Ae,{of:0})}}class Ps{constructor(e,t){b(this,"component");b(this,"props");b(this,"eventHandlers",[]);b(this,"children",[]);this.component=e,this.props=t}on(e,t){return this.eventHandlers.push([e,t]),this}slot(...e){return this.children=e,this}}function Ks(l,e){return new Ps(l,e)}class Ut{constructor({header:e,footer:t,height:s,plugins:r}){b(this,"header");b(this,"footer");b(this,"height");b(this,"plugins");this.header=e,this.footer=t,this.height=s,this.plugins=r}isFlat(){return"__flat"in this}isData(){return"__data"in this}isDisplay(){return"__display"in this}isGroup(){return"__group"in this}}class qt extends Ut{constructor({header:t,footer:s,plugins:r,id:n}){super({header:t,footer:s,plugins:r,height:1});b(this,"__flat",!0);b(this,"id");this.id=n}}class Ls extends qt{constructor({header:t,footer:s,plugins:r,cell:n,accessor:i,id:o}){super({header:t,footer:s,plugins:r,id:"Initialization not complete"});b(this,"__data",!0);b(this,"cell");b(this,"accessorKey");b(this,"accessorFn");if(this.cell=n,i instanceof Function?this.accessorFn=i:this.accessorKey=i,o===void 0&&this.accessorKey===void 0)throw new Error("A column id or string accessor is required");this.id=o??String(this.accessorKey)}getValue(t){if(this.accessorFn!==void 0)return this.accessorFn(t);if(this.accessorKey!==void 0)return t[this.accessorKey]}}class zs extends qt{constructor({header:t,footer:s,plugins:r,id:n,cell:i,data:o}){super({header:t,footer:s,plugins:r,id:n});b(this,"__display",!0);b(this,"cell");b(this,"data");this.cell=i,this.data=o}}class Us extends Ut{constructor({header:t,footer:s,columns:r,plugins:n}){const i=Math.max(...r.map(o=>o.height))+1;super({header:t,footer:s,height:i,plugins:n});b(this,"__group",!0);b(this,"columns");b(this,"ids");this.columns=r,this.ids=Yt(r)}}const Yt=l=>l.flatMap(e=>e.isFlat()?[e.id]:e.isGroup()?e.ids:[]),Jt=l=>l.flatMap(e=>e.isFlat()?[e]:e.isGroup()?Jt(e.columns):[]),qs=l=>{const e=new Map;return l.forEach(t=>{e.set(t,(e.get(t)??0)+1)}),e},Ys=l=>Array.from(qs(l).entries()).filter(([,e])=>e!==1).map(([e])=>e),Js=l=>Object.entries(l).map(([e,t])=>`${e}:${t}`).join(";"),Qs=(l,e)=>l.style===void 0&&e.style===void 0?{...l,...e}:{...l,...e,style:{...typeof l.style=="object"?l.style:{},...typeof e.style=="object"?e.style:{}}},Ve=l=>l.style===void 0||typeof l.style!="object"?l:{...l,style:Js(l.style)};class Ue{constructor({id:e}){b(this,"id");b(this,"attrsForName",{});b(this,"propsForName",{});b(this,"state");this.id=e}attrs(){return re(Object.values(this.attrsForName),e=>{let t={};return e.forEach(s=>{t=Qs(t,s)}),Ve(t)})}props(){return Lt(this.propsForName)}injectState(e){this.state=e}applyHook(e,t){t.props!==void 0&&(this.propsForName[e]=t.props),t.attrs!==void 0&&(this.attrsForName[e]=t.attrs)}}class Qt extends Ue{constructor({id:t,row:s}){super({id:t});b(this,"row");this.row=s}attrs(){return re(super.attrs(),t=>({...t,role:"cell"}))}rowColId(){return`${this.row.id}:${this.column.id}`}dataRowColId(){if(this.row.isData())return`${this.row.dataId}:${this.column.id}`}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class xe extends Qt{constructor({row:t,column:s,label:r,value:n}){super({id:s.id,row:t});b(this,"__data",!0);b(this,"column");b(this,"label");b(this,"value");this.column=s,this.label=r,this.value=n}render(){if(this.label===void 0)return`${this.value}`;if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new xe({row:this.row,column:this.column,label:this.label,value:this.value})}}class et extends Qt{constructor({row:t,column:s,label:r}){super({id:s.id,row:t});b(this,"__display",!0);b(this,"column");b(this,"label");this.column=s,this.label=r}render(){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new et({row:this.row,column:this.column,label:this.label})}}const pe=l=>l!==void 0;class Ws extends Ue{constructor({id:t,cells:s,cellForId:r,depth:n=0,parentRow:i}){super({id:t});b(this,"cells");b(this,"cellForId");b(this,"depth");b(this,"parentRow");b(this,"subRows");this.cells=s,this.cellForId=r,this.depth=n,this.parentRow=i}attrs(){return re(super.attrs(),t=>({...t,role:"row"}))}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class tt extends Ws{constructor({id:t,dataId:s,original:r,cells:n,cellForId:i,depth:o=0,parentRow:a}){super({id:t,cells:n,cellForId:i,depth:o,parentRow:a});b(this,"__data",!0);b(this,"dataId");b(this,"original");this.dataId=s,this.original=r}clone({includeCells:t=!1,includeSubRows:s=!1}={}){var n;const r=new tt({id:this.id,dataId:this.dataId,cellForId:this.cellForId,cells:this.cells,original:this.original,depth:this.depth});if(t){const i=Object.fromEntries(Object.entries(r.cellForId).map(([a,c])=>{const f=c.clone();return f.row=r,[a,f]})),o=r.cells.map(({id:a})=>i[a]);r.cellForId=i,r.cells=o}if(s){const i=(n=this.subRows)==null?void 0:n.map(o=>o.clone({includeCells:t,includeSubRows:s}));r.subRows=i}else r.subRows=this.subRows;return r}}const Xs=(l,e,{rowDataId:t}={})=>{const s=l.map((r,n)=>{const i=n.toString();return new tt({id:i,dataId:t!==void 0?t(r,n):i,original:r,cells:[],cellForId:{}})});return l.forEach((r,n)=>{const i=e.map(o=>{if(o.isData()){const a=o,c=a.getValue(r);return new xe({row:s[n],column:a,label:o.cell,value:c})}if(o.isDisplay()){const a=o;return new et({row:s[n],column:a,label:o.cell})}throw new Error("Unrecognized `FlatColumn` implementation")});s[n].cells=i,e.forEach((o,a)=>{s[n].cellForId[o.id]=i[a]})}),s},Zs=(l,e)=>{const t=l.map(s=>{const r=s.clone();return r.cells=[],r.cellForId={},r});return l.length===0||e.length===0?l:(l.forEach((s,r)=>{const n=s.cells.map(o=>{const a=o.clone();return a.row=t[r],a}),i=e.map(o=>n.find(a=>a.id===o)).filter(pe);t[r].cells=i,n.forEach(o=>{t[r].cellForId[o.id]=o})}),t)},Wt=" ";class Xt extends Ue{constructor({id:t,label:s,colspan:r,colstart:n}){super({id:t});b(this,"label");b(this,"colspan");b(this,"colstart");this.label=s,this.colspan=r,this.colstart=n}render(){if(this.label instanceof Function){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}return this.label}attrs(){return re(super.attrs(),t=>({...t,role:"columnheader",colspan:this.colspan}))}isFlat(){return"__flat"in this}isData(){return"__data"in this}isFlatDisplay(){return"__flat"in this&&"__display"in this}isGroup(){return"__group"in this}isGroupDisplay(){return"__group"in this&&"__display"in this}}class qe extends Xt{constructor({id:t,label:s,colstart:r}){super({id:t,label:s,colspan:1,colstart:r});b(this,"__flat",!0)}clone(){return new qe({id:this.id,label:this.label,colstart:this.colstart})}}class st extends qe{constructor({id:t,label:s,accessorKey:r,accessorFn:n,colstart:i}){super({id:t,label:s,colstart:i});b(this,"__data",!0);b(this,"accessorKey");b(this,"accessorFn");this.accessorKey=r,this.accessorFn=n}clone(){return new st({id:this.id,label:this.label,accessorFn:this.accessorFn,accessorKey:this.accessorKey,colstart:this.colstart})}}class Ye extends qe{constructor({id:t,label:s=Wt,colstart:r}){super({id:t,label:s,colstart:r});b(this,"__display",!0)}clone(){return new Ye({id:this.id,label:this.label,colstart:this.colstart})}}class Je extends Xt{constructor({label:t,ids:s,allIds:r,colspan:n,colstart:i}){super({id:`[${s.join(",")}]`,label:t,colspan:n,colstart:i});b(this,"__group",!0);b(this,"ids");b(this,"allId");b(this,"allIds");this.ids=s,this.allId=`[${r.join(",")}]`,this.allIds=r}setIds(t){this.ids=t,this.id=`[${this.ids.join(",")}]`}pushId(t){this.ids=[...this.ids,t],this.id=`[${this.ids.join(",")}]`}clone(){return new Je({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}class rt extends Je{constructor({label:t=Wt,ids:s,allIds:r,colspan:n=1,colstart:i}){super({label:t,ids:s,allIds:r,colspan:n,colstart:i});b(this,"__display",!0)}clone(){return new rt({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}const xs=l=>l.reduce((e,t)=>e+t,0),Zt=(l,e)=>{const t=[];for(let s=0;s<e;s++)t.push(Array(l).fill(null));return t},bt=l=>{const e=l.length;if(e===0)return l;const t=l[0].length,s=Zt(e,t);for(let r=0;r<t;r++)for(let n=0;n<e;n++)s[r][n]=l[n][r];return s};class lt extends Ue{constructor({id:t,cells:s}){super({id:t});b(this,"cells");this.cells=s}attrs(){return re(super.attrs(),t=>({...t,role:"row"}))}clone(){return new lt({id:this.id,cells:this.cells})}}const er=(l,e=[])=>{const t=tr(l);let s=bt(t);return s=sr(s,e),rr(s),lr(bt(s))},tr=l=>{const e=xs(l.map(n=>n.isGroup()?n.ids.length:1)),t=Math.max(...l.map(n=>n.height)),s=Zt(e,t);let r=0;return l.forEach(n=>{const i=t-n.height;xt(s,n,i,r),r+=n.isGroup()?n.ids.length:1}),s.map((n,i)=>n.map((o,a)=>{var f;if(o!==null)return o;if(i===t-1)return new Ye({id:a.toString(),colstart:a});const c=((f=s[t-1][a])==null?void 0:f.id)??a.toString();return new rt({ids:[],allIds:[c],colstart:a})}))},xt=(l,e,t,s)=>{if(e.isData()){l[l.length-1][s]=new st({label:e.header,accessorFn:e.accessorFn,accessorKey:e.accessorKey,id:e.id,colstart:s});return}if(e.isDisplay()){l[l.length-1][s]=new Ye({id:e.id,label:e.header,colstart:s});return}if(e.isGroup()){for(let n=0;n<e.ids.length;n++)l[t][s+n]=new Je({label:e.header,colspan:1,allIds:e.ids,ids:[],colstart:s});let r=0;e.columns.forEach(n=>{xt(l,n,t+1,s+r),r+=n.isGroup()?n.ids.length:1});return}},sr=(l,e)=>{if(e.length===0)return l;const t=[];return e.forEach((s,r)=>{const n=l.find(i=>{const o=i[i.length-1];if(!o.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");return o.id===s});n!==void 0&&t.push(n.map(i=>{const o=i.clone();return o.colstart=r,o}))}),t},rr=l=>{l.forEach(e=>{const t=e[e.length-1];if(!t.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");e.forEach(s=>{s.isGroup()&&s.pushId(t.id)})})},lr=l=>l.map((e,t)=>new lt({id:t.toString(),cells:nr(e)})),nr=l=>{if(l.length===0)return l;const e=[];let t=0,s=1;for(;t<l.length;){const r=l[t].clone();if(!r.isGroup()){e.push(r),t++;continue}s=t+1;const n=[...r.ids];for(;s<l.length;){const i=l[s];if(!i.isGroup()||r.allId!==i.allId)break;n.push(...i.ids),s++}r.setIds(n),r.colspan=s-t,e.push(r),t=s}return e},or=(l,e,{rowDataId:t}={})=>{const{data:s,plugins:r}=l,n=Jt(e),i=Ie(n),o=re([s,i],([m,y])=>Xs(m,y,{rowDataId:t})),a=ve([]),c=ve(),f=ve([]),u=ve([]),g=ve({role:"table"}),P=ve({}),U=ve({role:"rowgroup"}),Q={data:s,columns:e,flatColumns:n,tableAttrs:g,tableHeadAttrs:P,tableBodyAttrs:U,visibleColumns:a,headerRows:c,originalRows:o,rows:f,pageRows:u},M=Object.fromEntries(Object.entries(r).map(([m,y])=>{const D=Object.fromEntries(n.map(H=>{var se;const te=(se=H.plugins)==null?void 0:se[m];if(te!==void 0)return[H.id,te]}).filter(pe));return[m,y({pluginName:m,tableState:Q,columnOptions:D})]})),X=Object.fromEntries(Object.entries(M).map(([m,y])=>[m,y.pluginState])),N={data:s,columns:e,flatColumns:n,tableAttrs:g,tableHeadAttrs:P,tableBodyAttrs:U,visibleColumns:a,headerRows:c,originalRows:o,rows:f,pageRows:u,pluginStates:X},h=Object.values(M).map(m=>m.deriveTableAttrs).filter(pe);let _=Ie({role:"table"});h.forEach(m=>{_=m(_)});const B=re(_,m=>{const y=Ve(m);return g.set(y),y}),V=Object.values(M).map(m=>m.deriveTableBodyAttrs).filter(pe);let S=Ie({});V.forEach(m=>{S=m(S)});const v=re(S,m=>{const y=Ve(m);return P.set(y),y}),C=Object.values(M).map(m=>m.deriveTableBodyAttrs).filter(pe);let w=Ie({role:"rowgroup"});C.forEach(m=>{w=m(w)});const E=re(w,m=>{const y=Ve(m);return U.set(y),y}),K=Object.values(M).map(m=>m.deriveFlatColumns).filter(pe);let ne=i;K.forEach(m=>{ne=m(ne)});const I=re(ne,m=>(a.set(m),m)),$e=re([o,I],([m,y])=>Zs(m,y.map(D=>D.id))),he=Object.values(M).map(m=>m.deriveRows).filter(pe);let _e=$e;he.forEach(m=>{_e=m(_e)});const me=re(_e,m=>(m.forEach(y=>{y.injectState(N),y.cells.forEach(D=>{D.injectState(N)})}),Object.entries(M).forEach(([y,D])=>{m.forEach(H=>{var te;((te=D.hooks)==null?void 0:te["tbody.tr"])!==void 0&&H.applyHook(y,D.hooks["tbody.tr"](H)),H.cells.forEach(se=>{var fe;((fe=D.hooks)==null?void 0:fe["tbody.tr.td"])!==void 0&&se.applyHook(y,D.hooks["tbody.tr.td"](se))})})}),f.set(m),m)),Ee=Object.values(M).map(m=>m.derivePageRows).filter(pe);let Re=me;Ee.forEach(m=>{Re=m(Re)});const Be=re(Re,m=>(m.forEach(y=>{y.injectState(N),y.cells.forEach(D=>{D.injectState(N)})}),Object.entries(M).forEach(([y,D])=>{m.forEach(H=>{var te;((te=D.hooks)==null?void 0:te["tbody.tr"])!==void 0&&H.applyHook(y,D.hooks["tbody.tr"](H)),H.cells.forEach(se=>{var fe;((fe=D.hooks)==null?void 0:fe["tbody.tr.td"])!==void 0&&se.applyHook(y,D.hooks["tbody.tr.td"](se))})})}),u.set(m),m)),Se=re(I,m=>{const y=er(e,m.map(D=>D.id));return y.forEach(D=>{D.injectState(N),D.cells.forEach(H=>{H.injectState(N)})}),Object.entries(M).forEach(([D,H])=>{y.forEach(te=>{var se;((se=H.hooks)==null?void 0:se["thead.tr"])!==void 0&&te.applyHook(D,H.hooks["thead.tr"](te)),te.cells.forEach(fe=>{var He;((He=H.hooks)==null?void 0:He["thead.tr.th"])!==void 0&&fe.applyHook(D,H.hooks["thead.tr.th"](fe))})})}),c.set(y),y});return{tableAttrs:B,tableHeadAttrs:v,tableBodyAttrs:E,visibleColumns:I,flatColumns:n,headerRows:Se,originalRows:o,rows:me,pageRows:Be,pluginStates:X}};class ir{constructor(e,t){b(this,"data");b(this,"plugins");this.data=e,this.plugins=t}createColumns(e){const t=Yt(e),s=Ys(t);if(s.length!==0)throw new Error(`Duplicate column ids not allowed: "${s.join('", "')}"`);return e}column(e){return new Ls(e)}group(e){return new Us(e)}display(e){return new zs(e)}createViewModel(e,t){return or(this,e,t)}}const gt=(l,e={})=>new ir(l,e);function ar(l){let e=l[0],t=[],s=We(e,3,[]);for(var r=1;r<l.length;r++){let f=We(l[r],3,[]);for(var n in f){let u=!1;for(var i in s)cr(f[n],s[i])&&(u=!0);u||s.push(f[n])}}if(s.length==0)return[];for(var o in s){let f=[];s[o][s[o].length-2].length<=1?f.push(s[o][s[o].length-4]+" "+s[o][s[o].length-2]):f.push(s[o][s[o].length-3]);for(var a=0;a<l.length;a++){let u=l[a];e:for(var c in s[o]){let g=s[o][c];console.log("Traversing key: ",g," dataset: ",a);let P="";if(g=="#text"&&"@partyid"in u?(P=u["@partyid"],u=u[g],u+=" ("+P+")"):u=u[g],u==null){console.log("key not found in j: ",a),console.log(s[o]);break e}}u==null?f.push(""):f.push(u)}f.length>0&&t.push(f)}return t}function We(l,e,t){let s=[];for(var r in l){let o=l[r];if(r=="#text"){let a=[];for(var n in t)a.push(t[n]);a.push(r),s.push(a)}else if(typeof o=="object"){let a=t.slice();a.push(r);let c=We(o,3,a);for(var i in c)s.push(c[i])}}return s}function cr(l,e){if(l.length!=e.length)return!1;for(var t=0;t<l.length;t++)if(l[t]!=e[t])return!1;return!0}function mt(l,e,t){const s=l.slice();return s[49]=e[t],s}function wt(l,e,t){const s=l.slice();return s[53]=e[t],s}function vt(l,e,t){const s=l.slice();return s[57]=e[t],s}function kt(l,e,t){const s=l.slice();return s[53]=e[t],s}function $t(l,e,t){const s=l.slice();return s[62]=e[t],s[63]=e,s[64]=t,s}function Et(l,e,t){const s=l.slice();return s[65]=e[t],s}function yt(l,e,t){const s=l.slice();return s[68]=e[t],s[64]=t,s}function Ct(l){let e,t,s,r,n=l[8],i=[];for(let o=0;o<n.length;o+=1)i[o]=It($t(l,n,o));return{c(){e=R("p"),t=L(`Selection of versions only has an effect starting from version v2.17. Before the latest
				version is used.`),s=Y();for(let o=0;o<i.length;o+=1)i[o].c();r=O(),this.h()},l(o){e=F(o,"P",{class:!0});var a=T(e);t=z(a,`Selection of versions only has an effect starting from version v2.17. Before the latest
				version is used.`),a.forEach(d),s=J(o);for(let c=0;c<i.length;c+=1)i[c].l(o);r=O(),this.h()},h(){G(e,"class","pt-8 pb-8")},m(o,a){$(o,e,a),k(e,t),$(o,s,a);for(let c=0;c<i.length;c+=1)i[c].m(o,a);$(o,r,a)},p(o,a){if(a[0]&1966466){n=o[8];let c;for(c=0;c<n.length;c+=1){const f=$t(o,n,c);i[c]?i[c].p(f,a):(i[c]=It(f),i[c].c(),i[c].m(r.parentNode,r))}for(;c<i.length;c+=1)i[c].d(1);i.length=n.length}},d(o){o&&d(e),o&&d(s),De(i,o),o&&d(r)}}}function At(l){let e,t=l[68].Id+"",s;return{c(){e=R("option"),s=L(t),this.h()},l(r){e=F(r,"OPTION",{class:!0});var n=T(e);s=z(n,t),n.forEach(d),this.h()},h(){G(e,"class","bg-surface-500"),e.__value=l[64],e.value=e.__value},m(r,n){$(r,e,n),k(e,s)},p(r,n){n[0]&2&&t!==(t=r[68].Id+"")&&ge(s,t)},d(r){r&&d(e)}}}function Rt(l){let e,t=l[19]()+"",s,r,n,i=l[1][l[8][l[64]]].Versions,o=[];for(let c=0;c<i.length;c+=1)o[c]=Ft(Et(l,i,c));function a(){l[24].call(e,l[64])}return{c(){e=R("select");for(let c=0;c<o.length;c+=1)o[c].c();s=L(t),this.h()},l(c){e=F(c,"SELECT",{class:!0,id:!0});var f=T(e);for(let u=0;u<o.length;u+=1)o[u].l(f);s=z(f,t),f.forEach(d),this.h()},h(){G(e,"class","select variant-form-material"),G(e,"id","version_select_"+{i:l[64]}),l[7][l[64]]===void 0&&Kt(a)},m(c,f){$(c,e,f);for(let u=0;u<o.length;u+=1)o[u].m(e,null);k(e,s),Ke(e,l[7][l[64]]),r||(n=ke(e,"change",a),r=!0)},p(c,f){if(l=c,f[0]&1048834){i=l[1][l[8][l[64]]].Versions;let u;for(u=0;u<i.length;u+=1){const g=Et(l,i,u);o[u]?o[u].p(g,f):(o[u]=Ft(g),o[u].c(),o[u].m(e,s))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}f[0]&386&&Ke(e,l[7][l[64]])},d(c){c&&d(e),De(o,c),r=!1,n()}}}function Ft(l){let e,t=l[20]()+"",s,r,n=l[65].Id+"",i,o,a;return{c(){e=R("option"),s=L(t),r=L(" ("),i=L(n),o=L(")"),this.h()},l(c){e=F(c,"OPTION",{class:!0});var f=T(e);s=z(f,t),r=z(f," ("),i=z(f,n),o=z(f,")"),f.forEach(d),this.h()},h(){G(e,"class","bg-surface-500"),e.__value=a=l[65].Id,e.value=e.__value},m(c,f){$(c,e,f),k(e,s),k(e,r),k(e,i),k(e,o)},p(c,f){f[0]&258&&n!==(n=c[65].Id+"")&&ge(i,n),f[0]&258&&a!==(a=c[65].Id)&&(e.__value=a,e.value=e.__value)},d(c){c&&d(e)}}}function It(l){let e,t,s,r=l[64]+1+"",n,i,o,a,c,f,u,g,P,U,Q,M,X,N=l[1],h=[];for(let v=0;v<N.length;v+=1)h[v]=At(yt(l,N,v));function _(){l[22].call(c,l[64])}function B(){return l[23](l[64])}let V=l[7].length>=l[64]&&Rt(l);function S(){return l[25](l[64])}return{c(){e=R("label"),t=R("span"),s=L("Dataset "),n=L(r),i=L(":"),o=Y(),a=R("div"),c=R("select");for(let v=0;v<h.length;v+=1)h[v].c();f=Y(),V&&V.c(),u=Y(),g=R("button"),P=L("Remove"),U=Y(),Q=R("br"),this.h()},l(v){e=F(v,"LABEL",{class:!0,for:!0});var C=T(e);t=F(C,"SPAN",{});var w=T(t);s=z(w,"Dataset "),n=z(w,r),i=z(w,":"),w.forEach(d),o=J(C),a=F(C,"DIV",{class:!0});var E=T(a);c=F(E,"SELECT",{class:!0,id:!0});var K=T(c);for(let I=0;I<h.length;I+=1)h[I].l(K);K.forEach(d),f=J(E),V&&V.l(E),u=J(E),g=F(E,"BUTTON",{class:!0});var ne=T(g);P=z(ne,"Remove"),ne.forEach(d),E.forEach(d),C.forEach(d),U=J(v),Q=F(v,"BR",{}),this.h()},h(){G(c,"class","select variant-form-material"),G(c,"id","ds_select_"+{i:l[64]}),l[8][l[64]]===void 0&&Kt(_),G(g,"class","variant-filled-secondary"),G(a,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] "),G(e,"class","input-label w-80"),G(e,"for","ds_select_"+{i:l[64]})},m(v,C){$(v,e,C),k(e,t),k(t,s),k(t,n),k(t,i),k(e,o),k(e,a),k(a,c);for(let w=0;w<h.length;w+=1)h[w].m(c,null);Ke(c,l[8][l[64]]),k(a,f),V&&V.m(a,null),k(a,u),k(a,g),k(g,P),$(v,U,C),$(v,Q,C),M||(X=[ke(c,"change",_),ke(c,"change",B),ke(g,"click",S)],M=!0)},p(v,C){if(l=v,C[0]&2){N=l[1];let w;for(w=0;w<N.length;w+=1){const E=yt(l,N,w);h[w]?h[w].p(E,C):(h[w]=At(E),h[w].c(),h[w].m(c,null))}for(;w<h.length;w+=1)h[w].d(1);h.length=N.length}C[0]&256&&Ke(c,l[8][l[64]]),l[7].length>=l[64]?V?V.p(l,C):(V=Rt(l),V.c(),V.m(a,u)):V&&(V.d(1),V=null)},d(v){v&&d(e),De(h,v),V&&V.d(),v&&d(U),v&&d(Q),M=!1,Pt(X)}}}function jt(l){let e,t,s,r,n;return{c(){e=R("div"),t=R("button"),s=L("Calculate Diff"),this.h()},l(i){e=F(i,"DIV",{class:!0});var o=T(e);t=F(o,"BUTTON",{class:!0});var a=T(t);s=z(a,"Calculate Diff"),a.forEach(d),o.forEach(d),this.h()},h(){G(t,"class","btn bg-primary-500 rounded-md"),t.disabled=l[0],G(e,"class","grid justify-items-end pr-8")},m(i,o){$(i,e,o),k(e,t),k(t,s),r||(n=ke(t,"click",l[15]),r=!0)},p(i,o){o[0]&1&&(t.disabled=i[0])},d(i){i&&d(e),r=!1,n()}}}function Dt(l){let e,t,s,r,n,i,o;return i=new hs({props:{$$slots:{default:[fr]},$$scope:{ctx:l}}}),{c(){e=R("div"),t=R("div"),s=R("p"),r=L("Loading"),n=Y(),Z(i.$$.fragment),this.h()},l(a){e=F(a,"DIV",{class:!0});var c=T(e);t=F(c,"DIV",{class:!0});var f=T(t);s=F(f,"P",{});var u=T(s);r=z(u,"Loading"),u.forEach(d),n=J(f),le(i.$$.fragment,f),f.forEach(d),c.forEach(d),this.h()},h(){G(t,"class","w-full max-w-[120px] mx-auto space-y-4"),G(e,"class","card variant-glass p-4 grid grid-cols-2 gap-4 text-center")},m(a,c){$(a,e,c),k(e,t),k(t,s),k(s,r),k(t,n),x(i,t,null),o=!0},p(a,c){const f={};c[0]&512|c[2]&256&&(f.$$scope={dirty:c,ctx:a}),i.$set(f)},i(a){o||(A(i.$$.fragment,a),o=!0)},o(a){j(i.$$.fragment,a),o=!1},d(a){a&&d(e),ee(i)}}}function fr(l){let e=l[9].value+"",t,s;return{c(){t=L(e),s=L("%")},l(r){t=z(r,e),s=z(r,"%")},m(r,n){$(r,t,n),$(r,s,n)},p(r,n){n[0]&512&&e!==(e=r[9].value+"")&&ge(t,e)},d(r){r&&d(t),r&&d(s)}}}function Tt(l){let e,t,s,r=[],n=new Map,i,o,a=[],c=new Map,f,u=l[11];const g=h=>h[57].id;for(let h=0;h<u.length;h+=1){let _=vt(l,u,h),B=g(_);n.set(B,r[h]=St(B,_))}let P=l[13];const U=h=>h[49].id;for(let h=0;h<P.length;h+=1){let _=mt(l,P,h),B=U(_);c.set(B,a[h]=Ot(B,_))}let Q=[l[12]],M={};for(let h=0;h<Q.length;h+=1)M=de(M,Q[h]);let X=[{class:"table table-hover"},l[10]],N={};for(let h=0;h<X.length;h+=1)N=de(N,X[h]);return{c(){e=R("div"),t=R("table"),s=R("thead");for(let h=0;h<r.length;h+=1)r[h].c();i=Y(),o=R("tbody");for(let h=0;h<a.length;h+=1)a[h].c();this.h()},l(h){e=F(h,"DIV",{class:!0});var _=T(e);t=F(_,"TABLE",{class:!0});var B=T(t);s=F(B,"THEAD",{});var V=T(s);for(let v=0;v<r.length;v+=1)r[v].l(V);V.forEach(d),i=J(B),o=F(B,"TBODY",{});var S=T(o);for(let v=0;v<a.length;v+=1)a[v].l(S);S.forEach(d),B.forEach(d),_.forEach(d),this.h()},h(){ie(o,M),ie(t,N),G(e,"class","table-container")},m(h,_){$(h,e,_),k(e,t),k(t,s);for(let B=0;B<r.length;B+=1)r[B].m(s,null);k(t,i),k(t,o);for(let B=0;B<a.length;B+=1)a[B].m(o,null);f=!0},p(h,_){_[0]&2048|_[1]&35651584&&(u=h[11],ae(),r=Le(r,_,g,1,h,u,n,s,ze,St,null,vt),ce()),_[0]&8192|_[1]&35651584&&(P=h[13],ae(),a=Le(a,_,U,1,h,P,c,o,ze,Ot,null,mt),ce()),ie(o,M=be(Q,[_[0]&4096&&h[12]])),ie(t,N=be(X,[{class:"table table-hover"},_[0]&1024&&h[10]]))},i(h){if(!f){for(let _=0;_<u.length;_+=1)A(r[_]);for(let _=0;_<P.length;_+=1)A(a[_]);f=!0}},o(h){for(let _=0;_<r.length;_+=1)j(r[_]);for(let _=0;_<a.length;_+=1)j(a[_]);f=!1},d(h){h&&d(e);for(let _=0;_<r.length;_+=1)r[_].d();for(let _=0;_<a.length;_+=1)a[_].d()}}}function ur(l){let e,t,s,r;t=new Ze({props:{of:l[53].render()}});let n=[l[56]],i={};for(let o=0;o<n.length;o+=1)i=de(i,n[o]);return{c(){e=R("th"),Z(t.$$.fragment),s=Y(),this.h()},l(o){e=F(o,"TH",{});var a=T(e);le(t.$$.fragment,a),a.forEach(d),s=J(o),this.h()},h(){ie(e,i)},m(o,a){$(o,e,a),x(t,e,null),$(o,s,a),r=!0},p(o,a){const c={};a[0]&2048&&(c.of=o[53].render()),t.$set(c),ie(e,i=be(n,[a[1]&33554432&&o[56]]))},i(o){r||(A(t.$$.fragment,o),r=!0)},o(o){j(t.$$.fragment,o),r=!1},d(o){o&&d(e),ee(t),o&&d(s)}}}function Bt(l,e){let t,s,r;return s=new Te({props:{attrs:e[53].attrs(),$$slots:{default:[ur,({attrs:n})=>({56:n}),({attrs:n})=>[0,n?33554432:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=O(),Z(s.$$.fragment),this.h()},l(n){t=O(),le(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){$(n,t,i),x(s,n,i),r=!0},p(n,i){e=n;const o={};i[0]&2048&&(o.attrs=e[53].attrs()),i[0]&2048|i[1]&33554432|i[2]&256&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(n){r||(A(s.$$.fragment,n),r=!0)},o(n){j(s.$$.fragment,n),r=!1},d(n){n&&d(t),ee(s,n)}}}function dr(l){let e,t=[],s=new Map,r,n,i=l[57].cells;const o=f=>f[53].id;for(let f=0;f<i.length;f+=1){let u=kt(l,i,f),g=o(u);s.set(g,t[f]=Bt(g,u))}let a=[l[52]],c={};for(let f=0;f<a.length;f+=1)c=de(c,a[f]);return{c(){e=R("tr");for(let f=0;f<t.length;f+=1)t[f].c();r=Y(),this.h()},l(f){e=F(f,"TR",{});var u=T(e);for(let g=0;g<t.length;g+=1)t[g].l(u);u.forEach(d),r=J(f),this.h()},h(){ie(e,c)},m(f,u){$(f,e,u);for(let g=0;g<t.length;g+=1)t[g].m(e,null);$(f,r,u),n=!0},p(f,u){u[0]&2048|u[1]&33554432&&(i=f[57].cells,ae(),t=Le(t,u,o,1,f,i,s,e,ze,Bt,null,kt),ce()),ie(e,c=be(a,[u[1]&2097152&&f[52]]))},i(f){if(!n){for(let u=0;u<i.length;u+=1)A(t[u]);n=!0}},o(f){for(let u=0;u<t.length;u+=1)j(t[u]);n=!1},d(f){f&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&d(r)}}}function St(l,e){let t,s,r;return s=new Te({props:{rowAttrs:e[57].attrs(),$$slots:{default:[dr,({rowAttrs:n})=>({52:n}),({rowAttrs:n})=>[0,n?2097152:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=O(),Z(s.$$.fragment),this.h()},l(n){t=O(),le(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){$(n,t,i),x(s,n,i),r=!0},p(n,i){e=n;const o={};i[0]&2048&&(o.rowAttrs=e[57].attrs()),i[0]&2048|i[1]&2097152|i[2]&256&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(n){r||(A(s.$$.fragment,n),r=!0)},o(n){j(s.$$.fragment,n),r=!1},d(n){n&&d(t),ee(s,n)}}}function hr(l){let e,t,s,r;t=new Ze({props:{of:l[53].render()}});let n=[{class:"table-cell-fit align-top"},l[56]],i={};for(let o=0;o<n.length;o+=1)i=de(i,n[o]);return{c(){e=R("td"),Z(t.$$.fragment),s=Y(),this.h()},l(o){e=F(o,"TD",{class:!0});var a=T(e);le(t.$$.fragment,a),a.forEach(d),s=J(o),this.h()},h(){ie(e,i)},m(o,a){$(o,e,a),x(t,e,null),$(o,s,a),r=!0},p(o,a){const c={};a[0]&8192&&(c.of=o[53].render()),t.$set(c),ie(e,i=be(n,[{class:"table-cell-fit align-top"},a[1]&33554432&&o[56]]))},i(o){r||(A(t.$$.fragment,o),r=!0)},o(o){j(t.$$.fragment,o),r=!1},d(o){o&&d(e),ee(t),o&&d(s)}}}function Ht(l,e){let t,s,r;return s=new Te({props:{attrs:e[53].attrs(),$$slots:{default:[hr,({attrs:n})=>({56:n}),({attrs:n})=>[0,n?33554432:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=O(),Z(s.$$.fragment),this.h()},l(n){t=O(),le(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){$(n,t,i),x(s,n,i),r=!0},p(n,i){e=n;const o={};i[0]&8192&&(o.attrs=e[53].attrs()),i[0]&8192|i[1]&33554432|i[2]&256&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(n){r||(A(s.$$.fragment,n),r=!0)},o(n){j(s.$$.fragment,n),r=!1},d(n){n&&d(t),ee(s,n)}}}function _r(l){let e,t=[],s=new Map,r,n,i=l[49].cells;const o=f=>f[53].id;for(let f=0;f<i.length;f+=1){let u=wt(l,i,f),g=o(u);s.set(g,t[f]=Ht(g,u))}let a=[l[52]],c={};for(let f=0;f<a.length;f+=1)c=de(c,a[f]);return{c(){e=R("tr");for(let f=0;f<t.length;f+=1)t[f].c();r=Y(),this.h()},l(f){e=F(f,"TR",{});var u=T(e);for(let g=0;g<t.length;g+=1)t[g].l(u);u.forEach(d),r=J(f),this.h()},h(){ie(e,c)},m(f,u){$(f,e,u);for(let g=0;g<t.length;g+=1)t[g].m(e,null);$(f,r,u),n=!0},p(f,u){u[0]&8192|u[1]&33554432&&(i=f[49].cells,ae(),t=Le(t,u,o,1,f,i,s,e,ze,Ht,null,wt),ce()),ie(e,c=be(a,[u[1]&2097152&&f[52]]))},i(f){if(!n){for(let u=0;u<i.length;u+=1)A(t[u]);n=!0}},o(f){for(let u=0;u<t.length;u+=1)j(t[u]);n=!1},d(f){f&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&d(r)}}}function Ot(l,e){let t,s,r;return s=new Te({props:{rowAttrs:e[49].attrs(),$$slots:{default:[_r,({rowAttrs:n})=>({52:n}),({rowAttrs:n})=>[0,n?2097152:0]]},$$scope:{ctx:e}}}),{key:l,first:null,c(){t=O(),Z(s.$$.fragment),this.h()},l(n){t=O(),le(s.$$.fragment,n),this.h()},h(){this.first=t},m(n,i){$(n,t,i),x(s,n,i),r=!0},p(n,i){e=n;const o={};i[0]&8192&&(o.rowAttrs=e[49].attrs()),i[0]&8192|i[1]&2097152|i[2]&256&&(o.$$scope={dirty:i,ctx:e}),s.$set(o)},i(n){r||(A(s.$$.fragment,n),r=!0)},o(n){j(s.$$.fragment,n),r=!1},d(n){n&&d(t),ee(s,n)}}}function pr(l){let e,t,s,r,n,i,o,a,c,f,u,g,P,U,Q,M,X,N,h,_,B,V,S=l[1]&&Ct(l),v=l[8].length>=2&&jt(l),C=l[0]==!0&&Dt(l),w=l[2].length>1&&Tt(l);return{c(){e=R("main"),t=R("h2"),s=L("Compare Datasets & Versions"),r=Y(),n=R("div"),i=R("div"),o=R("div"),a=R("button"),c=L("Refresh Cache"),f=Y(),u=R("button"),g=L("Add Datasets"),P=Y(),S&&S.c(),U=Y(),v&&v.c(),Q=Y(),C&&C.c(),M=Y(),w&&w.c(),X=Y(),N=R("style"),h=L(`table {
			border-spacing: 0;
			border-top: 1px solid black;
			border-left: 1px solid black;
		}
		th,
		td {
			border-bottom: 1px solid black;
			border-right: 1px solid black;
			padding: 0.5rem;
		}
		.table tbody td {
			white-space: break-spaces;
		}`),this.h()},l(E){e=F(E,"MAIN",{class:!0});var K=T(e);t=F(K,"H2",{class:!0});var ne=T(t);s=z(ne,"Compare Datasets & Versions"),ne.forEach(d),r=J(K),n=F(K,"DIV",{class:!0});var I=T(n);i=F(I,"DIV",{class:!0});var $e=T(i);o=F($e,"DIV",{});var he=T(o);a=F(he,"BUTTON",{class:!0,title:!0});var _e=T(a);c=z(_e,"Refresh Cache"),_e.forEach(d),f=J(he),u=F(he,"BUTTON",{class:!0,title:!0});var me=T(u);g=z(me,"Add Datasets"),me.forEach(d),he.forEach(d),$e.forEach(d),P=J(I),S&&S.l(I),U=J(I),v&&v.l(I),Q=J(I),C&&C.l(I),M=J(I),w&&w.l(I),I.forEach(d),X=J(K),N=F(K,"STYLE",{});var Ee=T(N);h=z(Ee,`table {
			border-spacing: 0;
			border-top: 1px solid black;
			border-left: 1px solid black;
		}
		th,
		td {
			border-bottom: 1px solid black;
			border-right: 1px solid black;
			padding: 0.5rem;
		}
		.table tbody td {
			white-space: break-spaces;
		}`),Ee.forEach(d),K.forEach(d),this.h()},h(){G(t,"class","pt-4 pb-4 text-secondary-700 dark:text-white"),G(a,"class","btn bg-primary-500 rounded-md "),a.disabled=l[0],G(a,"title","Dataset Ids and Versions are cached for performance reasons. Refresh if Ids are missing"),G(u,"class","btn bg-primary-500 rounded-md "),u.disabled=l[0],G(u,"title","Add Datasets to compare. 1st dataset is the reference for comparison."),G(i,"class","grid justify-items-end pr-8"),G(n,"class","width-max"),G(e,"class","p-4")},m(E,K){$(E,e,K),k(e,t),k(t,s),k(e,r),k(e,n),k(n,i),k(i,o),k(o,a),k(a,c),k(o,f),k(o,u),k(u,g),k(n,P),S&&S.m(n,null),k(n,U),v&&v.m(n,null),k(n,Q),C&&C.m(n,null),k(n,M),w&&w.m(n,null),k(e,X),k(e,N),k(N,h),_=!0,B||(V=[ke(a,"click",l[14]),ke(u,"click",l[16])],B=!0)},p(E,K){(!_||K[0]&1)&&(a.disabled=E[0]),(!_||K[0]&1)&&(u.disabled=E[0]),E[1]?S?S.p(E,K):(S=Ct(E),S.c(),S.m(n,U)):S&&(S.d(1),S=null),E[8].length>=2?v?v.p(E,K):(v=jt(E),v.c(),v.m(n,Q)):v&&(v.d(1),v=null),E[0]==!0?C?(C.p(E,K),K[0]&1&&A(C,1)):(C=Dt(E),C.c(),A(C,1),C.m(n,M)):C&&(ae(),j(C,1,1,()=>{C=null}),ce()),E[2].length>1?w?(w.p(E,K),K[0]&4&&A(w,1)):(w=Tt(E),w.c(),A(w,1),w.m(n,null)):w&&(ae(),j(w,1,1,()=>{w=null}),ce())},i(E){_||(A(C),A(w),_=!0)},o(E){j(C),j(w),_=!1},d(E){E&&d(e),S&&S.d(),v&&v.d(),C&&C.d(),w&&w.d(),B=!1,Pt(V)}}}function br(l,e,t){let s,r,n,i,o,a,c,f,u,g,P,U=ue,Q=()=>(U(),U=Oe(o,p=>t(10,P=p)),o),M,X=ue,N=()=>(X(),X=Oe(i,p=>t(11,M=p)),i),h,_=ue,B=()=>(_(),_=Oe(c,p=>t(12,h=p)),c),V,S=ue,v=()=>(S(),S=Oe(a,p=>t(13,V=p)),a);je(l,Qe,p=>t(29,f=p)),je(l,it,p=>t(30,u=p)),je(l,at,p=>t(31,g=p)),l.$$.on_destroy.push(()=>U()),l.$$.on_destroy.push(()=>X()),l.$$.on_destroy.push(()=>_()),l.$$.on_destroy.push(()=>S());let C={Accept:"application/json",Authorization:"Bearer "+g,"Content-Type":"application/json"},w=!1,E;Me.subscribe(p=>{t(1,E=p)}),Nt(async()=>{if(Me.useLocalStorage(),it.useLocalStorage(),at.useLocalStorage(),Qe.useLocalStorage(),E.length==0){t(0,w=!0);const W=await ct(ne);Me.set(W),t(0,w=!1)}const p=await _s(C,u.toString());Qe.set(p)});let K=u+"/api/Metadata/",ne=u+"/api/Dataset",I=[];async function $e(){t(0,w=!0);const p=await ct(ne);Me.set(p),t(0,w=!1)}async function he(p,W){console.log("Fetching metadata for dataset_id: ",p,W);let q="";return f=="2.16"&&(q=K+"/"+p),f=="2.17"&&(q=K+"/"+p+"/"+W),await(await fetch(q,{method:"GET",headers:C})).json()}function _e(p){t(2,I=[]);let W=p.length;for(var q=0;q<W;q++){let Fe={section:p[q][0]};for(var oe=1;oe<p[q].length;oe++){let we={};if(we.diff={},we.orig=p[q][oe],oe>0){let ls=ds(p[q][oe],p[q][1]);we.diff=ls,console.log(we)}Fe["col"+oe]=we}I.push(Fe)}t(0,w=!1),Ne.set(I),te(I)}async function me(){t(0,w=!0);let p=[];console.log("Fetching metadata...");for(var W=0;W<r.length;W++){let oe=E[r[W]].Id,Fe=n[W],we=await he(oe,Fe);p.push(we)}let q=ar(p);console.log(q),_e(q)}function Ee(){n.push(E[1].Versions[0].Id),t(7,n)}function Re(){r.push(1),t(8,r),Ee()}function Be(p){console.log(r[p]),console.log(E[r[p]].Versions[0].Id),t(7,n[p]=E[r[p]].Versions[0].Id,n),t(7,n)}function Se(p){console.log("Deleting dataset: ",p),r.splice(p,1),t(8,r),n.splice(p,1),t(7,n),m(p+1)}function m(p){console.log(I);for(var W=0;W<20&&!("col"+p in I[0]);W++)p+=1;for(var q in I)console.log("Deleting: ",I[q],"col"+p),delete I[q]["col"+p];console.log("Deleting: ",I),t(2,I),Ne.set(I),te(I)}let y=gt(Ne),D=y.createColumns([y.column({header:"Field name",accessor:"section"})]),H=y.createViewModel(D);function te(p){y=gt(Ne),D=[],D=y.createColumns([y.column({header:"Field Name",accessor:"section"})]);let W=1;for(var q in p[0])q!=="section"&&(D.push(y.column({header:"Dataset "+W,accessor:q,cell:({value:oe})=>Ks(ws,{diff:oe.diff,diff_orig:oe.orig})})),W=W+1);t(21,H=y.createViewModel(D)),N(t(6,i=H.headerRows)),Q(t(5,o=H.tableAttrs)),v(t(4,a=H.rows)),B(t(3,c=H.tableBodyAttrs))}let se=0;const fe=()=>(se=0,""),He=()=>(se++,se);function es(p){r[p]=ot(this),t(8,r)}const ts=p=>Be(p);function ss(p){n[p]=ot(this),t(7,n),t(1,E),t(8,r)}const rs=p=>Se(p);return l.$$.update=()=>{l.$$.dirty[0]&2097152&&N(t(6,i=H.headerRows)),l.$$.dirty[0]&2097152&&Q(t(5,o=H.tableAttrs)),l.$$.dirty[0]&2097152&&v(t(4,a=H.rows)),l.$$.dirty[0]&2097152&&B(t(3,c=H.tableBodyAttrs))},t(9,s={value:50,max:100,step:10}),t(8,r=[]),t(7,n=[]),[w,E,I,c,a,o,i,n,r,s,P,M,h,V,$e,me,Re,Be,Se,fe,He,H,es,ts,ss,rs]}class Cr extends ye{constructor(e){super(),Ce(this,e,br,pr,Ae,{},null,[-1,-1,-1])}}export{Cr as default};
