var ms=Object.defineProperty;var vs=(r,e,t)=>e in r?ms(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var m=(r,e,t)=>(vs(r,typeof e!="symbol"?e+"":e,t),t);import{S as Ee,i as ye,s as $e,k as B,a2 as Pe,l as S,m as D,a3 as ze,h as d,n as p,p as Me,a7 as ft,b as C,H as y,f as I,g as ne,t as T,d as oe,L as ks,j as ws,M as fe,N as et,G as qt,I as Yt,J as Jt,K as Qt,e as z,C as de,q as U,r as q,u as ge,a as Q,c as W,a4 as Te,Q as ut,a0 as De,v as Le,w as Ue,x as Z,y as re,z as x,W as be,a8 as Wt,A as ee,o as Xt,a9 as Zt,aa as xt,P as we,E as es,ab as ts,ac as qe,V as ce,ad as Ye,D as Ne,ae as dt,af as Je}from"../../../chunks/index-9002fc2e.js";import{d as Es}from"../../../chunks/index.es6-e3d92ab8.js";import{d as Ve,a as ht,t as _t,b as xe,c as Ge}from"../../../chunks/store-c8ee3a9e.js";import"../../../chunks/ProgressBar.svelte_svelte_type_style_lang-50f5df9c.js";import{d as le,r as Ie,w as ke}from"../../../chunks/index-70a04200.js";function pt(r){let e,t,s;const n=r[12].default,l=qt(n,r,r[11],null);return{c(){e=Pe("text"),l&&l.c(),this.h()},l(a){e=ze(a,"text",{x:!0,y:!0,"text-anchor":!0,"dominant-baseline":!0,"font-weight":!0,"font-size":!0,class:!0});var o=D(e);l&&l.l(o),o.forEach(d),this.h()},h(){p(e,"x","50%"),p(e,"y","50%"),p(e,"text-anchor","middle"),p(e,"dominant-baseline","middle"),p(e,"font-weight","bold"),p(e,"font-size",r[2]),p(e,"class",t="progress-radial-text "+r[5])},m(a,o){C(a,e,o),l&&l.m(e,null),s=!0},p(a,o){l&&l.p&&(!s||o&2048)&&Yt(l,n,a,a[11],s?Qt(n,a[11],o,null):Jt(a[11]),null),(!s||o&4)&&p(e,"font-size",a[2]),(!s||o&32&&t!==(t="progress-radial-text "+a[5]))&&p(e,"class",t)},i(a){s||(I(l,a),s=!0)},o(a){T(l,a),s=!1},d(a){a&&d(e),l&&l.d(a)}}}function ys(r){let e,t,s,n,l,a,o=`${r[7]}
			${r[7]}`,i,c,f,u,h=r[0]!=null&&r[0]>=0&&r[10].default&&pt(r);return{c(){e=B("figure"),t=Pe("svg"),s=Pe("circle"),l=Pe("circle"),h&&h.c(),this.h()},l(k){e=S(k,"FIGURE",{class:!0,"data-testid":!0,role:!0,"aria-labelledby":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-valuemin":!0,"aria-valuemax":!0});var R=D(e);t=ze(R,"svg",{viewBox:!0,class:!0});var G=D(t);s=ze(G,"circle",{class:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0}),D(s).forEach(d),l=ze(G,"circle",{class:!0,"stroke-width":!0,r:!0,cx:!0,cy:!0}),D(l).forEach(d),h&&h.l(G),G.forEach(d),R.forEach(d),this.h()},h(){p(s,"class",n="progress-radial-track "+bt+" "+r[4]),p(s,"stroke-width",r[1]),p(s,"r",je/2),p(s,"cx","50%"),p(s,"cy","50%"),p(l,"class",a="progress-radial-meter "+gt+" "+r[3]),p(l,"stroke-width",r[1]),p(l,"r",je/2),p(l,"cx","50%"),p(l,"cy","50%"),Me(l,"stroke-dasharray",o),Me(l,"stroke-dashoffset",r[8]),p(t,"viewBox","0 0 "+je+" "+je),p(t,"class","rounded-full"),ft(t,"animate-spin",r[0]===void 0),p(e,"class",i="progress-radial "+r[9]),p(e,"data-testid","progress-radial"),p(e,"role","meter"),p(e,"aria-labelledby",r[6]),p(e,"aria-valuenow",c=r[0]||0),p(e,"aria-valuetext",f=r[0]?`${r[0]}%`:"Indeterminate Spinner"),p(e,"aria-valuemin",0),p(e,"aria-valuemax",100)},m(k,R){C(k,e,R),y(e,t),y(t,s),y(t,l),h&&h.m(t,null),u=!0},p(k,[R]){(!u||R&16&&n!==(n="progress-radial-track "+bt+" "+k[4]))&&p(s,"class",n),(!u||R&2)&&p(s,"stroke-width",k[1]),(!u||R&8&&a!==(a="progress-radial-meter "+gt+" "+k[3]))&&p(l,"class",a),(!u||R&2)&&p(l,"stroke-width",k[1]),R&128&&o!==(o=`${k[7]}
			${k[7]}`)&&Me(l,"stroke-dasharray",o),R&256&&Me(l,"stroke-dashoffset",k[8]),k[0]!=null&&k[0]>=0&&k[10].default?h?(h.p(k,R),R&1025&&I(h,1)):(h=pt(k),h.c(),I(h,1),h.m(t,null)):h&&(ne(),T(h,1,1,()=>{h=null}),oe()),(!u||R&1)&&ft(t,"animate-spin",k[0]===void 0),(!u||R&512&&i!==(i="progress-radial "+k[9]))&&p(e,"class",i),(!u||R&64)&&p(e,"aria-labelledby",k[6]),(!u||R&1&&c!==(c=k[0]||0))&&p(e,"aria-valuenow",c),(!u||R&1&&f!==(f=k[0]?`${k[0]}%`:"Indeterminate Spinner"))&&p(e,"aria-valuetext",f)},i(k){u||(I(h),u=!0)},o(k){T(h),u=!1},d(k){k&&d(e),h&&h.d()}}}const $s="progress-radial relative overflow-hidden",bt="fill-transparent",gt="fill-transparent transition-[stroke-dashoffset] duration-200 -rotate-90 origin-[50%_50%]",je=512;function Cs(r,e,t){let s,{$$slots:n={},$$scope:l}=e;const a=ks(n);let{value:o=void 0}=e,{stroke:i=20}=e,{font:c=56}=e,{meter:f="stroke-surface-900 dark:stroke-surface-50"}=e,{track:u="stroke-surface-500/30"}=e,{fill:h="fill-token"}=e,{labelledby:k=""}=e;const R=je/2;let G=R,M;function Y($){t(7,G=R*2*Math.PI),t(8,M=G-$/100*G)}return Y(0),ws(()=>{Y(o===void 0?25:o)}),r.$$set=$=>{t(15,e=fe(fe({},e),et($))),"value"in $&&t(0,o=$.value),"stroke"in $&&t(1,i=$.stroke),"font"in $&&t(2,c=$.font),"meter"in $&&t(3,f=$.meter),"track"in $&&t(4,u=$.track),"fill"in $&&t(5,h=$.fill),"labelledby"in $&&t(6,k=$.labelledby),"$$scope"in $&&t(11,l=$.$$scope)},r.$$.update=()=>{t(9,s=`${$s} ${e.class??""}`)},e=et(e),[o,i,c,f,u,h,k,G,M,s,a,l,n]}class As extends Ee{constructor(e){super(),ye(this,e,Cs,ys,$e,{value:0,stroke:1,font:2,meter:3,track:4,fill:5,labelledby:6})}}function mt(r,e,t){const s=r.slice();return s[2]=e[t],s}function Rs(r){let e;return{c(){e=U(r[0])},l(t){e=q(t,r[0])},m(t,s){C(t,e,s)},p(t,s){s&1&&ge(e,t[0])},d(t){t&&d(e)}}}function Fs(r){let e,t,s,n,l,a,o=r[1],i=[];for(let c=0;c<o.length;c+=1)i[c]=kt(mt(r,o,c));return{c(){e=U(r[0]),t=Q(),s=B("br"),n=B("br"),l=Q();for(let c=0;c<i.length;c+=1)i[c].c();a=z()},l(c){e=q(c,r[0]),t=W(c),s=S(c,"BR",{}),n=S(c,"BR",{}),l=W(c);for(let f=0;f<i.length;f+=1)i[f].l(c);a=z()},m(c,f){C(c,e,f),C(c,t,f),C(c,s,f),C(c,n,f),C(c,l,f);for(let u=0;u<i.length;u+=1)i[u].m(c,f);C(c,a,f)},p(c,f){if(f&1&&ge(e,c[0]),f&2){o=c[1];let u;for(u=0;u<o.length;u+=1){const h=mt(c,o,u);i[u]?i[u].p(h,f):(i[u]=kt(h),i[u].c(),i[u].m(a.parentNode,a))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}},d(c){c&&d(e),c&&d(t),c&&d(s),c&&d(n),c&&d(l),Te(i,c),c&&d(a)}}}function vt(r){let e,t=r[2].value+"",s,n;return{c(){e=B("span"),s=U(t),this.h()},l(l){e=S(l,"SPAN",{class:!0});var a=D(e);s=q(a,t),a.forEach(d),this.h()},h(){p(e,"class",n=r[2].added?"bg-green-100 dark:bg-surface-900 text-green-400":r[2].removed?"bg-red-100 dark:bg-surface-900 text-red-400":"")},m(l,a){C(l,e,a),y(e,s)},p(l,a){a&2&&t!==(t=l[2].value+"")&&ge(s,t),a&2&&n!==(n=l[2].added?"bg-green-100 dark:bg-surface-900 text-green-400":l[2].removed?"bg-red-100 dark:bg-surface-900 text-red-400":"")&&p(e,"class",n)},d(l){l&&d(e)}}}function kt(r){let e,t=(r[2].added||r[2].removed)&&vt(r);return{c(){t&&t.c(),e=z()},l(s){t&&t.l(s),e=z()},m(s,n){t&&t.m(s,n),C(s,e,n)},p(s,n){s[2].added||s[2].removed?t?t.p(s,n):(t=vt(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&d(e)}}}function Is(r){let e;function t(l,a){return l[1].length>1?Fs:Rs}let s=t(r),n=s(r);return{c(){n.c(),e=z()},l(l){n.l(l),e=z()},m(l,a){n.m(l,a),C(l,e,a)},p(l,[a]){s===(s=t(l))&&n?n.p(l,a):(n.d(1),n=s(l),n&&(n.c(),n.m(e.parentNode,e)))},i:de,o:de,d(l){n.d(l),l&&d(e)}}}function js(r,e,t){let{diff_orig:s=""}=e,{diff:n=[]}=e;return r.$$set=l=>{"diff_orig"in l&&t(0,s=l.diff_orig),"diff"in l&&t(1,n=l.diff)},[s,n]}class Ds extends Ee{constructor(e){super(),ye(this,e,js,Is,$e,{diff_orig:0,diff:1})}}const ss=r=>{const e=Object.entries(r),t=e.map(([s])=>s);return le(e.map(([,s])=>s),s=>Object.fromEntries(s.map((n,l)=>[t[l],n])))},Ts=r=>r&1,Bs=r=>({}),wt=r=>({...r[0]});function Ss(r){let e;const t=r[3].default,s=qt(t,r,r[2],wt);return{c(){s&&s.c()},l(n){s&&s.l(n)},m(n,l){s&&s.m(n,l),e=!0},p(n,[l]){s&&s.p&&(!e||l&5)&&Yt(s,t,n,n[2],Ts(l)||!e?Jt(n[2]):Qt(t,n[2],l,Bs),wt)},i(n){e||(I(s,n),e=!0)},o(n){T(s,n),e=!1},d(n){s&&s.d(n)}}}function Hs(r,e,t){const s=[];let n=ut(e,s),l,{$$slots:a={},$$scope:o}=e;const i=ss(n);return De(r,i,c=>t(0,l=c)),r.$$set=c=>{e=fe(fe({},e),et(c)),t(4,n=ut(e,s)),"$$scope"in c&&t(2,o=c.$$scope)},[l,i,o,a]}class Be extends Ee{constructor(e){super(),ye(this,e,Hs,Ss,$e,{})}}function Et(r,e,t){const s=r.slice();return s[5]=e[t],s}function Os(r){let e,t,s;const n=[r[2]??{}];var l=r[1].component;function a(o){let i={$$slots:{default:[Ns]},$$scope:{ctx:o}};for(let c=0;c<n.length;c+=1)i=fe(i,n[c]);return{props:i}}return l&&(e=Ue(l,a(r)),r[4](e)),{c(){e&&Z(e.$$.fragment),t=z()},l(o){e&&re(e.$$.fragment,o),t=z()},m(o,i){e&&x(e,o,i),C(o,t,i),s=!0},p(o,i){const c=i&4?be(n,[Wt(o[2]??{})]):{};if(i&258&&(c.$$scope={dirty:i,ctx:o}),l!==(l=o[1].component)){if(e){ne();const f=e;T(f.$$.fragment,1,0,()=>{ee(f,1)}),oe()}l?(e=Ue(l,a(o)),o[4](e),Z(e.$$.fragment),I(e.$$.fragment,1),x(e,t.parentNode,t)):e=null}else l&&e.$set(c)},i(o){s||(e&&I(e.$$.fragment,o),s=!0)},o(o){e&&T(e.$$.fragment,o),s=!1},d(o){r[4](null),o&&d(t),e&&ee(e,o)}}}function Ms(r){let e,t,s;const n=[r[2]??{}];var l=r[1].component;function a(o){let i={};for(let c=0;c<n.length;c+=1)i=fe(i,n[c]);return{props:i}}return l&&(e=Ue(l,a()),r[3](e)),{c(){e&&Z(e.$$.fragment),t=z()},l(o){e&&re(e.$$.fragment,o),t=z()},m(o,i){e&&x(e,o,i),C(o,t,i),s=!0},p(o,i){const c=i&4?be(n,[Wt(o[2]??{})]):{};if(l!==(l=o[1].component)){if(e){ne();const f=e;T(f.$$.fragment,1,0,()=>{ee(f,1)}),oe()}l?(e=Ue(l,a()),o[3](e),Z(e.$$.fragment),I(e.$$.fragment,1),x(e,t.parentNode,t)):e=null}else l&&e.$set(c)},i(o){s||(e&&I(e.$$.fragment,o),s=!0)},o(o){e&&T(e.$$.fragment,o),s=!1},d(o){r[3](null),o&&d(t),e&&ee(e,o)}}}function yt(r){let e,t;return e=new lt({props:{of:r[5]}}),{c(){Z(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,n){x(e,s,n),t=!0},p(s,n){const l={};n&2&&(l.of=s[5]),e.$set(l)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function Ns(r){let e,t,s=r[1].children,n=[];for(let a=0;a<s.length;a+=1)n[a]=yt(Et(r,s,a));const l=a=>T(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=z()},l(a){for(let o=0;o<n.length;o+=1)n[o].l(a);e=z()},m(a,o){for(let i=0;i<n.length;i+=1)n[i].m(a,o);C(a,e,o),t=!0},p(a,o){if(o&2){s=a[1].children;let i;for(i=0;i<s.length;i+=1){const c=Et(a,s,i);n[i]?(n[i].p(c,o),I(n[i],1)):(n[i]=yt(c),n[i].c(),I(n[i],1),n[i].m(e.parentNode,e))}for(ne(),i=s.length;i<n.length;i+=1)l(i);oe()}},i(a){if(!t){for(let o=0;o<s.length;o+=1)I(n[o]);t=!0}},o(a){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)T(n[o]);t=!1},d(a){Te(n,a),a&&d(e)}}}function Vs(r){let e,t,s,n;const l=[Ms,Os],a=[];function o(i,c){return i[1].children.length===0?0:1}return e=o(r),t=a[e]=l[e](r),{c(){t.c(),s=z()},l(i){t.l(i),s=z()},m(i,c){a[e].m(i,c),C(i,s,c),n=!0},p(i,[c]){let f=e;e=o(i),e===f?a[e].p(i,c):(ne(),T(a[f],1,1,()=>{a[f]=null}),oe(),t=a[e],t?t.p(i,c):(t=a[e]=l[e](i),t.c()),I(t,1),t.m(s.parentNode,s))},i(i){n||(I(t),n=!0)},o(i){T(t),n=!1},d(i){a[e].d(i),i&&d(s)}}}function Gs(r,e,t){let{instance:s=void 0}=e,{config:n}=e,{props:l=void 0}=e;function a(i){Le[i?"unshift":"push"](()=>{s=i,t(0,s)})}function o(i){Le[i?"unshift":"push"](()=>{s=i,t(0,s)})}return r.$$set=i=>{"instance"in i&&t(0,s=i.instance),"config"in i&&t(1,n=i.config),"props"in i&&t(2,l=i.props)},[s,n,l,a,o]}class ls extends Ee{constructor(e){super(),ye(this,e,Gs,Vs,$e,{instance:0,config:1,props:2})}}const st=r=>(r==null?void 0:r.subscribe)instanceof Function,Ps=Ie(void 0);function zs(r){let e,t,s;function n(a){r[3](a)}let l={config:r[0],props:r[0].props};return r[1]!==void 0&&(l.instance=r[1]),e=new ls({props:l}),Le.push(()=>Zt(e,"instance",n)),{c(){Z(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,o){x(e,a,o),s=!0},p(a,o){const i={};o&1&&(i.config=a[0]),o&1&&(i.props=a[0].props),!t&&o&2&&(t=!0,i.instance=a[1],xt(()=>t=!1)),e.$set(i)},i(a){s||(I(e.$$.fragment,a),s=!0)},o(a){T(e.$$.fragment,a),s=!1},d(a){ee(e,a)}}}function Ks(r){let e,t;return e=new Be({props:{props:r[0].props,$$slots:{default:[Ls,({props:s})=>({4:s}),({props:s})=>s?16:0]},$$scope:{ctx:r}}}),{c(){Z(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,n){x(e,s,n),t=!0},p(s,n){const l={};n&1&&(l.props=s[0].props),n&51&&(l.$$scope={dirty:n,ctx:s}),e.$set(l)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function Ls(r){let e,t,s;function n(a){r[2](a)}let l={config:r[0],props:r[4]};return r[1]!==void 0&&(l.instance=r[1]),e=new ls({props:l}),Le.push(()=>Zt(e,"instance",n)),{c(){Z(e.$$.fragment)},l(a){re(e.$$.fragment,a)},m(a,o){x(e,a,o),s=!0},p(a,o){const i={};o&1&&(i.config=a[0]),o&16&&(i.props=a[4]),!t&&o&2&&(t=!0,i.instance=a[1],xt(()=>t=!1)),e.$set(i)},i(a){s||(I(e.$$.fragment,a),s=!0)},o(a){T(e.$$.fragment,a),s=!1},d(a){ee(e,a)}}}function Us(r){let e,t,s,n,l;const a=[Ks,zs],o=[];function i(c,f){return f&1&&(e=null),e==null&&(e=!!st(c[0].props)),e?0:1}return t=i(r,-1),s=o[t]=a[t](r),{c(){s.c(),n=z()},l(c){s.l(c),n=z()},m(c,f){o[t].m(c,f),C(c,n,f),l=!0},p(c,[f]){let u=t;t=i(c,f),t===u?o[t].p(c,f):(ne(),T(o[u],1,1,()=>{o[u]=null}),oe(),s=o[t],s?s.p(c,f):(s=o[t]=a[t](c),s.c()),I(s,1),s.m(n.parentNode,n))},i(c){l||(I(s),l=!0)},o(c){T(s),l=!1},d(c){o[t].d(c),c&&d(n)}}}function qs(r,e,t){let{config:s}=e,n;Xt(function(){return s.eventHandlers.forEach(([i,c])=>{const f=n.$$.callbacks[i]??[];f.push(c),t(1,n.$$.callbacks[i]=f,n)}),function(){s.eventHandlers.forEach(([c,f])=>{const u=n.$$.callbacks[c],h=u.findIndex(k=>k===f);u.splice(h,1)})}});function l(o){n=o,t(1,n)}function a(o){n=o,t(1,n)}return r.$$set=o=>{"config"in o&&t(0,s=o.config)},[s,n,l,a]}class Ys extends Ee{constructor(e){super(),ye(this,e,qs,Us,$e,{config:0})}}function Js(r){let e,t;return e=new Ys({props:{config:r[0]}}),{c(){Z(e.$$.fragment)},l(s){re(e.$$.fragment,s)},m(s,n){x(e,s,n),t=!0},p(s,n){const l={};n&1&&(l.config=s[0]),e.$set(l)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){T(e.$$.fragment,s),t=!1},d(s){ee(e,s)}}}function Qs(r){let e;return{c(){e=U(r[0])},l(t){e=q(t,r[0])},m(t,s){C(t,e,s)},p(t,s){s&1&&ge(e,t[0])},i:de,o:de,d(t){t&&d(e)}}}function Ws(r){let e;return{c(){e=U(r[1])},l(t){e=q(t,r[1])},m(t,s){C(t,e,s)},p(t,s){s&2&&ge(e,t[1])},i:de,o:de,d(t){t&&d(e)}}}function Xs(r){let e,t,s,n,l;const a=[Ws,Qs,Js],o=[];function i(c,f){return f&1&&(e=null),e==null&&(e=!!st(c[0])),e?0:typeof c[0]!="object"?1:2}return t=i(r,-1),s=o[t]=a[t](r),{c(){s.c(),n=z()},l(c){s.l(c),n=z()},m(c,f){o[t].m(c,f),C(c,n,f),l=!0},p(c,[f]){let u=t;t=i(c,f),t===u?o[t].p(c,f):(ne(),T(o[u],1,1,()=>{o[u]=null}),oe(),s=o[t],s?s.p(c,f):(s=o[t]=a[t](c),s.c()),I(s,1),s.m(n.parentNode,n))},i(c){l||(I(s),l=!0)},o(c){T(s),l=!1},d(c){o[t].d(c),c&&d(n)}}}function Zs(r,e,t){let s,{of:n}=e;const l=st(n)?n:Ps;return De(r,l,a=>t(1,s=a)),r.$$set=a=>{"of"in a&&t(0,n=a.of)},[n,s,l]}class lt extends Ee{constructor(e){super(),ye(this,e,Zs,Xs,$e,{of:0})}}class xs{constructor(e,t){m(this,"component");m(this,"props");m(this,"eventHandlers",[]);m(this,"children",[]);this.component=e,this.props=t}on(e,t){return this.eventHandlers.push([e,t]),this}slot(...e){return this.children=e,this}}function el(r,e){return new xs(r,e)}class rs{constructor({header:e,footer:t,height:s,plugins:n}){m(this,"header");m(this,"footer");m(this,"height");m(this,"plugins");this.header=e,this.footer=t,this.height=s,this.plugins=n}isFlat(){return"__flat"in this}isData(){return"__data"in this}isDisplay(){return"__display"in this}isGroup(){return"__group"in this}}class ns extends rs{constructor({header:t,footer:s,plugins:n,id:l}){super({header:t,footer:s,plugins:n,height:1});m(this,"__flat",!0);m(this,"id");this.id=l}}class tl extends ns{constructor({header:t,footer:s,plugins:n,cell:l,accessor:a,id:o}){super({header:t,footer:s,plugins:n,id:"Initialization not complete"});m(this,"__data",!0);m(this,"cell");m(this,"accessorKey");m(this,"accessorFn");if(this.cell=l,a instanceof Function?this.accessorFn=a:this.accessorKey=a,o===void 0&&this.accessorKey===void 0)throw new Error("A column id or string accessor is required");this.id=o??String(this.accessorKey)}getValue(t){if(this.accessorFn!==void 0)return this.accessorFn(t);if(this.accessorKey!==void 0)return t[this.accessorKey]}}class sl extends ns{constructor({header:t,footer:s,plugins:n,id:l,cell:a,data:o}){super({header:t,footer:s,plugins:n,id:l});m(this,"__display",!0);m(this,"cell");m(this,"data");this.cell=a,this.data=o}}class ll extends rs{constructor({header:t,footer:s,columns:n,plugins:l}){const a=Math.max(...n.map(o=>o.height))+1;super({header:t,footer:s,height:a,plugins:l});m(this,"__group",!0);m(this,"columns");m(this,"ids");this.columns=n,this.ids=os(n)}}const os=r=>r.flatMap(e=>e.isFlat()?[e.id]:e.isGroup()?e.ids:[]),as=r=>r.flatMap(e=>e.isFlat()?[e]:e.isGroup()?as(e.columns):[]),rl=r=>{const e=new Map;return r.forEach(t=>{e.set(t,(e.get(t)??0)+1)}),e},nl=r=>Array.from(rl(r).entries()).filter(([,e])=>e!==1).map(([e])=>e),ol=r=>Object.entries(r).map(([e,t])=>`${e}:${t}`).join(";"),al=(r,e)=>r.style===void 0&&e.style===void 0?{...r,...e}:{...r,...e,style:{...typeof r.style=="object"?r.style:{},...typeof e.style=="object"?e.style:{}}},Ke=r=>r.style===void 0||typeof r.style!="object"?r:{...r,style:ol(r.style)};class Qe{constructor({id:e}){m(this,"id");m(this,"attrsForName",{});m(this,"propsForName",{});m(this,"state");this.id=e}attrs(){return le(Object.values(this.attrsForName),e=>{let t={};return e.forEach(s=>{t=al(t,s)}),Ke(t)})}props(){return ss(this.propsForName)}injectState(e){this.state=e}applyHook(e,t){t.props!==void 0&&(this.propsForName[e]=t.props),t.attrs!==void 0&&(this.attrsForName[e]=t.attrs)}}class is extends Qe{constructor({id:t,row:s}){super({id:t});m(this,"row");this.row=s}attrs(){return le(super.attrs(),t=>({...t,role:"cell"}))}rowColId(){return`${this.row.id}:${this.column.id}`}dataRowColId(){if(this.row.isData())return`${this.row.dataId}:${this.column.id}`}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class rt extends is{constructor({row:t,column:s,label:n,value:l}){super({id:s.id,row:t});m(this,"__data",!0);m(this,"column");m(this,"label");m(this,"value");this.column=s,this.label=n,this.value=l}render(){if(this.label===void 0)return`${this.value}`;if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new rt({row:this.row,column:this.column,label:this.label,value:this.value})}}class nt extends is{constructor({row:t,column:s,label:n}){super({id:s.id,row:t});m(this,"__display",!0);m(this,"column");m(this,"label");this.column=s,this.label=n}render(){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new nt({row:this.row,column:this.column,label:this.label})}}const pe=r=>r!==void 0;class il extends Qe{constructor({id:t,cells:s,cellForId:n,depth:l=0,parentRow:a}){super({id:t});m(this,"cells");m(this,"cellForId");m(this,"depth");m(this,"parentRow");m(this,"subRows");this.cells=s,this.cellForId=n,this.depth=l,this.parentRow=a}attrs(){return le(super.attrs(),t=>({...t,role:"row"}))}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class ot extends il{constructor({id:t,dataId:s,original:n,cells:l,cellForId:a,depth:o=0,parentRow:i}){super({id:t,cells:l,cellForId:a,depth:o,parentRow:i});m(this,"__data",!0);m(this,"dataId");m(this,"original");this.dataId=s,this.original=n}clone({includeCells:t=!1,includeSubRows:s=!1}={}){var l;const n=new ot({id:this.id,dataId:this.dataId,cellForId:this.cellForId,cells:this.cells,original:this.original,depth:this.depth});if(t){const a=Object.fromEntries(Object.entries(n.cellForId).map(([i,c])=>{const f=c.clone();return f.row=n,[i,f]})),o=n.cells.map(({id:i})=>a[i]);n.cellForId=a,n.cells=o}if(s){const a=(l=this.subRows)==null?void 0:l.map(o=>o.clone({includeCells:t,includeSubRows:s}));n.subRows=a}else n.subRows=this.subRows;return n}}const cl=(r,e,{rowDataId:t}={})=>{const s=r.map((n,l)=>{const a=l.toString();return new ot({id:a,dataId:t!==void 0?t(n,l):a,original:n,cells:[],cellForId:{}})});return r.forEach((n,l)=>{const a=e.map(o=>{if(o.isData()){const i=o,c=i.getValue(n);return new rt({row:s[l],column:i,label:o.cell,value:c})}if(o.isDisplay()){const i=o;return new nt({row:s[l],column:i,label:o.cell})}throw new Error("Unrecognized `FlatColumn` implementation")});s[l].cells=a,e.forEach((o,i)=>{s[l].cellForId[o.id]=a[i]})}),s},fl=(r,e)=>{const t=r.map(s=>{const n=s.clone();return n.cells=[],n.cellForId={},n});return r.length===0||e.length===0?r:(r.forEach((s,n)=>{const l=s.cells.map(o=>{const i=o.clone();return i.row=t[n],i}),a=e.map(o=>l.find(i=>i.id===o)).filter(pe);t[n].cells=a,l.forEach(o=>{t[n].cellForId[o.id]=o})}),t)},cs=" ";class fs extends Qe{constructor({id:t,label:s,colspan:n,colstart:l}){super({id:t});m(this,"label");m(this,"colspan");m(this,"colstart");this.label=s,this.colspan=n,this.colstart=l}render(){if(this.label instanceof Function){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}return this.label}attrs(){return le(super.attrs(),t=>({...t,role:"columnheader",colspan:this.colspan}))}isFlat(){return"__flat"in this}isData(){return"__data"in this}isFlatDisplay(){return"__flat"in this&&"__display"in this}isGroup(){return"__group"in this}isGroupDisplay(){return"__group"in this&&"__display"in this}}class We extends fs{constructor({id:t,label:s,colstart:n}){super({id:t,label:s,colspan:1,colstart:n});m(this,"__flat",!0)}clone(){return new We({id:this.id,label:this.label,colstart:this.colstart})}}class at extends We{constructor({id:t,label:s,accessorKey:n,accessorFn:l,colstart:a}){super({id:t,label:s,colstart:a});m(this,"__data",!0);m(this,"accessorKey");m(this,"accessorFn");this.accessorKey=n,this.accessorFn=l}clone(){return new at({id:this.id,label:this.label,accessorFn:this.accessorFn,accessorKey:this.accessorKey,colstart:this.colstart})}}class Xe extends We{constructor({id:t,label:s=cs,colstart:n}){super({id:t,label:s,colstart:n});m(this,"__display",!0)}clone(){return new Xe({id:this.id,label:this.label,colstart:this.colstart})}}class Ze extends fs{constructor({label:t,ids:s,allIds:n,colspan:l,colstart:a}){super({id:`[${s.join(",")}]`,label:t,colspan:l,colstart:a});m(this,"__group",!0);m(this,"ids");m(this,"allId");m(this,"allIds");this.ids=s,this.allId=`[${n.join(",")}]`,this.allIds=n}setIds(t){this.ids=t,this.id=`[${this.ids.join(",")}]`}pushId(t){this.ids=[...this.ids,t],this.id=`[${this.ids.join(",")}]`}clone(){return new Ze({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}class it extends Ze{constructor({label:t=cs,ids:s,allIds:n,colspan:l=1,colstart:a}){super({label:t,ids:s,allIds:n,colspan:l,colstart:a});m(this,"__display",!0)}clone(){return new it({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}const ul=r=>r.reduce((e,t)=>e+t,0),us=(r,e)=>{const t=[];for(let s=0;s<e;s++)t.push(Array(r).fill(null));return t},$t=r=>{const e=r.length;if(e===0)return r;const t=r[0].length,s=us(e,t);for(let n=0;n<t;n++)for(let l=0;l<e;l++)s[n][l]=r[l][n];return s};class ct extends Qe{constructor({id:t,cells:s}){super({id:t});m(this,"cells");this.cells=s}attrs(){return le(super.attrs(),t=>({...t,role:"row"}))}clone(){return new ct({id:this.id,cells:this.cells})}}const dl=(r,e=[])=>{const t=hl(r);let s=$t(t);return s=_l(s,e),pl(s),bl($t(s))},hl=r=>{const e=ul(r.map(l=>l.isGroup()?l.ids.length:1)),t=Math.max(...r.map(l=>l.height)),s=us(e,t);let n=0;return r.forEach(l=>{const a=t-l.height;ds(s,l,a,n),n+=l.isGroup()?l.ids.length:1}),s.map((l,a)=>l.map((o,i)=>{var f;if(o!==null)return o;if(a===t-1)return new Xe({id:i.toString(),colstart:i});const c=((f=s[t-1][i])==null?void 0:f.id)??i.toString();return new it({ids:[],allIds:[c],colstart:i})}))},ds=(r,e,t,s)=>{if(e.isData()){r[r.length-1][s]=new at({label:e.header,accessorFn:e.accessorFn,accessorKey:e.accessorKey,id:e.id,colstart:s});return}if(e.isDisplay()){r[r.length-1][s]=new Xe({id:e.id,label:e.header,colstart:s});return}if(e.isGroup()){for(let l=0;l<e.ids.length;l++)r[t][s+l]=new Ze({label:e.header,colspan:1,allIds:e.ids,ids:[],colstart:s});let n=0;e.columns.forEach(l=>{ds(r,l,t+1,s+n),n+=l.isGroup()?l.ids.length:1});return}},_l=(r,e)=>{if(e.length===0)return r;const t=[];return e.forEach((s,n)=>{const l=r.find(a=>{const o=a[a.length-1];if(!o.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");return o.id===s});l!==void 0&&t.push(l.map(a=>{const o=a.clone();return o.colstart=n,o}))}),t},pl=r=>{r.forEach(e=>{const t=e[e.length-1];if(!t.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");e.forEach(s=>{s.isGroup()&&s.pushId(t.id)})})},bl=r=>r.map((e,t)=>new ct({id:t.toString(),cells:gl(e)})),gl=r=>{if(r.length===0)return r;const e=[];let t=0,s=1;for(;t<r.length;){const n=r[t].clone();if(!n.isGroup()){e.push(n),t++;continue}s=t+1;const l=[...n.ids];for(;s<r.length;){const a=r[s];if(!a.isGroup()||n.allId!==a.allId)break;l.push(...a.ids),s++}n.setIds(l),n.colspan=s-t,e.push(n),t=s}return e},ml=(r,e,{rowDataId:t}={})=>{const{data:s,plugins:n}=r,l=as(e),a=Ie(l),o=le([s,a],([v,F])=>cl(v,F,{rowDataId:t})),i=ke([]),c=ke(),f=ke([]),u=ke([]),h=ke({role:"table"}),k=ke({}),R=ke({role:"rowgroup"}),G={data:s,columns:e,flatColumns:l,tableAttrs:h,tableHeadAttrs:k,tableBodyAttrs:R,visibleColumns:i,headerRows:c,originalRows:o,rows:f,pageRows:u},M=Object.fromEntries(Object.entries(n).map(([v,F])=>{const O=Object.fromEntries(l.map(P=>{var se;const te=(se=P.plugins)==null?void 0:se[v];if(te!==void 0)return[P.id,te]}).filter(pe));return[v,F({pluginName:v,tableState:G,columnOptions:O})]})),Y=Object.fromEntries(Object.entries(M).map(([v,F])=>[v,F.pluginState])),$={data:s,columns:e,flatColumns:l,tableAttrs:h,tableHeadAttrs:k,tableBodyAttrs:R,visibleColumns:i,headerRows:c,originalRows:o,rows:f,pageRows:u,pluginStates:Y},_=Object.values(M).map(v=>v.deriveTableAttrs).filter(pe);let b=Ie({role:"table"});_.forEach(v=>{b=v(b)});const N=le(b,v=>{const F=Ke(v);return h.set(F),F}),K=Object.values(M).map(v=>v.deriveTableBodyAttrs).filter(pe);let V=Ie({});K.forEach(v=>{V=v(V)});const E=le(V,v=>{const F=Ke(v);return k.set(F),F}),j=Object.values(M).map(v=>v.deriveTableBodyAttrs).filter(pe);let w=Ie({role:"rowgroup"});j.forEach(v=>{w=v(w)});const A=le(w,v=>{const F=Ke(v);return R.set(F),F}),L=Object.values(M).map(v=>v.deriveFlatColumns).filter(pe);let ae=a;L.forEach(v=>{ae=v(ae)});const H=le(ae,v=>(i.set(v),v)),Ce=le([o,H],([v,F])=>fl(v,F.map(O=>O.id))),he=Object.values(M).map(v=>v.deriveRows).filter(pe);let _e=Ce;he.forEach(v=>{_e=v(_e)});const me=le(_e,v=>(v.forEach(F=>{F.injectState($),F.cells.forEach(O=>{O.injectState($)})}),Object.entries(M).forEach(([F,O])=>{v.forEach(P=>{var te;((te=O.hooks)==null?void 0:te["tbody.tr"])!==void 0&&P.applyHook(F,O.hooks["tbody.tr"](P)),P.cells.forEach(se=>{var ue;((ue=O.hooks)==null?void 0:ue["tbody.tr.td"])!==void 0&&se.applyHook(F,O.hooks["tbody.tr.td"](se))})})}),f.set(v),v)),Ae=Object.values(M).map(v=>v.derivePageRows).filter(pe);let Re=me;Ae.forEach(v=>{Re=v(Re)});const Se=le(Re,v=>(v.forEach(F=>{F.injectState($),F.cells.forEach(O=>{O.injectState($)})}),Object.entries(M).forEach(([F,O])=>{v.forEach(P=>{var te;((te=O.hooks)==null?void 0:te["tbody.tr"])!==void 0&&P.applyHook(F,O.hooks["tbody.tr"](P)),P.cells.forEach(se=>{var ue;((ue=O.hooks)==null?void 0:ue["tbody.tr.td"])!==void 0&&se.applyHook(F,O.hooks["tbody.tr.td"](se))})})}),u.set(v),v)),He=le(H,v=>{const F=dl(e,v.map(O=>O.id));return F.forEach(O=>{O.injectState($),O.cells.forEach(P=>{P.injectState($)})}),Object.entries(M).forEach(([O,P])=>{F.forEach(te=>{var se;((se=P.hooks)==null?void 0:se["thead.tr"])!==void 0&&te.applyHook(O,P.hooks["thead.tr"](te)),te.cells.forEach(ue=>{var Oe;((Oe=P.hooks)==null?void 0:Oe["thead.tr.th"])!==void 0&&ue.applyHook(O,P.hooks["thead.tr.th"](ue))})})}),c.set(F),F});return{tableAttrs:N,tableHeadAttrs:E,tableBodyAttrs:A,visibleColumns:H,flatColumns:l,headerRows:He,originalRows:o,rows:me,pageRows:Se,pluginStates:Y}};class vl{constructor(e,t){m(this,"data");m(this,"plugins");this.data=e,this.plugins=t}createColumns(e){const t=os(e),s=nl(t);if(s.length!==0)throw new Error(`Duplicate column ids not allowed: "${s.join('", "')}"`);return e}column(e){return new tl(e)}group(e){return new ll(e)}display(e){return new sl(e)}createViewModel(e,t){return ml(this,e,t)}}const Ct=(r,e={})=>new vl(r,e);async function kl(r,e){const s=await(await fetch(e+"/home/version",{method:"GET",headers:r})).text();let n=s.indexOf("2.16"),l=s.indexOf("2.17");return console.log(n,l),n!=-1?"2.16":l!=-1?"2.17":"-1"}async function At(r){return console.log("Fetching initial datasets"),await(await fetch(r,{method:"GET"})).json()}function wl(r){let e=r[0],t=[],s=tt(e,3,[]);for(var n=1;n<r.length;n++){let f=tt(r[n],3,[]);for(var l in f){let u=!1;for(var a in s)El(f[l],s[a])&&(u=!0);u||s.push(f[l])}}if(s.length==0)return[];for(var o in s){let f=[];s[o][s[o].length-2].length<=1?f.push(s[o][s[o].length-4]+" "+s[o][s[o].length-2]):f.push(s[o][s[o].length-3]);for(var i=0;i<r.length;i++){let u=r[i];e:for(var c in s[o]){let h=s[o][c];console.log("Traversing key: ",h," dataset: ",i);let k="";if(h=="#text"&&"@partyid"in u?(k=u["@partyid"],u=u[h],u+=" ("+k+")"):u=u[h],u==null){console.log("key not found in j: ",i),console.log(s[o]);break e}}u==null?f.push(""):f.push(u)}f.length>0&&t.push(f)}return t}function tt(r,e,t){let s=[];for(var n in r){let o=r[n];if(n=="#text"){let i=[];for(var l in t)i.push(t[l]);i.push(n),s.push(i)}else if(typeof o=="object"){let i=t.slice();i.push(n);let c=tt(o,3,i);for(var a in c)s.push(c[a])}}return s}function El(r,e){if(r.length!=e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!=e[t])return!1;return!0}function Rt(r,e,t){const s=r.slice();return s[49]=e[t],s}function Ft(r,e,t){const s=r.slice();return s[53]=e[t],s}function It(r,e,t){const s=r.slice();return s[57]=e[t],s}function jt(r,e,t){const s=r.slice();return s[53]=e[t],s}function Dt(r,e,t){const s=r.slice();return s[62]=e[t],s[63]=e,s[64]=t,s}function Tt(r,e,t){const s=r.slice();return s[65]=e[t],s}function Bt(r,e,t){const s=r.slice();return s[68]=e[t],s[64]=t,s}function St(r){let e,t,s,n,l=r[8],a=[];for(let o=0;o<l.length;o+=1)a[o]=Nt(Dt(r,l,o));return{c(){e=B("p"),t=U("Selection of versions only has an effect starting from version v2.17. Before the latest version is used."),s=Q();for(let o=0;o<a.length;o+=1)a[o].c();n=z(),this.h()},l(o){e=S(o,"P",{class:!0});var i=D(e);t=q(i,"Selection of versions only has an effect starting from version v2.17. Before the latest version is used."),i.forEach(d),s=W(o);for(let c=0;c<a.length;c+=1)a[c].l(o);n=z(),this.h()},h(){p(e,"class","pt-8 pb-8")},m(o,i){C(o,e,i),y(e,t),C(o,s,i);for(let c=0;c<a.length;c+=1)a[c].m(o,i);C(o,n,i)},p(o,i){if(i[0]&1966466){l=o[8];let c;for(c=0;c<l.length;c+=1){const f=Dt(o,l,c);a[c]?a[c].p(f,i):(a[c]=Nt(f),a[c].c(),a[c].m(n.parentNode,n))}for(;c<a.length;c+=1)a[c].d(1);a.length=l.length}},d(o){o&&d(e),o&&d(s),Te(a,o),o&&d(n)}}}function Ht(r){let e,t=r[68].Id+"",s;return{c(){e=B("option"),s=U(t),this.h()},l(n){e=S(n,"OPTION",{class:!0});var l=D(e);s=q(l,t),l.forEach(d),this.h()},h(){p(e,"class","bg-surface-500"),e.__value=r[64],e.value=e.__value},m(n,l){C(n,e,l),y(e,s)},p(n,l){l[0]&2&&t!==(t=n[68].Id+"")&&ge(s,t)},d(n){n&&d(e)}}}function Ot(r){let e,t=r[19]()+"",s,n,l,a=r[1][r[8][r[64]]].Versions,o=[];for(let c=0;c<a.length;c+=1)o[c]=Mt(Tt(r,a,c));function i(){r[24].call(e,r[64])}return{c(){e=B("select");for(let c=0;c<o.length;c+=1)o[c].c();s=U(t),this.h()},l(c){e=S(c,"SELECT",{class:!0,id:!0});var f=D(e);for(let u=0;u<o.length;u+=1)o[u].l(f);s=q(f,t),f.forEach(d),this.h()},h(){p(e,"class","select variant-form-material"),p(e,"id","version_select_"+{i:r[64]}),r[7][r[64]]===void 0&&ts(i)},m(c,f){C(c,e,f);for(let u=0;u<o.length;u+=1)o[u].m(e,null);y(e,s),qe(e,r[7][r[64]]),n||(l=we(e,"change",i),n=!0)},p(c,f){if(r=c,f[0]&1048834){a=r[1][r[8][r[64]]].Versions;let u;for(u=0;u<a.length;u+=1){const h=Tt(r,a,u);o[u]?o[u].p(h,f):(o[u]=Mt(h),o[u].c(),o[u].m(e,s))}for(;u<o.length;u+=1)o[u].d(1);o.length=a.length}f[0]&386&&qe(e,r[7][r[64]])},d(c){c&&d(e),Te(o,c),n=!1,l()}}}function Mt(r){let e,t=r[20]()+"",s,n,l=r[65].Id+"",a,o,i;return{c(){e=B("option"),s=U(t),n=U(" ("),a=U(l),o=U(")"),this.h()},l(c){e=S(c,"OPTION",{class:!0});var f=D(e);s=q(f,t),n=q(f," ("),a=q(f,l),o=q(f,")"),f.forEach(d),this.h()},h(){p(e,"class","bg-surface-500"),e.__value=i=r[65].Id,e.value=e.__value},m(c,f){C(c,e,f),y(e,s),y(e,n),y(e,a),y(e,o)},p(c,f){f[0]&258&&l!==(l=c[65].Id+"")&&ge(a,l),f[0]&258&&i!==(i=c[65].Id)&&(e.__value=i,e.value=e.__value)},d(c){c&&d(e)}}}function Nt(r){let e,t,s,n=r[64]+1+"",l,a,o,i,c,f,u,h,k,R,G,M,Y,$=r[1],_=[];for(let E=0;E<$.length;E+=1)_[E]=Ht(Bt(r,$,E));function b(){r[22].call(c,r[64])}function N(){return r[23](r[64])}let K=r[7].length>=r[64]&&Ot(r);function V(){return r[25](r[64])}return{c(){e=B("label"),t=B("span"),s=U("Dataset "),l=U(n),a=U(":"),o=Q(),i=B("div"),c=B("select");for(let E=0;E<_.length;E+=1)_[E].c();f=Q(),K&&K.c(),u=Q(),h=B("button"),k=U("Remove"),R=Q(),G=B("br"),this.h()},l(E){e=S(E,"LABEL",{class:!0,for:!0});var j=D(e);t=S(j,"SPAN",{});var w=D(t);s=q(w,"Dataset "),l=q(w,n),a=q(w,":"),w.forEach(d),o=W(j),i=S(j,"DIV",{class:!0});var A=D(i);c=S(A,"SELECT",{class:!0,id:!0});var L=D(c);for(let H=0;H<_.length;H+=1)_[H].l(L);L.forEach(d),f=W(A),K&&K.l(A),u=W(A),h=S(A,"BUTTON",{class:!0});var ae=D(h);k=q(ae,"Remove"),ae.forEach(d),A.forEach(d),j.forEach(d),R=W(E),G=S(E,"BR",{}),this.h()},h(){p(c,"class","select variant-form-material"),p(c,"id","ds_select_"+{i:r[64]}),r[8][r[64]]===void 0&&ts(b),p(h,"class","variant-filled-secondary"),p(i,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] "),p(e,"class","input-label w-80"),p(e,"for","ds_select_"+{i:r[64]})},m(E,j){C(E,e,j),y(e,t),y(t,s),y(t,l),y(t,a),y(e,o),y(e,i),y(i,c);for(let w=0;w<_.length;w+=1)_[w].m(c,null);qe(c,r[8][r[64]]),y(i,f),K&&K.m(i,null),y(i,u),y(i,h),y(h,k),C(E,R,j),C(E,G,j),M||(Y=[we(c,"change",b),we(c,"change",N),we(h,"click",V)],M=!0)},p(E,j){if(r=E,j[0]&2){$=r[1];let w;for(w=0;w<$.length;w+=1){const A=Bt(r,$,w);_[w]?_[w].p(A,j):(_[w]=Ht(A),_[w].c(),_[w].m(c,null))}for(;w<_.length;w+=1)_[w].d(1);_.length=$.length}j[0]&256&&qe(c,r[8][r[64]]),r[7].length>=r[64]?K?K.p(r,j):(K=Ot(r),K.c(),K.m(i,u)):K&&(K.d(1),K=null)},d(E){E&&d(e),Te(_,E),K&&K.d(),E&&d(R),E&&d(G),M=!1,es(Y)}}}function Vt(r){let e,t,s,n,l;return{c(){e=B("div"),t=B("button"),s=U("Calculate Diff"),this.h()},l(a){e=S(a,"DIV",{class:!0});var o=D(e);t=S(o,"BUTTON",{class:!0});var i=D(t);s=q(i,"Calculate Diff"),i.forEach(d),o.forEach(d),this.h()},h(){p(t,"class","btn bg-primary-500 rounded-md"),t.disabled=r[0],p(e,"class","grid justify-items-end pr-8")},m(a,o){C(a,e,o),y(e,t),y(t,s),n||(l=we(t,"click",r[15]),n=!0)},p(a,o){o[0]&1&&(t.disabled=a[0])},d(a){a&&d(e),n=!1,l()}}}function Gt(r){let e,t,s,n,l,a,o;return a=new As({props:{$$slots:{default:[yl]},$$scope:{ctx:r}}}),{c(){e=B("div"),t=B("div"),s=B("p"),n=U("Loading"),l=Q(),Z(a.$$.fragment),this.h()},l(i){e=S(i,"DIV",{class:!0});var c=D(e);t=S(c,"DIV",{class:!0});var f=D(t);s=S(f,"P",{});var u=D(s);n=q(u,"Loading"),u.forEach(d),l=W(f),re(a.$$.fragment,f),f.forEach(d),c.forEach(d),this.h()},h(){p(t,"class","w-full max-w-[120px] mx-auto space-y-4"),p(e,"class","card variant-glass p-4 grid grid-cols-2 gap-4 text-center")},m(i,c){C(i,e,c),y(e,t),y(t,s),y(s,n),y(t,l),x(a,t,null),o=!0},p(i,c){const f={};c[0]&512|c[2]&256&&(f.$$scope={dirty:c,ctx:i}),a.$set(f)},i(i){o||(I(a.$$.fragment,i),o=!0)},o(i){T(a.$$.fragment,i),o=!1},d(i){i&&d(e),ee(a)}}}function yl(r){let e=r[9].value+"",t,s;return{c(){t=U(e),s=U("%")},l(n){t=q(n,e),s=q(n,"%")},m(n,l){C(n,t,l),C(n,s,l)},p(n,l){l[0]&512&&e!==(e=n[9].value+"")&&ge(t,e)},d(n){n&&d(t),n&&d(s)}}}function Pt(r){let e,t,s,n=[],l=new Map,a,o,i=[],c=new Map,f,u=r[11];const h=_=>_[57].id;for(let _=0;_<u.length;_+=1){let b=It(r,u,_),N=h(b);l.set(N,n[_]=Kt(N,b))}let k=r[13];const R=_=>_[49].id;for(let _=0;_<k.length;_+=1){let b=Rt(r,k,_),N=R(b);c.set(N,i[_]=Ut(N,b))}let G=[r[12]],M={};for(let _=0;_<G.length;_+=1)M=fe(M,G[_]);let Y=[{class:"table table-hover"},r[10]],$={};for(let _=0;_<Y.length;_+=1)$=fe($,Y[_]);return{c(){e=B("div"),t=B("table"),s=B("thead");for(let _=0;_<n.length;_+=1)n[_].c();a=Q(),o=B("tbody");for(let _=0;_<i.length;_+=1)i[_].c();this.h()},l(_){e=S(_,"DIV",{class:!0});var b=D(e);t=S(b,"TABLE",{class:!0});var N=D(t);s=S(N,"THEAD",{});var K=D(s);for(let E=0;E<n.length;E+=1)n[E].l(K);K.forEach(d),a=W(N),o=S(N,"TBODY",{});var V=D(o);for(let E=0;E<i.length;E+=1)i[E].l(V);V.forEach(d),N.forEach(d),b.forEach(d),this.h()},h(){ce(o,M),ce(t,$),p(e,"class","table-container")},m(_,b){C(_,e,b),y(e,t),y(t,s);for(let N=0;N<n.length;N+=1)n[N].m(s,null);y(t,a),y(t,o);for(let N=0;N<i.length;N+=1)i[N].m(o,null);f=!0},p(_,b){b[0]&2048|b[1]&35651584&&(u=_[11],ne(),n=Ye(n,b,h,1,_,u,l,s,Je,Kt,null,It),oe()),b[0]&8192|b[1]&35651584&&(k=_[13],ne(),i=Ye(i,b,R,1,_,k,c,o,Je,Ut,null,Rt),oe()),ce(o,M=be(G,[b[0]&4096&&_[12]])),ce(t,$=be(Y,[{class:"table table-hover"},b[0]&1024&&_[10]]))},i(_){if(!f){for(let b=0;b<u.length;b+=1)I(n[b]);for(let b=0;b<k.length;b+=1)I(i[b]);f=!0}},o(_){for(let b=0;b<n.length;b+=1)T(n[b]);for(let b=0;b<i.length;b+=1)T(i[b]);f=!1},d(_){_&&d(e);for(let b=0;b<n.length;b+=1)n[b].d();for(let b=0;b<i.length;b+=1)i[b].d()}}}function $l(r){let e,t,s,n;t=new lt({props:{of:r[53].render()}});let l=[r[56]],a={};for(let o=0;o<l.length;o+=1)a=fe(a,l[o]);return{c(){e=B("th"),Z(t.$$.fragment),s=Q(),this.h()},l(o){e=S(o,"TH",{});var i=D(e);re(t.$$.fragment,i),i.forEach(d),s=W(o),this.h()},h(){ce(e,a)},m(o,i){C(o,e,i),x(t,e,null),C(o,s,i),n=!0},p(o,i){const c={};i[0]&2048&&(c.of=o[53].render()),t.$set(c),ce(e,a=be(l,[i[1]&33554432&&o[56]]))},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){o&&d(e),ee(t),o&&d(s)}}}function zt(r,e){let t,s,n;return s=new Be({props:{attrs:e[53].attrs(),$$slots:{default:[$l,({attrs:l})=>({56:l}),({attrs:l})=>[0,l?33554432:0]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=z(),Z(s.$$.fragment),this.h()},l(l){t=z(),re(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,a){C(l,t,a),x(s,l,a),n=!0},p(l,a){e=l;const o={};a[0]&2048&&(o.attrs=e[53].attrs()),a[0]&2048|a[1]&33554432|a[2]&256&&(o.$$scope={dirty:a,ctx:e}),s.$set(o)},i(l){n||(I(s.$$.fragment,l),n=!0)},o(l){T(s.$$.fragment,l),n=!1},d(l){l&&d(t),ee(s,l)}}}function Cl(r){let e,t=[],s=new Map,n,l,a=r[57].cells;const o=f=>f[53].id;for(let f=0;f<a.length;f+=1){let u=jt(r,a,f),h=o(u);s.set(h,t[f]=zt(h,u))}let i=[r[52]],c={};for(let f=0;f<i.length;f+=1)c=fe(c,i[f]);return{c(){e=B("tr");for(let f=0;f<t.length;f+=1)t[f].c();n=Q(),this.h()},l(f){e=S(f,"TR",{});var u=D(e);for(let h=0;h<t.length;h+=1)t[h].l(u);u.forEach(d),n=W(f),this.h()},h(){ce(e,c)},m(f,u){C(f,e,u);for(let h=0;h<t.length;h+=1)t[h].m(e,null);C(f,n,u),l=!0},p(f,u){u[0]&2048|u[1]&33554432&&(a=f[57].cells,ne(),t=Ye(t,u,o,1,f,a,s,e,Je,zt,null,jt),oe()),ce(e,c=be(i,[u[1]&2097152&&f[52]]))},i(f){if(!l){for(let u=0;u<a.length;u+=1)I(t[u]);l=!0}},o(f){for(let u=0;u<t.length;u+=1)T(t[u]);l=!1},d(f){f&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&d(n)}}}function Kt(r,e){let t,s,n;return s=new Be({props:{rowAttrs:e[57].attrs(),$$slots:{default:[Cl,({rowAttrs:l})=>({52:l}),({rowAttrs:l})=>[0,l?2097152:0]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=z(),Z(s.$$.fragment),this.h()},l(l){t=z(),re(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,a){C(l,t,a),x(s,l,a),n=!0},p(l,a){e=l;const o={};a[0]&2048&&(o.rowAttrs=e[57].attrs()),a[0]&2048|a[1]&2097152|a[2]&256&&(o.$$scope={dirty:a,ctx:e}),s.$set(o)},i(l){n||(I(s.$$.fragment,l),n=!0)},o(l){T(s.$$.fragment,l),n=!1},d(l){l&&d(t),ee(s,l)}}}function Al(r){let e,t,s,n;t=new lt({props:{of:r[53].render()}});let l=[{class:"table-cell-fit align-top"},r[56]],a={};for(let o=0;o<l.length;o+=1)a=fe(a,l[o]);return{c(){e=B("td"),Z(t.$$.fragment),s=Q(),this.h()},l(o){e=S(o,"TD",{class:!0});var i=D(e);re(t.$$.fragment,i),i.forEach(d),s=W(o),this.h()},h(){ce(e,a)},m(o,i){C(o,e,i),x(t,e,null),C(o,s,i),n=!0},p(o,i){const c={};i[0]&8192&&(c.of=o[53].render()),t.$set(c),ce(e,a=be(l,[{class:"table-cell-fit align-top"},i[1]&33554432&&o[56]]))},i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){T(t.$$.fragment,o),n=!1},d(o){o&&d(e),ee(t),o&&d(s)}}}function Lt(r,e){let t,s,n;return s=new Be({props:{attrs:e[53].attrs(),$$slots:{default:[Al,({attrs:l})=>({56:l}),({attrs:l})=>[0,l?33554432:0]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=z(),Z(s.$$.fragment),this.h()},l(l){t=z(),re(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,a){C(l,t,a),x(s,l,a),n=!0},p(l,a){e=l;const o={};a[0]&8192&&(o.attrs=e[53].attrs()),a[0]&8192|a[1]&33554432|a[2]&256&&(o.$$scope={dirty:a,ctx:e}),s.$set(o)},i(l){n||(I(s.$$.fragment,l),n=!0)},o(l){T(s.$$.fragment,l),n=!1},d(l){l&&d(t),ee(s,l)}}}function Rl(r){let e,t=[],s=new Map,n,l,a=r[49].cells;const o=f=>f[53].id;for(let f=0;f<a.length;f+=1){let u=Ft(r,a,f),h=o(u);s.set(h,t[f]=Lt(h,u))}let i=[r[52]],c={};for(let f=0;f<i.length;f+=1)c=fe(c,i[f]);return{c(){e=B("tr");for(let f=0;f<t.length;f+=1)t[f].c();n=Q(),this.h()},l(f){e=S(f,"TR",{});var u=D(e);for(let h=0;h<t.length;h+=1)t[h].l(u);u.forEach(d),n=W(f),this.h()},h(){ce(e,c)},m(f,u){C(f,e,u);for(let h=0;h<t.length;h+=1)t[h].m(e,null);C(f,n,u),l=!0},p(f,u){u[0]&8192|u[1]&33554432&&(a=f[49].cells,ne(),t=Ye(t,u,o,1,f,a,s,e,Je,Lt,null,Ft),oe()),ce(e,c=be(i,[u[1]&2097152&&f[52]]))},i(f){if(!l){for(let u=0;u<a.length;u+=1)I(t[u]);l=!0}},o(f){for(let u=0;u<t.length;u+=1)T(t[u]);l=!1},d(f){f&&d(e);for(let u=0;u<t.length;u+=1)t[u].d();f&&d(n)}}}function Ut(r,e){let t,s,n;return s=new Be({props:{rowAttrs:e[49].attrs(),$$slots:{default:[Rl,({rowAttrs:l})=>({52:l}),({rowAttrs:l})=>[0,l?2097152:0]]},$$scope:{ctx:e}}}),{key:r,first:null,c(){t=z(),Z(s.$$.fragment),this.h()},l(l){t=z(),re(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,a){C(l,t,a),x(s,l,a),n=!0},p(l,a){e=l;const o={};a[0]&8192&&(o.rowAttrs=e[49].attrs()),a[0]&8192|a[1]&2097152|a[2]&256&&(o.$$scope={dirty:a,ctx:e}),s.$set(o)},i(l){n||(I(s.$$.fragment,l),n=!0)},o(l){T(s.$$.fragment,l),n=!1},d(l){l&&d(t),ee(s,l)}}}function Fl(r){let e,t,s,n,l,a,o,i,c,f,u,h,k,R,G,M,Y,$,_,b,N,K,V=r[1]&&St(r),E=r[8].length>=2&&Vt(r),j=r[0]==!0&&Gt(r),w=r[2].length>1&&Pt(r);return{c(){e=B("main"),t=B("h2"),s=U("Compare Datasets & Versions"),n=Q(),l=B("div"),a=B("div"),o=B("div"),i=B("button"),c=U("Refresh Cache"),f=Q(),u=B("button"),h=U("Add Datasets"),k=Q(),V&&V.c(),R=Q(),E&&E.c(),G=Q(),j&&j.c(),M=Q(),w&&w.c(),Y=Q(),$=B("style"),_=U(`table {
			border-spacing: 0;
			border-top: 1px solid black;
			border-left: 1px solid black;
		}
		th,
		td {
			border-bottom: 1px solid black;
			border-right: 1px solid black;
			padding: 0.5rem;
		}
		.table tbody td {
			white-space: break-spaces;
		}`),this.h()},l(A){e=S(A,"MAIN",{class:!0});var L=D(e);t=S(L,"H2",{class:!0});var ae=D(t);s=q(ae,"Compare Datasets & Versions"),ae.forEach(d),n=W(L),l=S(L,"DIV",{class:!0});var H=D(l);a=S(H,"DIV",{class:!0});var Ce=D(a);o=S(Ce,"DIV",{});var he=D(o);i=S(he,"BUTTON",{class:!0,title:!0});var _e=D(i);c=q(_e,"Refresh Cache"),_e.forEach(d),f=W(he),u=S(he,"BUTTON",{class:!0,title:!0});var me=D(u);h=q(me,"Add Datasets"),me.forEach(d),he.forEach(d),Ce.forEach(d),k=W(H),V&&V.l(H),R=W(H),E&&E.l(H),G=W(H),j&&j.l(H),M=W(H),w&&w.l(H),H.forEach(d),Y=W(L),$=S(L,"STYLE",{});var Ae=D($);_=q(Ae,`table {
			border-spacing: 0;
			border-top: 1px solid black;
			border-left: 1px solid black;
		}
		th,
		td {
			border-bottom: 1px solid black;
			border-right: 1px solid black;
			padding: 0.5rem;
		}
		.table tbody td {
			white-space: break-spaces;
		}`),Ae.forEach(d),L.forEach(d),this.h()},h(){p(t,"class","pt-4 pb-4 text-secondary-700 dark:text-white"),p(i,"class","btn bg-primary-500 rounded-md "),i.disabled=r[0],p(i,"title","Dataset Ids and Versions are cached for performance reasons. Refresh if Ids are missing"),p(u,"class","btn bg-primary-500 rounded-md "),u.disabled=r[0],p(u,"title","Add Datasets to compare. 1st dataset is the reference for comparison."),p(a,"class","grid justify-items-end pr-8"),p(l,"class","width-max"),p(e,"class","p-4")},m(A,L){C(A,e,L),y(e,t),y(t,s),y(e,n),y(e,l),y(l,a),y(a,o),y(o,i),y(i,c),y(o,f),y(o,u),y(u,h),y(l,k),V&&V.m(l,null),y(l,R),E&&E.m(l,null),y(l,G),j&&j.m(l,null),y(l,M),w&&w.m(l,null),y(e,Y),y(e,$),y($,_),b=!0,N||(K=[we(i,"click",r[14]),we(u,"click",r[16])],N=!0)},p(A,L){(!b||L[0]&1)&&(i.disabled=A[0]),(!b||L[0]&1)&&(u.disabled=A[0]),A[1]?V?V.p(A,L):(V=St(A),V.c(),V.m(l,R)):V&&(V.d(1),V=null),A[8].length>=2?E?E.p(A,L):(E=Vt(A),E.c(),E.m(l,G)):E&&(E.d(1),E=null),A[0]==!0?j?(j.p(A,L),L[0]&1&&I(j,1)):(j=Gt(A),j.c(),I(j,1),j.m(l,M)):j&&(ne(),T(j,1,1,()=>{j=null}),oe()),A[2].length>1?w?(w.p(A,L),L[0]&4&&I(w,1)):(w=Pt(A),w.c(),I(w,1),w.m(l,null)):w&&(ne(),T(w,1,1,()=>{w=null}),oe())},i(A){b||(I(j),I(w),b=!0)},o(A){T(j),T(w),b=!1},d(A){A&&d(e),V&&V.d(),E&&E.d(),j&&j.d(),w&&w.d(),N=!1,es(K)}}}function Il(r,e,t){let s,n,l,a,o,i,c,f,u,h,k,R=de,G=()=>(R(),R=Ne(o,g=>t(10,k=g)),o),M,Y=de,$=()=>(Y(),Y=Ne(a,g=>t(11,M=g)),a),_,b=de,N=()=>(b(),b=Ne(c,g=>t(12,_=g)),c),K,V=de,E=()=>(V(),V=Ne(i,g=>t(13,K=g)),i);De(r,xe,g=>t(29,f=g)),De(r,ht,g=>t(30,u=g)),De(r,_t,g=>t(31,h=g)),r.$$.on_destroy.push(()=>R()),r.$$.on_destroy.push(()=>Y()),r.$$.on_destroy.push(()=>b()),r.$$.on_destroy.push(()=>V());let j={Accept:"application/json",Authorization:"Bearer "+h,"Content-Type":"application/json"},w=!1,A;Ve.subscribe(g=>{t(1,A=g)}),Xt(async()=>{if(Ve.useLocalStorage(),ht.useLocalStorage(),_t.useLocalStorage(),xe.useLocalStorage(),A.length==0){t(0,w=!0);const X=await At(ae);Ve.set(X),t(0,w=!1)}const g=await kl(j,u.toString());xe.set(g)});let L=u+"/api/Metadata/",ae=u+"/api/Dataset",H=[];async function Ce(){t(0,w=!0);const g=await At(ae);Ve.set(g),t(0,w=!1)}async function he(g,X){console.log("Fetching metadata for dataset_id: ",g,X);let J="";return f=="2.16"&&(J=L+"/"+g),f=="2.17"&&(J=L+"/"+g+"/"+X),await(await fetch(J,{method:"GET",headers:j})).json()}function _e(g){t(2,H=[]);let X=g.length;for(var J=0;J<X;J++){let Fe={section:g[J][0]};for(var ie=1;ie<g[J].length;ie++){let ve={};if(ve.diff={},ve.orig=g[J][ie],ie>0){let gs=Es(g[J][ie],g[J][1]);ve.diff=gs,console.log(ve)}Fe["col"+ie]=ve}H.push(Fe)}t(0,w=!1),Ge.set(H),te(H)}async function me(){t(0,w=!0);let g=[];console.log("Fetching metadata...");for(var X=0;X<n.length;X++){let ie=A[n[X]].Id,Fe=l[X],ve=await he(ie,Fe);g.push(ve)}let J=wl(g);console.log(J),_e(J)}function Ae(){l.push(A[1].Versions[0].Id),t(7,l)}function Re(){n.push(1),t(8,n),Ae()}function Se(g){console.log(n[g]),console.log(A[n[g]].Versions[0].Id),t(7,l[g]=A[n[g]].Versions[0].Id,l),t(7,l)}function He(g){console.log("Deleting dataset: ",g),n.splice(g,1),t(8,n),l.splice(g,1),t(7,l),v(g+1)}function v(g){console.log(H);for(var X=0;X<20&&!("col"+g in H[0]);X++)g+=1;for(var J in H)console.log("Deleting: ",H[J],"col"+g),delete H[J]["col"+g];console.log("Deleting: ",H),t(2,H),Ge.set(H),te(H)}let F=Ct(Ge),O=F.createColumns([F.column({header:"Field name",accessor:"section"})]),P=F.createViewModel(O);function te(g){F=Ct(Ge),O=[],O=F.createColumns([F.column({header:"Field Name",accessor:"section"})]);let X=1;for(var J in g[0])J!=="section"&&(O.push(F.column({header:"Dataset "+X,accessor:J,cell:({value:ie})=>el(Ds,{diff:ie.diff,diff_orig:ie.orig})})),X=X+1);t(21,P=F.createViewModel(O)),$(t(6,a=P.headerRows)),G(t(5,o=P.tableAttrs)),E(t(4,i=P.rows)),N(t(3,c=P.tableBodyAttrs))}let se=0;const ue=()=>(se=0,""),Oe=()=>(se++,se);function hs(g){n[g]=dt(this),t(8,n)}const _s=g=>Se(g);function ps(g){l[g]=dt(this),t(7,l),t(1,A),t(8,n)}const bs=g=>He(g);return r.$$.update=()=>{r.$$.dirty[0]&2097152&&$(t(6,a=P.headerRows)),r.$$.dirty[0]&2097152&&G(t(5,o=P.tableAttrs)),r.$$.dirty[0]&2097152&&E(t(4,i=P.rows)),r.$$.dirty[0]&2097152&&N(t(3,c=P.tableBodyAttrs))},t(9,s={value:50,max:100,step:10}),t(8,n=[]),t(7,l=[]),[w,A,H,c,i,o,a,l,n,s,k,M,_,K,Ce,me,Re,Se,He,ue,Oe,P,hs,_s,ps,bs]}class Ol extends Ee{constructor(e){super(),ye(this,e,Il,Fl,$e,{},null,[-1,-1,-1])}}export{Ol as default};
