import{S as Q,i as W,s as Y,k as h,q as P,a as N,l as m,m as y,r as q,h as d,c as T,n as f,b as U,H as u,a6 as R,P as A,C as H,E as J,a0 as V,o as Z,u as x}from"../../../chunks/index-9002fc2e.js";import{t as D,a as X,u as M,d as $}from"../../../chunks/store-c8ee3a9e.js";function ee(n){let l,t,e,r,g,i,a=n[5]&&n[4]&&K(n);return{c(){a&&a.c(),l=N(),t=h("label"),e=h("button"),r=P("Logout"),this.h()},l(s){a&&a.l(s),l=T(s),t=m(s,"LABEL",{});var c=y(t);e=m(c,"BUTTON",{class:!0});var _=y(e);r=q(_,"Logout"),_.forEach(d),c.forEach(d),this.h()},h(){f(e,"class","btn bg-primary-500 rounded-md")},m(s,c){a&&a.m(s,c),U(s,l,c),U(s,t,c),u(t,e),u(e,r),g||(i=A(e,"click",n[7]),g=!0)},p(s,c){s[5]&&s[4]?a?a.p(s,c):(a=K(s),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null)},d(s){a&&a.d(s),s&&d(l),s&&d(t),g=!1,i()}}}function te(n){let l,t,e,r,g,i,a,s,c,_,B,p=n[3]==!0&&F();return{c(){p&&p.c(),l=N(),t=h("label"),e=h("div"),r=h("input"),g=N(),i=h("input"),a=N(),s=h("button"),c=P("Login"),this.h()},l(o){p&&p.l(o),l=T(o),t=m(o,"LABEL",{class:!0});var b=y(t);e=m(b,"DIV",{class:!0});var k=y(e);r=m(k,"INPUT",{type:!0,placeholder:!0,id:!0,minlength:!0}),g=T(k),i=m(k,"INPUT",{type:!0,placeholder:!0,id:!0,minlength:!0}),a=T(k),s=m(k,"BUTTON",{class:!0});var S=y(s);c=q(S,"Login"),S.forEach(d),k.forEach(d),b.forEach(d),this.h()},h(){f(r,"type","text"),f(r,"placeholder","Username"),f(r,"id","name"),f(r,"minlength","2"),r.required=!0,f(i,"type","password"),f(i,"placeholder","Password"),f(i,"id","password_compare"),f(i,"minlength","2"),i.required=!0,f(s,"class","bg-primary-500"),f(e,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] rounded-md w-[500px]"),f(t,"class","input-label")},m(o,b){p&&p.m(o,b),U(o,l,b),U(o,t,b),u(t,e),u(e,r),R(r,n[2]),u(e,g),u(e,i),R(i,n[1]),u(e,a),u(e,s),u(s,c),_||(B=[A(r,"input",n[11]),A(i,"input",n[12]),A(i,"keypress",n[9]),A(s,"click",n[6])],_=!0)},p(o,b){o[3]==!0?p||(p=F(),p.c(),p.m(l.parentNode,l)):p&&(p.d(1),p=null),b&4&&r.value!==o[2]&&R(r,o[2]),b&2&&i.value!==o[1]&&R(i,o[1])},d(o){p&&p.d(o),o&&d(l),o&&d(t),_=!1,J(B)}}}function K(n){let l,t;return{c(){l=P("Logged in as: "),t=P(n[5])},l(e){l=q(e,"Logged in as: "),t=q(e,n[5])},m(e,r){U(e,l,r),U(e,t,r)},p(e,r){r&32&&x(t,e[5])},d(e){e&&d(l),e&&d(t)}}}function F(n){let l,t;return{c(){l=h("span"),t=P("Login failed!"),this.h()},l(e){l=m(e,"SPAN",{class:!0});var r=y(l);t=q(r,"Login failed!"),r.forEach(d),this.h()},h(){f(l,"class","text-red-500")},m(e,r){U(e,l,r),u(l,t)},d(e){e&&d(l)}}}function le(n){let l,t,e,r,g,i,a,s,c,_,B,p,o,b,k,S,E;function j(L,v){return L[4]==""?te:ee}let I=j(n),w=I(n);return{c(){l=h("main"),t=h("label"),e=h("span"),r=P("BEXIS2 Instance URL (e.g. https://www.bexis.uni-jena.de)"),g=h("br"),i=N(),a=h("div"),s=h("input"),c=N(),_=h("button"),B=P("Set"),p=N(),o=h("br"),b=h("br"),k=N(),w.c(),this.h()},l(L){l=m(L,"MAIN",{class:!0});var v=y(l);t=m(v,"LABEL",{class:!0});var C=y(t);e=m(C,"SPAN",{});var z=y(e);r=q(z,"BEXIS2 Instance URL (e.g. https://www.bexis.uni-jena.de)"),z.forEach(d),g=m(C,"BR",{}),i=T(C),a=m(C,"DIV",{class:!0});var O=y(a);s=m(O,"INPUT",{class:!0,type:!0,id:!0}),c=T(O),_=m(O,"BUTTON",{class:!0});var G=y(_);B=q(G,"Set"),G.forEach(d),O.forEach(d),C.forEach(d),p=T(v),o=m(v,"BR",{}),b=m(v,"BR",{}),k=T(v),w.l(v),v.forEach(d),this.h()},h(){f(s,"class","w-96"),f(s,"type","text"),f(s,"id","name"),s.required=!0,f(_,"class","bg-primary-500"),f(a,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] rounded-md w-[500px]"),f(t,"class","input-label w-[380px]"),f(l,"class","p-4")},m(L,v){U(L,l,v),u(l,t),u(t,e),u(e,r),u(t,g),u(t,i),u(t,a),u(a,s),R(s,n[0]),u(a,c),u(a,_),u(_,B),u(l,p),u(l,o),u(l,b),u(l,k),w.m(l,null),S||(E=[A(s,"input",n[10]),A(_,"click",n[8])],S=!0)},p(L,[v]){v&1&&s.value!==L[0]&&R(s,L[0]),I===(I=j(L))&&w?w.p(L,v):(w.d(1),w=I(L),w&&(w.c(),w.m(l,null)))},i:H,o:H,d(L){L&&d(l),w.d(),S=!1,J(E)}}}function se(n,l,t){let e,r,g;V(n,X,E=>t(13,e=E)),V(n,D,E=>t(4,r=E)),V(n,M,E=>t(5,g=E));let i="",a="",s="",c=!1;Z(async()=>{D.useLocalStorage(),X.useLocalStorage(),M.useLocalStorage(),t(0,i=e.toString())});async function _(){t(3,c=!1);let E={Accept:"*/*","User-Agent":"*",Authorization:"Basic "+btoa(s+":"+a)},j=await fetch(e+"/api/Token",{method:"GET",headers:E});if(j.status==200){let I=await j.json();console.log(I),D.set(I.token),M.set(s)}else t(3,c=!0)}function B(){D.set(""),M.set("")}function p(){X.set(i),$.set([])}const o=E=>{E.charCode===13&&_()};function b(){i=this.value,t(0,i)}function k(){s=this.value,t(2,s)}function S(){a=this.value,t(1,a)}return[i,a,s,c,r,g,_,B,p,o,b,k,S]}class ne extends Q{constructor(l){super(),W(this,l,se,le,Y,{})}}export{ne as default};
