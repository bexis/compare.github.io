import{S as Q,i as W,s as Y,k as _,q as P,a as T,l as h,m as w,r as j,h as d,c as A,n as f,b as N,H as o,aa as q,P as I,C as H,E as J,a0 as M,o as Z,u as x}from"../../../chunks/index-7b46d763.js";import{g as $}from"../../../chunks/utils-21f4f64d.js";import{t as z,a as V,u as D,d as ee,b as te}from"../../../chunks/store-057c543e.js";function se(r){let s,t,e,a,g,i,n=r[5]&&r[4]&&K(r);return{c(){n&&n.c(),s=T(),t=_("label"),e=_("button"),a=P("Logout"),this.h()},l(l){n&&n.l(l),s=A(l),t=h(l,"LABEL",{});var c=w(t);e=h(c,"BUTTON",{class:!0});var m=w(e);a=j(m,"Logout"),m.forEach(d),c.forEach(d),this.h()},h(){f(e,"class","btn bg-primary-500 rounded-md")},m(l,c){n&&n.m(l,c),N(l,s,c),N(l,t,c),o(t,e),o(e,a),g||(i=I(e,"click",r[7]),g=!0)},p(l,c){l[5]&&l[4]?n?n.p(l,c):(n=K(l),n.c(),n.m(s.parentNode,s)):n&&(n.d(1),n=null)},d(l){n&&n.d(l),l&&d(s),l&&d(t),g=!1,i()}}}function le(r){let s,t,e,a,g,i,n,l,c,m,B,p=r[3]==!0&&F();return{c(){p&&p.c(),s=T(),t=_("label"),e=_("div"),a=_("input"),g=T(),i=_("input"),n=T(),l=_("button"),c=P("Login"),this.h()},l(u){p&&p.l(u),s=A(u),t=h(u,"LABEL",{class:!0});var b=w(t);e=h(b,"DIV",{class:!0});var E=w(e);a=h(E,"INPUT",{type:!0,placeholder:!0,id:!0,minlength:!0}),g=A(E),i=h(E,"INPUT",{type:!0,placeholder:!0,id:!0,minlength:!0}),n=A(E),l=h(E,"BUTTON",{class:!0});var S=w(l);c=j(S,"Login"),S.forEach(d),E.forEach(d),b.forEach(d),this.h()},h(){f(a,"type","text"),f(a,"placeholder","Username"),f(a,"id","name"),f(a,"minlength","2"),a.required=!0,f(i,"type","password"),f(i,"placeholder","Password"),f(i,"id","password_compare"),f(i,"minlength","2"),i.required=!0,f(l,"class","bg-primary-500"),f(e,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] rounded-md w-[500px]"),f(t,"class","input-label")},m(u,b){p&&p.m(u,b),N(u,s,b),N(u,t,b),o(t,e),o(e,a),q(a,r[2]),o(e,g),o(e,i),q(i,r[1]),o(e,n),o(e,l),o(l,c),m||(B=[I(a,"input",r[11]),I(i,"input",r[12]),I(i,"keypress",r[9]),I(l,"click",r[6])],m=!0)},p(u,b){u[3]==!0?p||(p=F(),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null),b&4&&a.value!==u[2]&&q(a,u[2]),b&2&&i.value!==u[1]&&q(i,u[1])},d(u){p&&p.d(u),u&&d(s),u&&d(t),m=!1,J(B)}}}function K(r){let s,t;return{c(){s=P("Logged in as: "),t=P(r[5])},l(e){s=j(e,"Logged in as: "),t=j(e,r[5])},m(e,a){N(e,s,a),N(e,t,a)},p(e,a){a&32&&x(t,e[5])},d(e){e&&d(s),e&&d(t)}}}function F(r){let s,t;return{c(){s=_("span"),t=P("Login failed!"),this.h()},l(e){s=h(e,"SPAN",{class:!0});var a=w(s);t=j(a,"Login failed!"),a.forEach(d),this.h()},h(){f(s,"class","text-red-500")},m(e,a){N(e,s,a),o(s,t)},d(e){e&&d(s)}}}function ae(r){let s,t,e,a,g,i,n,l,c,m,B,p,u,b,E,S,C;function v(k,y){return k[4]==""?le:se}let U=v(r),L=U(r);return{c(){s=_("main"),t=_("label"),e=_("span"),a=P("BEXIS2 Instance URL (e.g. https://www.bexis.uni-jena.de)"),g=_("br"),i=T(),n=_("div"),l=_("input"),c=T(),m=_("button"),B=P("Set"),p=T(),u=_("br"),b=_("br"),E=T(),L.c(),this.h()},l(k){s=h(k,"MAIN",{class:!0});var y=w(s);t=h(y,"LABEL",{class:!0});var R=w(t);e=h(R,"SPAN",{});var X=w(e);a=j(X,"BEXIS2 Instance URL (e.g. https://www.bexis.uni-jena.de)"),X.forEach(d),g=h(R,"BR",{}),i=A(R),n=h(R,"DIV",{class:!0});var O=w(n);l=h(O,"INPUT",{class:!0,type:!0,id:!0}),c=A(O),m=h(O,"BUTTON",{class:!0});var G=w(m);B=j(G,"Set"),G.forEach(d),O.forEach(d),R.forEach(d),p=A(y),u=h(y,"BR",{}),b=h(y,"BR",{}),E=A(y),L.l(y),y.forEach(d),this.h()},h(){f(l,"class","w-96"),f(l,"type","text"),f(l,"id","name"),l.required=!0,f(m,"class","bg-primary-500"),f(n,"class","input-group input-group-divider grid-cols-[auto_1fr_auto] rounded-md w-[500px]"),f(t,"class","input-label w-[380px]"),f(s,"class","p-4")},m(k,y){N(k,s,y),o(s,t),o(t,e),o(e,a),o(t,g),o(t,i),o(t,n),o(n,l),q(l,r[0]),o(n,c),o(n,m),o(m,B),o(s,p),o(s,u),o(s,b),o(s,E),L.m(s,null),S||(C=[I(l,"input",r[10]),I(m,"click",r[8])],S=!0)},p(k,[y]){y&1&&l.value!==k[0]&&q(l,k[0]),U===(U=v(k))&&L?L.p(k,y):(L.d(1),L=U(k),L&&(L.c(),L.m(s,null)))},i:H,o:H,d(k){k&&d(s),L.d(),S=!1,J(C)}}}function ne(r,s,t){let e,a,g;M(r,V,v=>t(13,e=v)),M(r,z,v=>t(4,a=v)),M(r,D,v=>t(5,g=v));let i="",n="",l="",c=!1,m={Accept:"application/json",Authorization:"Bearer "+a,"Content-Type":"application/json"};Z(async()=>{z.useLocalStorage(),V.useLocalStorage(),D.useLocalStorage(),t(0,i=e.toString())});async function B(){t(3,c=!1);let v={Accept:"*/*","User-Agent":"*",Authorization:"Basic "+btoa(l+":"+n)},U=await fetch(e+"/api/Token",{method:"GET",headers:v});if(U.status==200){let L=await U.json();console.log(L),z.set(L.token),D.set(l)}else t(3,c=!0)}function p(){z.set(""),D.set("")}async function u(){V.set(i),ee.set([]);const v=await $(m,e.toString());te.set(v)}const b=v=>{v.charCode===13&&B()};function E(){i=this.value,t(0,i)}function S(){l=this.value,t(2,l)}function C(){n=this.value,t(1,n)}return[i,n,l,c,a,g,B,p,u,b,E,S,C]}class ue extends Q{constructor(s){super(),W(this,s,ne,ae,Y,{})}}export{ue as default};
