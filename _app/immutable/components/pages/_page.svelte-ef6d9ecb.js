import{S as De,i as Ce,s as Ie,k as I,q,a as F,l as L,m as G,r as V,h as E,c as M,n as Le,b as A,G as c,I as R,J as X,B as se,K as Ee,e as P,L as ie,u as oe,p as j}from"../../chunks/index-e00079fe.js";function B(){}B.prototype={diff:function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},t=n.callback;typeof n=="function"&&(t=n,n={}),this.options=n;var l=this;function r(p){return t?(setTimeout(function(){t(void 0,p)},0),!0):p}e=this.castInput(e),i=this.castInput(i),e=this.removeEmpty(this.tokenize(e)),i=this.removeEmpty(this.tokenize(i));var s=i.length,f=e.length,u=1,_=s+f;n.maxEditLength&&(_=Math.min(_,n.maxEditLength));var h=[{newPos:-1,components:[]}],v=this.extractCommon(h[0],i,e,0);if(h[0].newPos+1>=s&&v+1>=f)return r([{value:this.join(i),count:i.length}]);function d(){for(var p=-1*u;p<=u;p+=2){var D=void 0,T=h[p-1],k=h[p+1],O=(k?k.newPos:0)-p;T&&(h[p-1]=void 0);var U=T&&T.newPos+1<s,J=k&&0<=O&&O<f;if(!U&&!J){h[p]=void 0;continue}if(!U||J&&T.newPos<k.newPos?(D=be(k),l.pushComponent(D.components,void 0,!0)):(D=T,D.newPos++,l.pushComponent(D.components,!0,void 0)),O=l.extractCommon(D,i,e,p),D.newPos+1>=s&&O+1>=f)return r(Te(l,D.components,i,e,l.useLongestToken));h[p]=D}u++}if(t)(function p(){setTimeout(function(){if(u>_)return t();d()||p()},0)})();else for(;u<=_;){var N=d();if(N)return N}},pushComponent:function(e,i,n){var t=e[e.length-1];t&&t.added===i&&t.removed===n?e[e.length-1]={count:t.count+1,added:i,removed:n}:e.push({count:1,added:i,removed:n})},extractCommon:function(e,i,n,t){for(var l=i.length,r=n.length,s=e.newPos,f=s-t,u=0;s+1<l&&f+1<r&&this.equals(i[s+1],n[f+1]);)s++,f++,u++;return u&&e.components.push({count:u}),e.newPos=s,f},equals:function(e,i){return this.options.comparator?this.options.comparator(e,i):e===i||this.options.ignoreCase&&e.toLowerCase()===i.toLowerCase()},removeEmpty:function(e){for(var i=[],n=0;n<e.length;n++)e[n]&&i.push(e[n]);return i},castInput:function(e){return e},tokenize:function(e){return e.split("")},join:function(e){return e.join("")}};function Te(o,e,i,n,t){for(var l=0,r=e.length,s=0,f=0;l<r;l++){var u=e[l];if(u.removed){if(u.value=o.join(n.slice(f,f+u.count)),f+=u.count,l&&e[l-1].added){var h=e[l-1];e[l-1]=e[l],e[l]=h}}else{if(!u.added&&t){var _=i.slice(s,s+u.count);_=_.map(function(d,N){var p=n[f+N];return p.length>d.length?p:d}),u.value=o.join(_)}else u.value=o.join(i.slice(s,s+u.count));s+=u.count,u.added||(f+=u.count)}}var v=e[r-1];return r>1&&typeof v.value=="string"&&(v.added||v.removed)&&o.equals("",v.value)&&(e[r-2].value+=v.value,e.pop()),e}function be(o){return{newPos:o.newPos,components:o.components.slice(0)}}var Ne=new B;function ke(o,e,i){return Ne.diff(o,e,i)}var ue=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,fe=/\S/,we=new B;we.equals=function(o,e){return this.options.ignoreCase&&(o=o.toLowerCase(),e=e.toLowerCase()),o===e||this.options.ignoreWhitespace&&!fe.test(o)&&!fe.test(e)};we.tokenize=function(o){for(var e=o.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),i=0;i<e.length-1;i++)!e[i+1]&&e[i+2]&&ue.test(e[i])&&ue.test(e[i+2])&&(e[i]+=e[i+2],e.splice(i+1,2),i--);return e};var ye=new B;ye.tokenize=function(o){var e=[],i=o.split(/(\n|\r\n)/);i[i.length-1]||i.pop();for(var n=0;n<i.length;n++){var t=i[n];n%2&&!this.options.newlineIsToken?e[e.length-1]+=t:(this.options.ignoreWhitespace&&(t=t.trim()),e.push(t))}return e};var ze=new B;ze.tokenize=function(o){return o.split(/(\S.+?[.!?])(?=\s+|$)/)};var Oe=new B;Oe.tokenize=function(o){return o.split(/([{}:;,]|\s+)/)};function K(o){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?K=function(e){return typeof e}:K=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(o)}var Re=Object.prototype.toString,Z=new B;Z.useLongestToken=!0;Z.tokenize=ye.tokenize;Z.castInput=function(o){var e=this.options,i=e.undefinedReplacement,n=e.stringifyReplacer,t=n===void 0?function(l,r){return typeof r>"u"?i:r}:n;return typeof o=="string"?o:JSON.stringify(te(o,null,null,t),t,"  ")};Z.equals=function(o,e){return B.prototype.equals.call(Z,o.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function te(o,e,i,n,t){e=e||[],i=i||[],n&&(o=n(t,o));var l;for(l=0;l<e.length;l+=1)if(e[l]===o)return i[l];var r;if(Re.call(o)==="[object Array]"){for(e.push(o),r=new Array(o.length),i.push(r),l=0;l<o.length;l+=1)r[l]=te(o[l],e,i,n,t);return e.pop(),i.pop(),r}if(o&&o.toJSON&&(o=o.toJSON()),K(o)==="object"&&o!==null){e.push(o),r={},i.push(r);var s=[],f;for(f in o)o.hasOwnProperty(f)&&s.push(f);for(s.sort(),l=0;l<s.length;l+=1)f=s[l],r[f]=te(o[f],e,i,n,f);e.pop(),i.pop()}else r=o;return r}var ne=new B;ne.tokenize=function(o){return o.slice()};ne.join=ne.removeEmpty=function(o){return o};function ae(o,e,i){const n=o.slice();return n[19]=e[i],n}function pe(o,e,i){const n=o.slice();return n[19]=e[i],n}function ce(o,e,i){const n=o.slice();return n[19]=e[i],n}function he(o){let e,i=o[7],n=[];for(let t=0;t<i.length;t+=1)n[t]=de(ce(o,i,t));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=P()},l(t){for(let l=0;l<n.length;l+=1)n[l].l(t);e=P()},m(t,l){for(let r=0;r<n.length;r+=1)n[r].m(t,l);A(t,e,l)},p(t,l){if(l&128){i=t[7];let r;for(r=0;r<i.length;r+=1){const s=ce(t,i,r);n[r]?n[r].p(s,l):(n[r]=de(s),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=i.length}},d(t){ie(n,t),t&&E(e)}}}function de(o){let e=o[19].id+"",i;return{c(){i=q(e)},l(n){i=V(n,e)},m(n,t){A(n,i,t)},p(n,t){t&128&&e!==(e=n[19].id+"")&&oe(i,e)},d(n){n&&E(i)}}}function _e(o){let e,i=o[8],n=[];for(let t=0;t<i.length;t+=1)n[t]=ve(pe(o,i,t));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=P()},l(t){for(let l=0;l<n.length;l+=1)n[l].l(t);e=P()},m(t,l){for(let r=0;r<n.length;r+=1)n[r].m(t,l);A(t,e,l)},p(t,l){if(l&256){i=t[8];let r;for(r=0;r<i.length;r+=1){const s=pe(t,i,r);n[r]?n[r].p(s,l):(n[r]=ve(s),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=i.length}},d(t){ie(n,t),t&&E(e)}}}function ve(o){let e=o[19].id+"",i;return{c(){i=q(e)},l(n){i=V(n,e)},m(n,t){A(n,i,t)},p(n,t){t&256&&e!==(e=n[19].id+"")&&oe(i,e)},d(n){n&&E(i)}}}function me(o){let e,i=o[9],n=[];for(let t=0;t<i.length;t+=1)n[t]=ge(ae(o,i,t));return{c(){for(let t=0;t<n.length;t+=1)n[t].c();e=P()},l(t){for(let l=0;l<n.length;l+=1)n[l].l(t);e=P()},m(t,l){for(let r=0;r<n.length;r+=1)n[r].m(t,l);A(t,e,l)},p(t,l){if(l&512){i=t[9];let r;for(r=0;r<i.length;r+=1){const s=ae(t,i,r);n[r]?n[r].p(s,l):(n[r]=ge(s),n[r].c(),n[r].m(e.parentNode,e))}for(;r<n.length;r+=1)n[r].d(1);n.length=i.length}},d(t){ie(n,t),t&&E(e)}}}function ge(o){let e,i=o[19].value+"",n;return{c(){e=I("span"),n=q(i),this.h()},l(t){e=L(t,"SPAN",{style:!0});var l=G(e);n=V(l,i),l.forEach(E),this.h()},h(){j(e,"background-color",o[19].added?"#90ee9061":o[19].removed?"#ff000038":"white"),j(e,"color",o[19].added?"green":o[19].removed?"red":"gray")},m(t,l){A(t,e,l),c(e,n)},p(t,l){l&512&&i!==(i=t[19].value+"")&&oe(n,i),l&512&&j(e,"background-color",t[19].added?"#90ee9061":t[19].removed?"#ff000038":"white"),l&512&&j(e,"color",t[19].added?"green":t[19].removed?"red":"gray")},d(t){t&&E(e)}}}function qe(o){let e,i,n,t,l,r,s,f,u,_,h,v,d,N,p,D,T,k,O,U,J,z,Q,W,S,$,x,Y,H,ee,le,m=o[5]&&he(o),g=o[6]&&_e(o),w=o[9].length>0&&me(o);return{c(){e=I("h1"),i=q("test"),n=F(),t=I("main"),l=I("div"),r=q("Xpath: "),s=I("input"),f=q(`
		VersionID_1: `),u=I("input"),_=q(`
		VersionID_2: `),h=I("input"),v=q(`
		Token: `),d=I("input"),N=q(`
		URL: `),p=I("input"),D=F(),T=I("button"),k=q("Show Diff"),O=F(),m&&m.c(),U=F(),J=I("br"),z=I("br"),Q=F(),g&&g.c(),W=F(),S=I("br"),$=I("br"),x=F(),w&&w.c(),Y=F(),H=I("pre"),this.h()},l(a){e=L(a,"H1",{});var C=G(e);i=V(C,"test"),C.forEach(E),n=M(a),t=L(a,"MAIN",{});var y=G(t);l=L(y,"DIV",{});var b=G(l);r=V(b,"Xpath: "),s=L(b,"INPUT",{}),f=V(b,`
		VersionID_1: `),u=L(b,"INPUT",{}),_=V(b,`
		VersionID_2: `),h=L(b,"INPUT",{}),v=V(b,`
		Token: `),d=L(b,"INPUT",{}),N=V(b,`
		URL: `),p=L(b,"INPUT",{}),D=M(b),T=L(b,"BUTTON",{});var re=G(T);k=V(re,"Show Diff"),re.forEach(E),b.forEach(E),O=M(y),m&&m.l(y),U=M(y),J=L(y,"BR",{}),z=L(y,"BR",{}),Q=M(y),g&&g.l(y),W=M(y),S=L(y,"BR",{}),$=L(y,"BR",{}),x=M(y),w&&w.l(y),Y=M(y),H=L(y,"PRE",{id:!0}),G(H).forEach(E),y.forEach(E),this.h()},h(){Le(H,"id","display")},m(a,C){A(a,e,C),c(e,i),A(a,n,C),A(a,t,C),c(t,l),c(l,r),c(l,s),R(s,o[4]),c(l,f),c(l,u),R(u,o[2]),c(l,_),c(l,h),R(h,o[3]),c(l,v),c(l,d),R(d,o[0]),c(l,N),c(l,p),R(p,o[1]),c(l,D),c(l,T),c(T,k),c(t,O),m&&m.m(t,null),c(t,U),c(t,J),c(t,z),c(t,Q),g&&g.m(t,null),c(t,W),c(t,S),c(t,$),c(t,x),w&&w.m(t,null),c(t,Y),c(t,H),ee||(le=[X(s,"input",o[11]),X(u,"input",o[12]),X(h,"input",o[13]),X(d,"input",o[14]),X(p,"input",o[15]),X(T,"click",o[10])],ee=!0)},p(a,[C]){C&16&&s.value!==a[4]&&R(s,a[4]),C&4&&u.value!==a[2]&&R(u,a[2]),C&8&&h.value!==a[3]&&R(h,a[3]),C&1&&d.value!==a[0]&&R(d,a[0]),C&2&&p.value!==a[1]&&R(p,a[1]),a[5]?m?m.p(a,C):(m=he(a),m.c(),m.m(t,U)):m&&(m.d(1),m=null),a[6]?g?g.p(a,C):(g=_e(a),g.c(),g.m(t,W)):g&&(g.d(1),g=null),a[9].length>0?w?w.p(a,C):(w=me(a),w.c(),w.m(t,Y)):w&&(w.d(1),w=null)},i:se,o:se,d(a){a&&E(e),a&&E(n),a&&E(t),m&&m.d(),g&&g.d(),w&&w.d(),ee=!1,Ee(le)}}}let Ve="https://www.bexis.uni-jena.de/api/Dataset",Ue="https://www.bexis.uni-jena.de/api/MetadataStatistic";async function Ae(){const e=await(await fetch(Ve,{method:"GET"})).json();return console.log(e),e}function Be(o,e,i){Ae();let n="",t={Accept:"*/*",Authorization:"Bearer "+n,"Content-Type":"application/json"},l="",r="https://www.bexis.uni-jena.de",s=9547,f=9836,u="Metadata/methods/methodsType/studyDesign/studyDesignType/detailedDescriptionOfStudyDesign/",_,h,v=[],d=[],N=[];async function p(z){const W=await(await fetch(Ue,{method:"POST",body:z,headers:t})).json();return console.log(d),W}async function D(){i(7,v=[]),i(8,d=[]),l=JSON.stringify({Xpath:u,DatasetVersionIdsInclude:[""+s]}),i(5,_=await p(l));for(let z in _)i(7,v=[...v,{id:z,value:_[z].data}]);l=JSON.stringify({Xpath:u,DatasetVersionIdsInclude:[""+f]}),i(6,h=await p(l));for(let z in h)i(8,d=[...d,{id:z,value:h[z].data}]);i(9,N=ke(v[0].id,d[0].id)),console.log(N)}function T(){u=this.value,i(4,u)}function k(){s=this.value,i(2,s)}function O(){f=this.value,i(3,f)}function U(){n=this.value,i(0,n)}function J(){r=this.value,i(1,r)}return[n,r,s,f,u,_,h,v,d,N,D,T,k,O,U,J]}class Fe extends De{constructor(e){super(),Ce(this,e,Be,qe,Ie,{})}}export{Fe as default};
